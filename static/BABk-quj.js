import{R as K}from"./D8ccWnmM.js";const Ek=[{title:"Series",chartType:"series",list:[{title:"Bubbles",description:"Bubble Chart",descriptionZh:"泡泡圖",mainPluginNames:["Bubbles"],list:[{title:"PRESET_SERIES_BASIC",presetName:"PRESET_SERIES_BASIC",allPluginNames:["Bubbles","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./0eJhi8kD.js"),[],import.meta.url)},{title:"PRESET_BUBBLES_SCALING_BY_RADIUS",presetName:"PRESET_BUBBLES_SCALING_BY_RADIUS",allPluginNames:["Bubbles","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./0eJhi8kD.js"),[],import.meta.url)},{title:"PRESET_BUBBLES_SEPARATE_SERIES",presetName:"PRESET_BUBBLES_SEPARATE_SERIES",allPluginNames:["Bubbles","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./0eJhi8kD.js"),[],import.meta.url)},{title:"PRESET_SERIES_SUM_SERIES",presetName:"PRESET_SERIES_SUM_SERIES",allPluginNames:["Bubbles","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./0eJhi8kD.js"),[],import.meta.url)}]},{title:"Pie",description:"Pie Chart",descriptionZh:"圓餅圖",mainPluginNames:["Pie"],list:[{title:"PRESET_SERIES_BASIC",presetName:"PRESET_SERIES_BASIC",allPluginNames:["Pie","PieLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_PIE_WITH_INNER_LABELS",presetName:"PRESET_PIE_WITH_INNER_LABELS",allPluginNames:["Pie","PieLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_PIE_DONUT",presetName:"PRESET_PIE_DONUT",allPluginNames:["Pie","PieLabels","PieEventTexts","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_PIE_HALF_DONUT",presetName:"PRESET_PIE_HALF_DONUT",allPluginNames:["Pie","PieLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_SERIES_DESC",presetName:"PRESET_SERIES_DESC",allPluginNames:["Pie","PieLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_SERIES_SEPARATE_SERIES",presetName:"PRESET_SERIES_SEPARATE_SERIES",allPluginNames:["Pie","PieLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_SERIES_SUM_SERIES",presetName:"PRESET_SERIES_SUM_SERIES",allPluginNames:["Pie","PieLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)}]},{title:"Rose",description:"Rose Chart",descriptionZh:"玫瑰圖",mainPluginNames:["Rose"],list:[{title:"PRESET_SERIES_BASIC",presetName:"PRESET_SERIES_BASIC",allPluginNames:["Rose","RoseLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_ROSE_SCALING_BY_RADIUS",presetName:"PRESET_ROSE_SCALING_BY_RADIUS",allPluginNames:["Rose","RoseLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_SERIES_DESC",presetName:"PRESET_SERIES_DESC",allPluginNames:["Rose","RoseLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_SERIES_SEPARATE_SERIES",presetName:"PRESET_SERIES_SEPARATE_SERIES",allPluginNames:["Rose","RoseLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_SERIES_SUM_SERIES",presetName:"PRESET_SERIES_SUM_SERIES",allPluginNames:["Rose","RoseLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)},{title:"PRESET_SERIES_SEPARATE_SERIES_AND_SUM_SERIES",presetName:"PRESET_SERIES_SEPARATE_SERIES_AND_SUM_SERIES",allPluginNames:["Rose","RoseLabels","SeriesLegend","Tooltip"],getData:()=>K(()=>import("./BZe9FG3B.js"),[],import.meta.url)}]}]},{title:"Grid",chartType:"grid",list:[{title:"Bars",description:"Bar Chart",descriptionZh:"長條圖",mainPluginNames:["Bars"],list:[{title:"PRESET_GRID_BASIC",presetName:"PRESET_GRID_BASIC",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_ROTATE_AXIS_LABEL",presetName:"PRESET_GRID_ROTATE_AXIS_LABEL",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_HORIZONTAL",presetName:"PRESET_GRID_HORIZONTAL",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_BARS_ROUND",presetName:"PRESET_BARS_ROUND",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_BARS_HORIZONTAL_AND_ROUND",presetName:"PRESET_BARS_HORIZONTAL_AND_ROUND",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_BARS_THIN",presetName:"PRESET_BARS_THIN",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_BARS_HORIZONTAL_AND_THIN",presetName:"PRESET_BARS_HORIZONTAL_AND_THIN",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_SEPARATE_SERIES",presetName:"PRESET_GRID_SEPARATE_SERIES",allPluginNames:["GroupAxis","ValueAxis","Bars","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)}]},{title:"BarsPN",description:"Positive and Negative Bar Chart",descriptionZh:"正負長條圖",mainPluginNames:["BarsPN"],list:[{title:"PRESET_GRID_PN_SCALE",presetName:"PRESET_GRID_PN_SCALE",allPluginNames:["GroupAxis","ValueAxis","BarsPN","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./Bv3aulWM.js"),[],import.meta.url)}]},{title:"BarStack",description:"Stacked Bar Chart",descriptionZh:"堆疊長條圖",mainPluginNames:["BarStack"],list:[{title:"PRESET_GRID_BASIC",presetName:"PRESET_GRID_BASIC",allPluginNames:["GroupAxis","ValueStackAxis","BarStack","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_ROTATE_AXIS_LABEL",presetName:"PRESET_GRID_ROTATE_AXIS_LABEL",allPluginNames:["GroupAxis","ValueStackAxis","BarStack","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_HORIZONTAL",presetName:"PRESET_GRID_HORIZONTAL",allPluginNames:["GroupAxis","ValueStackAxis","BarStack","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_SEPARATE_SERIES",presetName:"PRESET_GRID_SEPARATE_SERIES",allPluginNames:["GroupAxis","ValueStackAxis","BarStack","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)}]},{title:"BarsTriangle",description:"Triangle Bar Chart",descriptionZh:"三角形長條圖",mainPluginNames:["BarsTriangle"],list:[{title:"PRESET_GRID_BASIC",presetName:"PRESET_GRID_BASIC",allPluginNames:["GroupAxis","ValueAxis","BarsTriangle","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_ROTATE_AXIS_LABEL",presetName:"PRESET_GRID_ROTATE_AXIS_LABEL",allPluginNames:["GroupAxis","ValueAxis","BarsTriangle","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_HORIZONTAL",presetName:"PRESET_GRID_HORIZONTAL",allPluginNames:["GroupAxis","ValueAxis","BarsTriangle","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_SEPARATE_SERIES",presetName:"PRESET_GRID_SEPARATE_SERIES",allPluginNames:["GroupAxis","ValueAxis","BarsTriangle","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)}]},{title:"Lines",description:"Line Chart",descriptionZh:"折線圖",mainPluginNames:["Lines"],list:[{title:"PRESET_LINES_BASIC",presetName:"PRESET_LINES_BASIC",allPluginNames:["GroupAxis","ValueAxis","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_LINES_ROTATE_AXIS_LABEL",presetName:"PRESET_LINES_ROTATE_AXIS_LABEL",allPluginNames:["GroupAxis","ValueAxis","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./fFN4KK-3.js"),[],import.meta.url)},{title:"PRESET_LINES_LOOSE_TICKS",presetName:"PRESET_LINES_LOOSE_TICKS",allPluginNames:["GroupAxis","ValueAxis","Lines","GroupAux","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./fFN4KK-3.js"),[],import.meta.url)},{title:"PRESET_LINES_HORIZONTAL",presetName:"PRESET_LINES_HORIZONTAL",allPluginNames:["GroupAxis","ValueAxis","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_LINES_CURVE",presetName:"PRESET_LINES_CURVE",allPluginNames:["GroupAxis","ValueAxis","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_LINES_HIGHLIGHT_GROUP_DOTS",presetName:"PRESET_LINES_HIGHLIGHT_GROUP_DOTS",allPluginNames:["GroupAxis","ValueAxis","Lines","GroupAux","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_GRID_SEPARATE_SERIES",presetName:"PRESET_GRID_SEPARATE_SERIES",allPluginNames:["GroupAxis","ValueAxis","Lines","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)}]},{title:"LineAreas",description:"Area Chart",descriptionZh:"區域圖",mainPluginNames:["LineAreas"],list:[{title:"PRESET_LINE_AREAS_BASIC",presetName:"PRESET_LINE_AREAS_BASIC",allPluginNames:["GroupAxis","ValueAxis","LineAreas","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_LINE_AREAS_ROTATE_AXIS_LABEL",presetName:"PRESET_LINE_AREAS_ROTATE_AXIS_LABEL",allPluginNames:["GroupAxis","ValueAxis","LineAreas","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./fFN4KK-3.js"),[],import.meta.url)},{title:"PRESET_LINE_AREAS_LOOSE_TICKS",presetName:"PRESET_LINE_AREAS_LOOSE_TICKS",allPluginNames:["GroupAxis","ValueAxis","LineAreas","Lines","GroupAux","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./fFN4KK-3.js"),[],import.meta.url)},{title:"PRESET_LINE_AREAS_HORIZONTAL",presetName:"PRESET_LINE_AREAS_HORIZONTAL",allPluginNames:["GroupAxis","ValueAxis","LineAreas","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_LINE_AREAS_CURVE",presetName:"PRESET_LINE_AREAS_CURVE",allPluginNames:["GroupAxis","ValueAxis","LineAreas","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_LINE_AREAS_HIGHLIGHT_GROUP_DOTS",presetName:"PRESET_LINE_AREAS_HIGHLIGHT_GROUP_DOTS",allPluginNames:["GroupAxis","ValueAxis","LineAreas","Lines","GroupAux","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)},{title:"PRESET_LINE_AREAS_SEPARATE_SERIES",presetName:"PRESET_LINE_AREAS_SEPARATE_SERIES",allPluginNames:["GroupAxis","ValueAxis","LineAreas","Lines","Dots","ScalingArea","GridLegend","Tooltip"],getData:()=>K(()=>import("./KeXCp6cj.js"),[],import.meta.url)}]}]},{title:"MultiGrid",chartType:"multiGrid",list:[{title:"MultiBars",description:"Multi Bar Chart",descriptionZh:"多組長條圖",mainPluginNames:["MultiBars"],list:[{title:"PRESET_MULTI_GRID_DIVERGING",presetName:"PRESET_MULTI_GRID_DIVERGING",allPluginNames:["MultiGroupAxis","MultiValueAxis","MultiBars","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./lpif6x3Y.js"),[],import.meta.url)},{title:"PRESET_MULTI_GRID_SEPARATE_GRID",presetName:"PRESET_MULTI_GRID_SEPARATE_GRID",allPluginNames:["MultiGroupAxis","MultiValueAxis","MultiBars","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./lpif6x3Y.js"),[],import.meta.url)}]},{title:"MultiBarStack",description:"Multi Stacked Bar Chart",descriptionZh:"多組堆疊長條圖",mainPluginNames:["MultiBarStack"],list:[{title:"PRESET_MULTI_GRID_SEPARATE_GRID",presetName:"PRESET_MULTI_GRID_SEPARATE_GRID",allPluginNames:["MultiGroupAxis","MultiValueStackAxis","MultiBarStack","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./Chuj4Zan.js"),[],import.meta.url)}]},{title:"MultiBarsTriangle",description:"Multi Triangle Bar Chart",descriptionZh:"多組三角形長條圖",mainPluginNames:["MultiBarsTriangle"],list:[{title:"PRESET_MULTI_GRID_SEPARATE_GRID",presetName:"PRESET_MULTI_GRID_SEPARATE_GRID",allPluginNames:["MultiGroupAxis","MultiValueAxis","MultiBarsTriangle","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./Chuj4Zan.js"),[],import.meta.url)}]},{title:"MultiLines",description:"Multi Line Chart",descriptionZh:"多組折線圖",mainPluginNames:["MultiLines"],list:[{title:"PRESET_MULTI_LINES_SEPARATE_GRID",presetName:"PRESET_MULTI_LINES_SEPARATE_GRID",allPluginNames:["MultiGroupAxis","MultiValueAxis","MultiLines","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./Chuj4Zan.js"),[],import.meta.url)}]},{title:"MultiLineAreas",description:"Multi Area Chart",descriptionZh:"多組區域圖",mainPluginNames:["MultiLineAreas"],list:[{title:"PRESET_MULTI_LINE_AREAS_SEPARATE_GRID",presetName:"PRESET_MULTI_LINE_AREAS_SEPARATE_GRID",allPluginNames:["MultiGroupAxis","MultiValueAxis","MultiLineAreas","MultiLines","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./Chuj4Zan.js"),[],import.meta.url)}]},{title:"MultiBars, MultiLines",description:"Dual-Axis Bar and Line Chart",descriptionZh:"雙圖軸長條及折線圖",mainPluginNames:["MultiBars","MultiLines"],list:[{title:"PRESET_MULTI_GRID_BASIC",presetName:"PRESET_MULTI_GRID_BASIC",allPluginNames:["MultiGroupAxis","OverlappingValueAxes","MultiBars","MultiLines","MultiDots","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./lpif6x3Y.js"),[],import.meta.url)},{title:"PRESET_MULTI_GRID_ROUND_STYLE",presetName:"PRESET_MULTI_GRID_ROUND_STYLE",allPluginNames:["MultiGroupAxis","OverlappingValueAxes","MultiBars","MultiLines","MultiDots","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./lpif6x3Y.js"),[],import.meta.url)}]},{title:"MultiBarStack, MultiLines",description:"Dual-Axis Stacked Bar and Line Chart",descriptionZh:"雙圖軸堆疊長條及折線圖",mainPluginNames:["MultiBarStack","MultiLines"],list:[{title:"PRESET_MULTI_GRID_BASIC",presetName:"PRESET_MULTI_GRID_BASIC",allPluginNames:["MultiGroupAxis","OverlappingValueStackAxes","MultiBarStack","MultiLines","MultiDots","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./lpif6x3Y.js"),[],import.meta.url)}]},{title:"MultiBarsTriangle, MultiLines",description:"Dual-Axis Triangle Bar and Line Chart",descriptionZh:"雙圖軸三角形長條及折線圖",mainPluginNames:["MultiBarsTriangle","MultiLines"],list:[{title:"PRESET_MULTI_GRID_BASIC",presetName:"PRESET_MULTI_GRID_BASIC",allPluginNames:["MultiGroupAxis","OverlappingValueAxes","MultiBarsTriangle","MultiLines","MultiDots","MultiGridLegend","Tooltip"],getData:()=>K(()=>import("./lpif6x3Y.js"),[],import.meta.url)}]}]},{title:"Tree",chartType:"tree",list:[{title:"TreeMap",description:"Tree Map Chart",descriptionZh:"樹狀圖",mainPluginNames:["TreeMap"],list:[{title:"PRESET_TREE_BASIC",presetName:"PRESET_TREE_BASIC",allPluginNames:["TreeMap","TreeLegend","Tooltip"],getData:()=>K(()=>import("./J2xznaE4.js"),[],import.meta.url)}]}]}],B0={lineCurve:"curveLinear",lineWidth:2},z0={lineCurve:"curveLinear",linearGradientOpacity:[1,0]},H0={radius:4,fillColorType:"white",strokeColorType:"series",strokeWidth:2,onlyShowHighlighted:!1},sf={showLine:!0,showLabel:!0,lineDashArray:"3, 3",lineColorType:"primary",labelColorType:"primary",labelTextColorType:"background",labelTextFormat:t=>t,labelPadding:24};sf.labelTextFormat.toString=()=>"text => text";const Gs={barWidth:0,barPadding:1,barGroupPadding:40,barRadius:!1},Ax={...Gs},j0={barWidth:0,barGroupPadding:10,barRadius:!1},U0={barWidth:0,barPadding:1,barGroupPadding:20,linearGradientOpacity:[1,0]},uf={labelOffset:[0,0],labelColorType:"primary",axisLineVisible:!0,axisLineColorType:"primary",ticks:"all",tickFormat:t=>t,tickLineVisible:!0,tickPadding:20,tickFullLine:!1,tickFullLineDasharray:"none",tickColorType:"secondary",tickTextRotate:0,tickTextColorType:"primary"};uf.tickFormat.toString=()=>"text => text";const lf={labelOffset:[0,0],labelColorType:"primary",axisLineVisible:!1,axisLineColorType:"primary",ticks:null,tickFormat:",.0f",tickLineVisible:!0,tickPadding:20,tickFullLine:!0,tickFullLineDasharray:"none",tickColorType:"secondary",tickTextRotate:0,tickTextColorType:"primary"},V0={...lf},Y0={},W0={position:"right",justify:"end",padding:28,backgroundFill:"none",backgroundStroke:"none",gap:10,listRectWidth:14,listRectHeight:14,listRectRadius:0,textColorType:"primary"};var kl=function(t,e){return kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},kl(t,e)};function Kn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Px(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,[])).next())})}function X0(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ir(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Oi(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Pr(t){return this instanceof Pr?(this.v=t,this):new Pr(t)}function wx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(p){return Promise.resolve(p).then(d,h)}}function s(d,p){r[d]&&(i[d]=function(g){return new Promise(function(m,y){a.push([d,g,m,y])>1||l(d,g)})},p&&(i[d]=p(i[d])))}function l(d,p){try{u(r[d](p))}catch(g){f(a[0][3],g)}}function u(d){d.value instanceof Pr?Promise.resolve(d.value.v).then(c,h):f(a[0][2],d)}function c(d){l("next",d)}function h(d){l("throw",d)}function f(d,p){d(p),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Tx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rr=="function"?Rr(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function vt(t){return typeof t=="function"}function cf(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fu=cf(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Gl(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Os=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Rr(o),l=s.next();!l.done;l=s.next()){var u=l.value;u.remove(this)}}catch(g){e={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(vt(c))try{c()}catch(g){a=g instanceof Fu?g.errors:[g]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Rr(h),d=f.next();!d.done;d=f.next()){var p=d.value;try{sd(p)}catch(g){a=a??[],g instanceof Fu?a=Oi(Oi([],Ir(a)),Ir(g.errors)):a.push(g)}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(a)throw new Fu(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)sd(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Gl(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Gl(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),q0=Os.EMPTY;function Z0(t){return t instanceof Os||t&&"closed"in t&&vt(t.remove)&&vt(t.add)&&vt(t.unsubscribe)}function sd(t){vt(t)?t():t.unsubscribe()}var Q0={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ex={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Oi([t,e],Ir(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function J0(t){Ex.setTimeout(function(){throw t})}function Ol(){}function ho(t){t()}var ff=function(t){Kn(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Z0(n)&&n.add(r)):r.destination=Mx,r}return e.create=function(n,r,i){return new Fi(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Os),$x=Function.prototype.bind;function Bu(t,e){return $x.call(t,e)}var Dx=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Oa(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Oa(r)}else Oa(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Oa(n)}},t}(),Fi=function(t){Kn(e,t);function e(n,r,i){var a=t.call(this)||this,o;if(vt(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;a&&Q0.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return a.unsubscribe()},o={next:n.next&&Bu(n.next,s),error:n.error&&Bu(n.error,s),complete:n.complete&&Bu(n.complete,s)}):o=n}return a.destination=new Dx(o),a}return e}(ff);function Oa(t){J0(t)}function Lx(t){throw t}var Mx={closed:!0,next:Ol,error:Lx,complete:Ol},hf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ti(t){return t}function Rx(t){return t.length===0?ti:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var dt=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,a=Cx(e)?e:new Fi(e,n,r);return ho(function(){var o=i,s=o.operator,l=o.source;a.add(s?s.call(a,l):l?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=ud(n),new n(function(i,a){var o=new Fi({next:function(s){try{e(s)}catch(l){a(l),o.unsubscribe()}},error:a,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[hf]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Rx(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=ud(e),new e(function(r,i){var a;n.subscribe(function(o){return a=o},function(o){return i(o)},function(){return r(a)})})},t.create=function(e){return new t(e)},t}();function ud(t){var e;return(e=t??Q0.Promise)!==null&&e!==void 0?e:Promise}function Ix(t){return t&&vt(t.next)&&vt(t.error)&&vt(t.complete)}function Cx(t){return t&&t instanceof ff||Ix(t)&&Z0(t)}function Nx(t){return vt(t==null?void 0:t.lift)}function be(t){return function(e){if(Nx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new kx(t,e,n,r,i)}var kx=function(t){Kn(e,t);function e(n,r,i,a,o,s){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=s,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=a?function(u){try{a(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(ff),Gx=cf(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),et=function(t){Kn(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new ld(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Gx},e.prototype.next=function(n){var r=this;ho(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Rr(r.currentObservers),s=o.next();!s.done;s=o.next()){var l=s.value;l.next(n)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;ho(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;ho(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,o=i.isStopped,s=i.observers;return a||o?q0:(this.currentObservers=null,s.push(n),new Os(function(){r.currentObservers=null,Gl(s,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,o=r.isStopped;i?n.error(a):o&&n.complete()},e.prototype.asObservable=function(){var n=new dt;return n.source=this,n},e.create=function(n,r){return new ld(n,r)},e}(dt),ld=function(t){Kn(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:q0},e}(et),Ox=function(t){Kn(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,a=n._value;if(r)throw i;return this._throwIfClosed(),a},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(et),K0={now:function(){return(K0.delegate||Date).now()},delegate:void 0},Fx=function(t){Kn(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=K0);var a=t.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return e.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,o=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(a.push(n),!o&&a.push(s.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,o=i._buffer,s=o.slice(),l=0;l<s.length&&!n.closed;l+=a?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,o=n._infiniteTimeWindow,s=(o?1:2)*r;if(r<1/0&&s<a.length&&a.splice(0,a.length-s),!o){for(var l=i.now(),u=0,c=1;c<a.length&&a[c]<=l;c+=2)u=c;u&&a.splice(0,u+1)}},e}(et),tm=new dt(function(t){return t.complete()});function Bx(t){return t&&vt(t.schedule)}function df(t){return t[t.length-1]}function zx(t){return vt(df(t))?t.pop():void 0}function pf(t){return Bx(df(t))?t.pop():void 0}function Hx(t,e){return typeof df(t)=="number"?t.pop():e}var gf=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function em(t){return vt(t==null?void 0:t.then)}function nm(t){return vt(t[hf])}function rm(t){return Symbol.asyncIterator&&vt(t==null?void 0:t[Symbol.asyncIterator])}function im(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function jx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var am=jx();function om(t){return vt(t==null?void 0:t[am])}function sm(t){return wx(this,arguments,function(){var e,n,r,i;return X0(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Pr(e.read())];case 3:return n=a.sent(),r=n.value,i=n.done,i?[4,Pr(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Pr(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function um(t){return vt(t==null?void 0:t.getReader)}function ve(t){if(t instanceof dt)return t;if(t!=null){if(nm(t))return Ux(t);if(gf(t))return Vx(t);if(em(t))return Yx(t);if(rm(t))return lm(t);if(om(t))return Wx(t);if(um(t))return Xx(t)}throw im(t)}function Ux(t){return new dt(function(e){var n=t[hf]();if(vt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Vx(t){return new dt(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Yx(t){return new dt(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,J0)})}function Wx(t){return new dt(function(e){var n,r;try{for(var i=Rr(t),a=i.next();!a.done;a=i.next()){var o=a.value;if(e.next(o),e.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function lm(t){return new dt(function(e){qx(t,e).catch(function(n){return e.error(n)})})}function Xx(t){return lm(sm(t))}function qx(t,e){var n,r,i,a;return Px(this,void 0,void 0,function(){var o,s;return X0(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Tx(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function mn(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!i)return a}function cm(t,e){return e===void 0&&(e=0),be(function(n,r){n.subscribe(ce(r,function(i){return mn(r,t,function(){return r.next(i)},e)},function(){return mn(r,t,function(){return r.complete()},e)},function(i){return mn(r,t,function(){return r.error(i)},e)}))})}function fm(t,e){return e===void 0&&(e=0),be(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function Zx(t,e){return ve(t).pipe(fm(e),cm(e))}function Qx(t,e){return ve(t).pipe(fm(e),cm(e))}function Jx(t,e){return new dt(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Kx(t,e){return new dt(function(n){var r;return mn(n,e,function(){r=t[am](),mn(n,e,function(){var i,a,o;try{i=r.next(),a=i.value,o=i.done}catch(s){n.error(s);return}o?n.complete():n.next(a)},0,!0)}),function(){return vt(r==null?void 0:r.return)&&r.return()}})}function hm(t,e){if(!t)throw new Error("Iterable cannot be null");return new dt(function(n){mn(n,e,function(){var r=t[Symbol.asyncIterator]();mn(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function t2(t,e){return hm(sm(t),e)}function e2(t,e){if(t!=null){if(nm(t))return Zx(t,e);if(gf(t))return Jx(t,e);if(em(t))return Qx(t,e);if(rm(t))return hm(t,e);if(om(t))return Kx(t,e);if(um(t))return t2(t,e)}throw im(t)}function Fs(t,e){return e?e2(t,e):ve(t)}function Bs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pf(t);return Fs(t,n)}var dm=cf(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function F(t,e){return be(function(n,r){var i=0;n.subscribe(ce(r,function(a){r.next(t.call(e,a,i++))}))})}var n2=Array.isArray;function r2(t,e){return n2(e)?t.apply(void 0,Oi([],Ir(e))):t(e)}function pm(t){return F(function(e){return r2(t,e)})}var i2=Array.isArray,a2=Object.getPrototypeOf,o2=Object.prototype,s2=Object.keys;function u2(t){if(t.length===1){var e=t[0];if(i2(e))return{args:e,keys:null};if(l2(e)){var n=s2(e);return{args:n.map(function(r){return e[r]}),keys:n}}}return{args:t,keys:null}}function l2(t){return t&&typeof t=="object"&&a2(t)===o2}function c2(t,e){return t.reduce(function(n,r,i){return n[r]=e[i],n},{})}function j(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pf(t),r=zx(t),i=u2(t),a=i.args,o=i.keys;if(a.length===0)return Fs([],n);var s=new dt(f2(a,n,o?function(l){return c2(o,l)}:ti));return r?s.pipe(pm(r)):s}function f2(t,e,n){return n===void 0&&(n=ti),function(r){cd(e,function(){for(var i=t.length,a=new Array(i),o=i,s=i,l=function(c){cd(e,function(){var h=Fs(t[c],e),f=!1;h.subscribe(ce(r,function(d){a[c]=d,f||(f=!0,s--),s||r.next(n(a.slice()))},function(){--o||r.complete()}))},r)},u=0;u<i;u++)l(u)},r)}}function cd(t,e,n){t?mn(n,t,e):e()}function h2(t,e,n,r,i,a,o,s){var l=[],u=0,c=0,h=!1,f=function(){h&&!l.length&&!u&&e.complete()},d=function(g){return u<r?p(g):l.push(g)},p=function(g){u++;var m=!1;ve(n(g,c++)).subscribe(ce(e,function(y){e.next(y)},function(){m=!0},void 0,function(){if(m)try{u--;for(var y=function(){var _=l.shift();o||p(_)};l.length&&u<r;)y();f()}catch(_){e.error(_)}}))};return t.subscribe(ce(e,d,function(){h=!0,f()})),function(){}}function mf(t,e,n){return n===void 0&&(n=1/0),vt(e)?mf(function(r,i){return F(function(a,o){return e(r,a,i,o)})(ve(t(r,i)))},n):(typeof e=="number"&&(n=e),be(function(r,i){return h2(r,i,t,n)}))}function d2(t){return t===void 0&&(t=1/0),mf(ti,t)}function p2(t){return new dt(function(e){ve(t()).subscribe(e)})}var g2=["addListener","removeListener"],m2=["addEventListener","removeEventListener"],y2=["on","off"];function Fl(t,e,n,r){if(vt(n)&&(r=n,n=void 0),r)return Fl(t,e,n).pipe(pm(r));var i=Ir(_2(t)?m2.map(function(s){return function(l){return t[s](e,l,n)}}):b2(t)?g2.map(fd(t,e)):v2(t)?y2.map(fd(t,e)):[],2),a=i[0],o=i[1];if(!a&&gf(t))return mf(function(s){return Fl(s,e,n)})(ve(t));if(!a)throw new TypeError("Invalid event target");return new dt(function(s){var l=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return s.next(1<u.length?u:u[0])};return a(l),function(){return o(l)}})}function fd(t,e){return function(n){return function(r){return t[n](e,r)}}}function b2(t){return vt(t.addListener)&&vt(t.removeListener)}function v2(t){return vt(t.on)&&vt(t.off)}function _2(t){return vt(t.addEventListener)&&vt(t.removeEventListener)}function x2(t,e,n){return p2(function(){return t()?e:n})}function Bl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pf(t),r=Hx(t,1/0),i=t;return i.length?i.length===1?ve(i[0]):d2(r)(Fs(i,n)):tm}function Bi(t,e){return be(function(n,r){var i=0;n.subscribe(ce(r,function(a){return t.call(e,a,i++)&&r.next(a)}))})}function S2(t){return be(function(e,n){var r=!1;e.subscribe(ce(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}function A2(t){return t<=0?function(){return tm}:be(function(e,n){var r=0;e.subscribe(ce(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function nt(t,e){return e===void 0&&(e=ti),t=t??P2,be(function(n,r){var i,a=!0;n.subscribe(ce(r,function(o){var s=e(o);(a||!t(i,s))&&(a=!1,i=s,r.next(o))}))})}function P2(t,e){return t===e}function w2(t){return t===void 0&&(t=T2),be(function(e,n){var r=!1;e.subscribe(ce(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}function T2(){return new dm}function E2(t,e){var n=arguments.length>=2;return function(r){return r.pipe(ti,A2(1),n?S2(e):w2(function(){return new dm}))}}function $2(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new et}:e,r=t.resetOnError,i=r===void 0?!0:r,a=t.resetOnComplete,o=a===void 0?!0:a,s=t.resetOnRefCountZero,l=s===void 0?!0:s;return function(u){var c,h,f,d=0,p=!1,g=!1,m=function(){h==null||h.unsubscribe(),h=void 0},y=function(){m(),c=f=void 0,p=g=!1},_=function(){var v=c;y(),v==null||v.unsubscribe()};return be(function(v,b){d++,!g&&!p&&m();var A=f=f??n();b.add(function(){d--,d===0&&!g&&!p&&(h=zu(_,l))}),A.subscribe(b),!c&&d>0&&(c=new Fi({next:function($){return A.next($)},error:function($){g=!0,m(),h=zu(y,i,$),A.error($)},complete:function(){p=!0,m(),h=zu(y,o),A.complete()}}),ve(v).subscribe(c))})(u)}}function zu(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new Fi({next:function(){i.unsubscribe(),t()}});return ve(e.apply(void 0,Oi([],Ir(n)))).subscribe(i)}}function Dt(t,e,n){var r,i=!1;return r=t,$2({connector:function(){return new Fx(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function U(t,e){return be(function(n,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};n.subscribe(ce(r,function(l){i==null||i.unsubscribe();var u=0,c=a++;ve(t(l,c)).subscribe(i=ce(r,function(h){return r.next(e?e(l,h,c,u++):h)},function(){i=null,s()}))},function(){o=!0,s()}))})}function C(t){return be(function(e,n){ve(t).subscribe(ce(n,function(){return n.complete()},Ol)),!n.closed&&e.subscribe(n)})}const lr={position:"left",scaleDomain:[0,"auto"],scaleRange:[0,.9],label:""};function po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D2(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gm(t){let e,n,r;t.length!==2?(e=po,n=(s,l)=>po(t(s),l),r=(s,l)=>t(s)-l):(e=t===po||t===D2?t:L2,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function L2(){return 0}function M2(t){return t===null?NaN:+t}const R2=gm(po),mm=R2.right;gm(M2).center;class hd extends Map{constructor(e,n=N2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dd(this,e))}has(e){return super.has(dd(this,e))}set(e,n){return super.set(I2(this,e),n)}delete(e){return super.delete(C2(this,e))}}function dd({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function I2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function C2({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function N2(t){return t!==null&&typeof t=="object"?t.valueOf():t}const k2=Math.sqrt(50),G2=Math.sqrt(10),O2=Math.sqrt(2);function No(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=k2?10:a>=G2?5:a>=O2?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?No(t,e,n*2):[s,l,u]}function F2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?No(e,t,n):No(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function zl(t,e,n){return e=+e,t=+t,n=+n,No(t,e,n)[2]}function B2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?zl(e,t,n):zl(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function z2(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var H2={value:()=>{}};function ym(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new go(n)}function go(t){this._=t}function j2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}go.prototype=ym.prototype={constructor:go,on:function(t,e){var n=this._,r=j2(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=U2(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=pd(n[i],t.name,e);else if(e==null)for(i in n)n[i]=pd(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new go(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function U2(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function pd(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=H2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Hl="http://www.w3.org/1999/xhtml";const gd={svg:"http://www.w3.org/2000/svg",xhtml:Hl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zs(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gd.hasOwnProperty(e)?{space:gd[e],local:t}:t}function V2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Hl&&e.documentElement.namespaceURI===Hl?e.createElement(t):e.createElementNS(n,t)}}function Y2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bm(t){var e=zs(t);return(e.local?Y2:V2)(e)}function W2(){}function yf(t){return t==null?W2:function(){return this.querySelector(t)}}function X2(t){typeof t!="function"&&(t=yf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new $e(r,this._parents)}function q2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Z2(){return[]}function vm(t){return t==null?Z2:function(){return this.querySelectorAll(t)}}function Q2(t){return function(){return q2(t.apply(this,arguments))}}function J2(t){typeof t=="function"?t=Q2(t):t=vm(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new $e(r,i)}function _m(t){return function(){return this.matches(t)}}function xm(t){return function(e){return e.matches(t)}}var K2=Array.prototype.find;function tS(t){return function(){return K2.call(this.children,t)}}function eS(){return this.firstElementChild}function nS(t){return this.select(t==null?eS:tS(typeof t=="function"?t:xm(t)))}var rS=Array.prototype.filter;function iS(){return Array.from(this.children)}function aS(t){return function(){return rS.call(this.children,t)}}function oS(t){return this.selectAll(t==null?iS:aS(typeof t=="function"?t:xm(t)))}function sS(t){typeof t!="function"&&(t=_m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new $e(r,this._parents)}function Sm(t){return new Array(t.length)}function uS(){return new $e(this._enter||this._groups.map(Sm),this._parents)}function ko(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ko.prototype={constructor:ko,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function lS(t){return function(){return t}}function cS(t,e,n,r,i,a){for(var o=0,s,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new ko(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function fS(t,e,n,r,i,a,o){var s,l,u=new Map,c=e.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=e[s])&&(f[s]=d=o.call(l,l.__data__,s,e)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(t,a[s],s,a)+"",(l=u.get(d))?(r[s]=l,l.__data__=a[s],u.delete(d)):n[s]=new ko(t,a[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function hS(t){return t.__data__}function dS(t,e){if(!arguments.length)return Array.from(this,hS);var n=e?fS:cS,r=this._parents,i=this._groups;typeof t!="function"&&(t=lS(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,d=pS(t.call(c,c&&c.__data__,u,r)),p=d.length,g=s[u]=new Array(p),m=o[u]=new Array(p),y=l[u]=new Array(f);n(c,h,g,m,y,d,e);for(var _=0,v=0,b,A;_<p;++_)if(b=g[_]){for(_>=v&&(v=_+1);!(A=m[v])&&++v<p;);b._next=A||null}}return o=new $e(o,r),o._enter=s,o._exit=l,o}function pS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gS(){return new $e(this._exit||this._groups.map(Sm),this._parents)}function mS(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function yS(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;l<i;++l)s[l]=n[l];return new $e(s,this._parents)}function bS(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function vS(t){t||(t=_S);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new $e(i,this._parents).order()}function _S(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xS(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function SS(){return Array.from(this)}function AS(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function PS(){let t=0;for(const e of this)++t;return t}function wS(){return!this.node()}function TS(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function ES(t){return function(){this.removeAttribute(t)}}function $S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function DS(t,e){return function(){this.setAttribute(t,e)}}function LS(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function MS(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function RS(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function IS(t,e){var n=zs(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?$S:ES:typeof e=="function"?n.local?RS:MS:n.local?LS:DS)(n,e))}function Am(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function CS(t){return function(){this.style.removeProperty(t)}}function NS(t,e,n){return function(){this.style.setProperty(t,e,n)}}function kS(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function GS(t,e,n){return arguments.length>1?this.each((e==null?CS:typeof e=="function"?kS:NS)(t,e,n??"")):Cr(this.node(),t)}function Cr(t,e){return t.style.getPropertyValue(e)||Am(t).getComputedStyle(t,null).getPropertyValue(e)}function OS(t){return function(){delete this[t]}}function FS(t,e){return function(){this[t]=e}}function BS(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function zS(t,e){return arguments.length>1?this.each((e==null?OS:typeof e=="function"?BS:FS)(t,e)):this.node()[t]}function Pm(t){return t.trim().split(/^|\s+/)}function bf(t){return t.classList||new wm(t)}function wm(t){this._node=t,this._names=Pm(t.getAttribute("class")||"")}wm.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Tm(t,e){for(var n=bf(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Em(t,e){for(var n=bf(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function HS(t){return function(){Tm(this,t)}}function jS(t){return function(){Em(this,t)}}function US(t,e){return function(){(e.apply(this,arguments)?Tm:Em)(this,t)}}function VS(t,e){var n=Pm(t+"");if(arguments.length<2){for(var r=bf(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?US:e?HS:jS)(n,e))}function YS(){this.textContent=""}function WS(t){return function(){this.textContent=t}}function XS(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function qS(t){return arguments.length?this.each(t==null?YS:(typeof t=="function"?XS:WS)(t)):this.node().textContent}function ZS(){this.innerHTML=""}function QS(t){return function(){this.innerHTML=t}}function JS(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function KS(t){return arguments.length?this.each(t==null?ZS:(typeof t=="function"?JS:QS)(t)):this.node().innerHTML}function tA(){this.nextSibling&&this.parentNode.appendChild(this)}function eA(){return this.each(tA)}function nA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rA(){return this.each(nA)}function iA(t){var e=typeof t=="function"?t:bm(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function aA(){return null}function oA(t,e){var n=typeof t=="function"?t:bm(t),r=e==null?aA:typeof e=="function"?e:yf(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sA(){var t=this.parentNode;t&&t.removeChild(this)}function uA(){return this.each(sA)}function lA(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function cA(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fA(t){return this.select(t?cA:lA)}function hA(t){return arguments.length?this.property("__data__",t):this.node().__data__}function dA(t){return function(e){t.call(this,e,this.__data__)}}function pA(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function gA(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function mA(t,e,n){return function(){var r=this.__on,i,a=dA(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function yA(t,e,n){var r=pA(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?mA:gA,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function $m(t,e,n){var r=Am(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function bA(t,e){return function(){return $m(this,t,e)}}function vA(t,e){return function(){return $m(this,t,e.apply(this,arguments))}}function _A(t,e){return this.each((typeof e=="function"?vA:bA)(t,e))}function*xA(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var SA=[null];function $e(t,e){this._groups=t,this._parents=e}function pa(){return new $e([[document.documentElement]],SA)}function AA(){return this}$e.prototype=pa.prototype={constructor:$e,select:X2,selectAll:J2,selectChild:nS,selectChildren:oS,filter:sS,data:dS,enter:uS,exit:gS,join:mS,merge:yS,selection:AA,order:bS,sort:vS,call:xS,nodes:SS,node:AS,size:PS,empty:wS,each:TS,attr:IS,style:GS,property:zS,classed:VS,text:qS,html:KS,raise:eA,lower:rA,append:iA,insert:oA,remove:uA,clone:fA,datum:hA,on:yA,dispatch:_A,[Symbol.iterator]:xA};function vf(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Dm(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ga(){}var zi=.7,Go=1/zi,wr="\\s*([+-]?\\d+)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PA=/^#([0-9a-f]{3,8})$/,wA=new RegExp(`^rgb\\(${wr},${wr},${wr}\\)$`),TA=new RegExp(`^rgb\\(${Ge},${Ge},${Ge}\\)$`),EA=new RegExp(`^rgba\\(${wr},${wr},${wr},${Hi}\\)$`),$A=new RegExp(`^rgba\\(${Ge},${Ge},${Ge},${Hi}\\)$`),DA=new RegExp(`^hsl\\(${Hi},${Ge},${Ge}\\)$`),LA=new RegExp(`^hsla\\(${Hi},${Ge},${Ge},${Hi}\\)$`),md={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vf(ga,Bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yd,formatHex:yd,formatHex8:MA,formatHsl:RA,formatRgb:bd,toString:bd});function yd(){return this.rgb().formatHex()}function MA(){return this.rgb().formatHex8()}function RA(){return Lm(this).formatHsl()}function bd(){return this.rgb().formatRgb()}function Bn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=PA.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vd(e):n===3?new oe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wA.exec(t))?new oe(e[1],e[2],e[3],1):(e=TA.exec(t))?new oe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EA.exec(t))?Fa(e[1],e[2],e[3],e[4]):(e=$A.exec(t))?Fa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DA.exec(t))?Sd(e[1],e[2]/100,e[3]/100,1):(e=LA.exec(t))?Sd(e[1],e[2]/100,e[3]/100,e[4]):md.hasOwnProperty(t)?vd(md[t]):t==="transparent"?new oe(NaN,NaN,NaN,0):null}function vd(t){return new oe(t>>16&255,t>>8&255,t&255,1)}function Fa(t,e,n,r){return r<=0&&(t=e=n=NaN),new oe(t,e,n,r)}function IA(t){return t instanceof ga||(t=Bn(t)),t?(t=t.rgb(),new oe(t.r,t.g,t.b,t.opacity)):new oe}function jl(t,e,n,r){return arguments.length===1?IA(t):new oe(t,e,n,r??1)}function oe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vf(oe,jl,Dm(ga,{brighter(t){return t=t==null?Go:Math.pow(Go,t),new oe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zi:Math.pow(zi,t),new oe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new oe(kn(this.r),kn(this.g),kn(this.b),Oo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_d,formatHex:_d,formatHex8:CA,formatRgb:xd,toString:xd}));function _d(){return`#${In(this.r)}${In(this.g)}${In(this.b)}`}function CA(){return`#${In(this.r)}${In(this.g)}${In(this.b)}${In((isNaN(this.opacity)?1:this.opacity)*255)}`}function xd(){const t=Oo(this.opacity);return`${t===1?"rgb(":"rgba("}${kn(this.r)}, ${kn(this.g)}, ${kn(this.b)}${t===1?")":`, ${t})`}`}function Oo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function In(t){return t=kn(t),(t<16?"0":"")+t.toString(16)}function Sd(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ae(t,e,n,r)}function Lm(t){if(t instanceof Ae)return new Ae(t.h,t.s,t.l,t.opacity);if(t instanceof ga||(t=Bn(t)),!t)return new Ae;if(t instanceof Ae)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ae(o,s,l,t.opacity)}function NA(t,e,n,r){return arguments.length===1?Lm(t):new Ae(t,e,n,r??1)}function Ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vf(Ae,NA,Dm(ga,{brighter(t){return t=t==null?Go:Math.pow(Go,t),new Ae(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zi:Math.pow(zi,t),new Ae(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new oe(Hu(t>=240?t-240:t+120,i,r),Hu(t,i,r),Hu(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ae(Ad(this.h),Ba(this.s),Ba(this.l),Oo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oo(this.opacity);return`${t===1?"hsl(":"hsla("}${Ad(this.h)}, ${Ba(this.s)*100}%, ${Ba(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ad(t){return t=(t||0)%360,t<0?t+360:t}function Ba(t){return Math.max(0,Math.min(1,t||0))}function Hu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _f=t=>()=>t;function kA(t,e){return function(n){return t+n*e}}function GA(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function OA(t){return(t=+t)==1?Mm:function(e,n){return n-e?GA(e,n,t):_f(isNaN(e)?n:e)}}function Mm(t,e){var n=e-t;return n?kA(t,n):_f(isNaN(t)?e:t)}const Fo=function t(e){var n=OA(e);function r(i,a){var o=n((i=jl(i)).r,(a=jl(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=Mm(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function FA(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function BA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zA(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=xf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function HA(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Se(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function jA(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=xf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ju=new RegExp(Ul.source,"g");function UA(t){return function(){return t}}function VA(t){return function(e){return t(e)+""}}function Rm(t,e){var n=Ul.lastIndex=ju.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Ul.exec(t))&&(i=ju.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Se(r,i)})),n=ju.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?VA(l[0].x):UA(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function xf(t,e){var n=typeof e,r;return e==null||n==="boolean"?_f(e):(n==="number"?Se:n==="string"?(r=Bn(e))?(e=r,Fo):Rm:e instanceof Bn?Fo:e instanceof Date?HA:BA(e)?FA:Array.isArray(e)?zA:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jA:Se)(t,e)}function YA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Pd=180/Math.PI,Im={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cm(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Pd,skewX:Math.atan(l)*Pd,scaleX:o,scaleY:s}}var za;function WA(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Im:Cm(e.a,e.b,e.c,e.d,e.e,e.f)}function XA(t){return t==null||(za||(za=document.createElementNS("http://www.w3.org/2000/svg","g")),za.setAttribute("transform",t),!(t=za.transform.baseVal.consolidate()))?Im:(t=t.matrix,Cm(t.a,t.b,t.c,t.d,t.e,t.f))}function Nm(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push("translate(",null,e,null,n);p.push({i:g-4,x:Se(u,h)},{i:g-2,x:Se(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Se(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Se(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:Se(u,h)},{i:g-2,x:Se(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,g=f.length,m;++p<g;)h[(m=f[p]).i]=m.x(d);return h.join("")}}}var qA=Nm(WA,"px, ","px)","deg)"),ZA=Nm(XA,", ",")",")"),Nr=0,yi=0,ui=0,km=1e3,Bo,bi,zo=0,zn=0,Hs=0,ji=typeof performance=="object"&&performance.now?performance:Date,Gm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sf(){return zn||(Gm(QA),zn=ji.now()+Hs)}function QA(){zn=0}function Ho(){this._call=this._time=this._next=null}Ho.prototype=Om.prototype={constructor:Ho,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Sf():+n)+(e==null?0:+e),!this._next&&bi!==this&&(bi?bi._next=this:Bo=this,bi=this),this._call=t,this._time=n,Vl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vl())}};function Om(t,e,n){var r=new Ho;return r.restart(t,e,n),r}function JA(){Sf(),++Nr;for(var t=Bo,e;t;)(e=zn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Nr}function wd(){zn=(zo=ji.now())+Hs,Nr=yi=0;try{JA()}finally{Nr=0,tP(),zn=0}}function KA(){var t=ji.now(),e=t-zo;e>km&&(Hs-=e,zo=t)}function tP(){for(var t,e=Bo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Bo=n);bi=t,Vl(r)}function Vl(t){if(!Nr){yi&&(yi=clearTimeout(yi));var e=t-zn;e>24?(t<1/0&&(yi=setTimeout(wd,t-ji.now()-Hs)),ui&&(ui=clearInterval(ui))):(ui||(zo=ji.now(),ui=setInterval(KA,km)),Nr=1,Gm(wd))}}function Td(t,e,n){var r=new Ho;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var eP=ym("start","end","cancel","interrupt"),nP=[],Fm=0,Ed=1,Yl=2,mo=3,$d=4,Wl=5,yo=6;function js(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;rP(t,n,{name:e,index:r,group:i,on:eP,tween:nP,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Fm})}function Af(t,e){var n=Le(t,e);if(n.state>Fm)throw new Error("too late; already scheduled");return n}function je(t,e){var n=Le(t,e);if(n.state>mo)throw new Error("too late; already running");return n}function Le(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function rP(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Om(a,0,n.time);function a(u){n.state=Ed,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,h,f,d;if(n.state!==Ed)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===mo)return Td(o);d.state===$d?(d.state=yo,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=yo,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Td(function(){n.state===mo&&(n.state=$d,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Yl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Yl){for(n.state=mo,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Wl,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Wl&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=yo,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function iP(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Yl&&r.state<Wl,r.state=yo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function aP(t){return this.each(function(){iP(this,t)})}function oP(t,e){var n,r;return function(){var i=je(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function sP(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=je(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function uP(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Le(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?oP:sP)(n,t,e))}function Pf(t,e,n){var r=t._id;return t.each(function(){var i=je(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Le(i,r).value[e]}}function Bm(t,e){var n;return(typeof e=="number"?Se:e instanceof Bn?Fo:(n=Bn(e))?(e=n,Fo):Rm)(t,e)}function lP(t){return function(){this.removeAttribute(t)}}function cP(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fP(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function hP(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function dP(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function pP(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function gP(t,e){var n=zs(t),r=n==="transform"?ZA:Bm;return this.attrTween(t,typeof e=="function"?(n.local?pP:dP)(n,r,Pf(this,"attr."+t,e)):e==null?(n.local?cP:lP)(n):(n.local?hP:fP)(n,r,e))}function mP(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function yP(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function bP(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&yP(t,a)),n}return i._value=e,i}function vP(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&mP(t,a)),n}return i._value=e,i}function _P(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=zs(t);return this.tween(n,(r.local?bP:vP)(r,e))}function xP(t,e){return function(){Af(this,t).delay=+e.apply(this,arguments)}}function SP(t,e){return e=+e,function(){Af(this,t).delay=e}}function AP(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xP:SP)(e,t)):Le(this.node(),e).delay}function PP(t,e){return function(){je(this,t).duration=+e.apply(this,arguments)}}function wP(t,e){return e=+e,function(){je(this,t).duration=e}}function TP(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?PP:wP)(e,t)):Le(this.node(),e).duration}function EP(t,e){if(typeof e!="function")throw new Error;return function(){je(this,t).ease=e}}function $P(t){var e=this._id;return arguments.length?this.each(EP(e,t)):Le(this.node(),e).ease}function DP(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;je(this,t).ease=n}}function LP(t){if(typeof t!="function")throw new Error;return this.each(DP(this._id,t))}function MP(t){typeof t!="function"&&(t=_m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new an(r,this._parents,this._name,this._id)}function RP(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],u=n[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<r;++s)o[s]=e[s];return new an(o,this._parents,this._name,this._id)}function IP(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function CP(t,e,n){var r,i,a=IP(e)?Af:je;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function NP(t,e){var n=this._id;return arguments.length<2?Le(this.node(),n).on.on(t):this.each(CP(n,t,e))}function kP(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function GP(){return this.on("end.remove",kP(this._id))}function OP(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yf(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,js(u[f],e,n,f,u,Le(c,n)));return new an(a,this._parents,e,n)}function FP(t){var e=this._name,n=this._id;typeof t!="function"&&(t=vm(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,p=Le(c,n),g=0,m=f.length;g<m;++g)(d=f[g])&&js(d,e,n,g,f,p);a.push(f),o.push(c)}return new an(a,o,e,n)}var BP=pa.prototype.constructor;function zP(){return new BP(this._groups,this._parents)}function HP(t,e){var n,r,i;return function(){var a=Cr(this,t),o=(this.style.removeProperty(t),Cr(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function zm(t){return function(){this.style.removeProperty(t)}}function jP(t,e,n){var r,i=n+"",a;return function(){var o=Cr(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function UP(t,e,n){var r,i,a;return function(){var o=Cr(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Cr(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function VP(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=je(this,t),u=l.on,c=l.value[a]==null?s||(s=zm(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function YP(t,e,n){var r=(t+="")=="transform"?qA:Bm;return e==null?this.styleTween(t,HP(t,r)).on("end.style."+t,zm(t)):typeof e=="function"?this.styleTween(t,UP(t,r,Pf(this,"style."+t,e))).each(VP(this._id,t)):this.styleTween(t,jP(t,r,e),n).on("end.style."+t,null)}function WP(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function XP(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&WP(t,o,n)),r}return a._value=e,a}function qP(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,XP(t,e,n??""))}function ZP(t){return function(){this.textContent=t}}function QP(t){return function(){var e=t(this);this.textContent=e??""}}function JP(t){return this.tween("text",typeof t=="function"?QP(Pf(this,"text",t)):ZP(t==null?"":t+""))}function KP(t){return function(e){this.textContent=t.call(this,e)}}function tw(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&KP(i)),e}return r._value=t,r}function ew(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,tw(t))}function nw(){for(var t=this._name,e=this._id,n=Hm(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=Le(l,e);js(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new an(r,this._parents,t,n)}function rw(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var u=je(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&a()})}var iw=0;function an(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Hm(){return++iw}var We=pa.prototype;an.prototype={constructor:an,select:OP,selectAll:FP,selectChild:We.selectChild,selectChildren:We.selectChildren,filter:MP,merge:RP,selection:zP,transition:nw,call:We.call,nodes:We.nodes,node:We.node,size:We.size,empty:We.empty,each:We.each,on:NP,attr:gP,attrTween:_P,style:YP,styleTween:qP,text:JP,textTween:ew,remove:GP,tween:uP,delay:AP,duration:TP,ease:$P,easeVarying:LP,end:rw,[Symbol.iterator]:We[Symbol.iterator]};function aw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ow={time:null,delay:0,duration:250,ease:aw};function sw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function uw(t){var e,n;t instanceof an?(e=t._id,t=t._name):(e=Hm(),(n=ow).time=Sf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&js(l,t,e,u,o,n||sw(l,e));return new an(r,this._parents,t,e)}pa.prototype.interrupt=aP;pa.prototype.transition=uw;function lw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kr(t){return t=jo(Math.abs(t)),t?t[1]:NaN}function cw(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function fw(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uo(t){if(!(e=hw.exec(t)))throw new Error("invalid format: "+t);var e;return new wf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uo.prototype=wf.prototype;function wf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dw(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jm;function pw(t,e){var n=jo(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(jm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+jo(t,Math.max(0,e+a-1))[0]}function Dd(t,e){var n=jo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ld={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lw,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Dd(t*100,e),r:Dd,s:pw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Md(t){return t}var Rd=Array.prototype.map,Id=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gw(t){var e=t.grouping===void 0||t.thousands===void 0?Md:cw(Rd.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Md:fw(Rd.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Uo(h);var f=h.fill,d=h.align,p=h.sign,g=h.symbol,m=h.zero,y=h.width,_=h.comma,v=h.precision,b=h.trim,A=h.type;A==="n"?(_=!0,A="g"):Ld[A]||(v===void 0&&(v=12),b=!0,A="g"),(m||f==="0"&&d==="=")&&(m=!0,f="0",d="=");var $=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",x=g==="$"?r:/[%p]/.test(A)?o:"",S=Ld[A],E=/[defgprs%]/.test(A);v=v===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D(w){var O=$,N=x,P,L,T;if(A==="c")N=S(w)+N,w="";else{w=+w;var G=w<0||1/w<0;if(w=isNaN(w)?l:S(Math.abs(w),v),b&&(w=dw(w)),G&&+w==0&&p!=="+"&&(G=!1),O=(G?p==="("?p:s:p==="-"||p==="("?"":p)+O,N=(A==="s"?Id[8+jm/3]:"")+N+(G&&p==="("?")":""),E){for(P=-1,L=w.length;++P<L;)if(T=w.charCodeAt(P),48>T||T>57){N=(T===46?i+w.slice(P+1):w.slice(P))+N,w=w.slice(0,P);break}}}_&&!m&&(w=e(w,1/0));var z=O.length+w.length+N.length,M=z<y?new Array(y-z+1).join(f):"";switch(_&&m&&(w=e(M+w,M.length?y-N.length:1/0),M=""),d){case"<":w=O+w+N+M;break;case"=":w=O+M+w+N;break;case"^":w=M.slice(0,z=M.length>>1)+O+w+N+M.slice(z);break;default:w=M+O+w+N;break}return a(w)}return D.toString=function(){return h+""},D}function c(h,f){var d=u((h=Uo(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(kr(f)/3)))*3,g=Math.pow(10,-p),m=Id[8+p/3];return function(y){return d(g*y)+m}}return{format:u,formatPrefix:c}}var Ha,Um,Vm;mw({thousands:",",grouping:[3],currency:["$",""]});function mw(t){return Ha=gw(t),Um=Ha.format,Vm=Ha.formatPrefix,Ha}function yw(t){return Math.max(0,-kr(Math.abs(t)))}function bw(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kr(e)/3)))*3-kr(Math.abs(t)))}function vw(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kr(e)-kr(t))+1}function Us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Cd=Symbol("implicit");function Ym(){var t=new hd,e=[],n=[],r=Cd;function i(a){let o=t.get(a);if(o===void 0){if(r!==Cd)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new hd;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ym(e,n).unknown(r)},Us.apply(i,arguments),i}function Wm(){var t=Ym().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,d=i<r,p=d?i:r,g=d?r:i;a=(g-p)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),p+=(g-p-a*(f-l))*c,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var m=z2(f).map(function(y){return p+a*y});return n(d?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return Wm(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Us.apply(h(),arguments)}function Xm(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Xm(e())},t}function _w(){return Xm(Wm.apply(null,arguments).paddingInner(1))}function xw(t){return function(){return t}}function Sw(t){return+t}var Nd=[0,1];function xr(t){return t}function Xl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xw(isNaN(e)?NaN:.5)}function Aw(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Pw(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Xl(i,r),a=n(o,a)):(r=Xl(r,i),a=n(a,o)),function(s){return a(r(s))}}function ww(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Xl(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=mm(t,s,1,r)-1;return a[l](i[l](s))}}function Tw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ew(){var t=Nd,e=Nd,n=xf,r,i,a,o=xr,s,l,u;function c(){var f=Math.min(t.length,e.length);return o!==xr&&(o=Aw(t[0],t[f-1])),s=f>2?ww:Pw,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(e,t.map(r),Se)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Sw),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=YA,c()},h.clamp=function(f){return arguments.length?(o=f?!0:xr,c()):o!==xr},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function $w(){return Ew()(xr,xr)}function Dw(t,e,n,r){var i=B2(t,e,n),a;switch(r=Uo(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=bw(i,o))&&(r.precision=a),Vm(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=vw(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=yw(i))&&(r.precision=a-(r.type==="%")*2);break}}return Um(r)}function qm(t){var e=t.domain;return t.ticks=function(n){var r=e();return F2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Dw(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=zl(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Zm(){var t=$w();return t.copy=function(){return Tw(t,Zm())},Us.apply(t,arguments),qm(t)}function Qm(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[mm(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Qm().domain([t,e]).range(i).unknown(a)},Us.apply(qm(o),arguments)}function vi(t,e,n){this.k=t,this.x=e,this.y=n}vi.prototype={constructor:vi,scale:function(t){return t===1?this:new vi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new vi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vi.prototype;function ja(t){return Object.prototype.toString.call(t)==="[object Object]"}function ql(t,e){if(ja(t)===!1||ja(e)===!1)return Object.assign({},e);const n=(r,i)=>{const a=Object.assign({},i);for(let o of Object.keys(r)){if(!(o in i))continue;let s;ja(r[o])&&ja(i[o])?(s=n(r[o],i[o]),a[o]=s):a[o]=r[o]}return a};return n(t,e)}var Zl=function(t,e){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Zl(t,e)};function Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Lw(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,[])).next())})}function Jm(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Gr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ui(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Vi(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Tr(t){return this instanceof Tr?(this.v=t,this):new Tr(t)}function Mw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(p){return Promise.resolve(p).then(d,h)}}function s(d,p){r[d]&&(i[d]=function(g){return new Promise(function(m,y){a.push([d,g,m,y])>1||l(d,g)})},p&&(i[d]=p(i[d])))}function l(d,p){try{u(r[d](p))}catch(g){f(a[0][3],g)}}function u(d){d.value instanceof Tr?Promise.resolve(d.value.v).then(c,h):f(a[0][2],d)}function c(d){l("next",d)}function h(d){l("throw",d)}function f(d,p){d(p),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Rw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Gr=="function"?Gr(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function jt(t){return typeof t=="function"}function Tf(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Uu=Tf(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Vo(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ma=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Gr(o),l=s.next();!l.done;l=s.next()){var u=l.value;u.remove(this)}}catch(g){e={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(jt(c))try{c()}catch(g){a=g instanceof Uu?g.errors:[g]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=Gr(h),d=f.next();!d.done;d=f.next()){var p=d.value;try{kd(p)}catch(g){a=a??[],g instanceof Uu?a=Vi(Vi([],Ui(a)),Ui(g.errors)):a.push(g)}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(a)throw new Uu(a)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)kd(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Vo(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Vo(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Km=ma.EMPTY;function t1(t){return t instanceof ma||t&&"closed"in t&&jt(t.remove)&&jt(t.add)&&jt(t.unsubscribe)}function kd(t){jt(t)?t():t.unsubscribe()}var e1={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Iw={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Vi([t,e],Ui(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function n1(t){Iw.setTimeout(function(){throw t})}function Ql(){}function bo(t){t()}var Ef=function(t){Ue(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,t1(n)&&n.add(r)):r.destination=Gw,r}return e.create=function(n,r,i){return new Yi(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ma),Cw=Function.prototype.bind;function Vu(t,e){return Cw.call(t,e)}var Nw=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Ua(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Ua(r)}else Ua(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Ua(n)}},t}(),Yi=function(t){Ue(e,t);function e(n,r,i){var a=t.call(this)||this,o;if(jt(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;a&&e1.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return a.unsubscribe()},o={next:n.next&&Vu(n.next,s),error:n.error&&Vu(n.error,s),complete:n.complete&&Vu(n.complete,s)}):o=n}return a.destination=new Nw(o),a}return e}(Ef);function Ua(t){n1(t)}function kw(t){throw t}var Gw={closed:!0,next:Ql,error:kw,complete:Ql},$f=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function r1(t){return t}function Ow(t){return t.length===0?r1:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var bn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,a=Bw(e)?e:new Yi(e,n,r);return bo(function(){var o=i,s=o.operator,l=o.source;a.add(s?s.call(a,l):l?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Gd(n),new n(function(i,a){var o=new Yi({next:function(s){try{e(s)}catch(l){a(l),o.unsubscribe()}},error:a,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[$f]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Ow(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Gd(e),new e(function(r,i){var a;n.subscribe(function(o){return a=o},function(o){return i(o)},function(){return r(a)})})},t.create=function(e){return new t(e)},t}();function Gd(t){var e;return(e=t??e1.Promise)!==null&&e!==void 0?e:Promise}function Fw(t){return t&&jt(t.next)&&jt(t.error)&&jt(t.complete)}function Bw(t){return t&&t instanceof Ef||Fw(t)&&t1(t)}function zw(t){return jt(t==null?void 0:t.lift)}function ya(t){return function(e){if(zw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wi(t,e,n,r,i){return new Hw(t,e,n,r,i)}var Hw=function(t){Ue(e,t);function e(n,r,i,a,o,s){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=s,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=a?function(u){try{a(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Ef),jw=Tf(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ba=function(t){Ue(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Od(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new jw},e.prototype.next=function(n){var r=this;bo(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Gr(r.currentObservers),s=o.next();!s.done;s=o.next()){var l=s.value;l.next(n)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;bo(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;bo(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,o=i.isStopped,s=i.observers;return a||o?Km:(this.currentObservers=null,s.push(n),new ma(function(){r.currentObservers=null,Vo(s,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,o=r.isStopped;i?n.error(a):o&&n.complete()},e.prototype.asObservable=function(){var n=new bn;return n.source=this,n},e.create=function(n,r){return new Od(n,r)},e}(bn),Od=function(t){Ue(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Km},e}(ba),Fd=function(t){Ue(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,a=n._value;if(r)throw i;return this._throwIfClosed(),a},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(ba),Df={now:function(){return(Df.delegate||Date).now()},delegate:void 0},Uw=function(t){Ue(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Df);var a=t.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return e.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,o=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(a.push(n),!o&&a.push(s.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,o=i._buffer,s=o.slice(),l=0;l<s.length&&!n.closed;l+=a?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,o=n._infiniteTimeWindow,s=(o?1:2)*r;if(r<1/0&&s<a.length&&a.splice(0,a.length-s),!o){for(var l=i.now(),u=0,c=1;c<a.length&&a[c]<=l;c+=2)u=c;u&&a.splice(0,u+1)}},e}(ba),Vw=function(t){Ue(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(ma),Bd={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Vi([t,e],Ui(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},Yw=function(t){Ue(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,o=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(o,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Bd.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Bd.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(o){i=!0,a=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Vo(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Vw),zd=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Df.now,t}(),Ww=function(t){Ue(e,t);function e(n,r){r===void 0&&(r=zd.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(zd);new Ww(Yw);var Xw=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function qw(t){return jt(t==null?void 0:t.then)}function Zw(t){return jt(t[$f])}function Qw(t){return Symbol.asyncIterator&&jt(t==null?void 0:t[Symbol.asyncIterator])}function Jw(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Kw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tT=Kw();function eT(t){return jt(t==null?void 0:t[tT])}function nT(t){return Mw(this,arguments,function(){var e,n,r,i;return Jm(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Tr(e.read())];case 3:return n=a.sent(),r=n.value,i=n.done,i?[4,Tr(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Tr(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function rT(t){return jt(t==null?void 0:t.getReader)}function Vs(t){if(t instanceof bn)return t;if(t!=null){if(Zw(t))return iT(t);if(Xw(t))return aT(t);if(qw(t))return oT(t);if(Qw(t))return i1(t);if(eT(t))return sT(t);if(rT(t))return uT(t)}throw Jw(t)}function iT(t){return new bn(function(e){var n=t[$f]();if(jt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aT(t){return new bn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function oT(t){return new bn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,n1)})}function sT(t){return new bn(function(e){var n,r;try{for(var i=Gr(t),a=i.next();!a.done;a=i.next()){var o=a.value;if(e.next(o),e.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function i1(t){return new bn(function(e){lT(t,e).catch(function(n){return e.error(n)})})}function uT(t){return i1(nT(t))}function lT(t,e){var n,r,i,a;return Lw(this,void 0,void 0,function(){var o,s;return Jm(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Rw(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}Tf(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Jl(t,e){return ya(function(n,r){var i=0;n.subscribe(Wi(r,function(a){r.next(t.call(e,a,i++))}))})}function cT(t,e){return e===void 0&&(e=r1),t=t??fT,ya(function(n,r){var i,a=!0;n.subscribe(Wi(r,function(o){var s=e(o);(a||!t(i,s))&&(a=!1,i=s,r.next(o))}))})}function fT(t,e){return t===e}function hT(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new ba}:e,r=t.resetOnError,i=r===void 0?!0:r,a=t.resetOnComplete,o=a===void 0?!0:a,s=t.resetOnRefCountZero,l=s===void 0?!0:s;return function(u){var c,h,f,d=0,p=!1,g=!1,m=function(){h==null||h.unsubscribe(),h=void 0},y=function(){m(),c=f=void 0,p=g=!1},_=function(){var v=c;y(),v==null||v.unsubscribe()};return ya(function(v,b){d++,!g&&!p&&m();var A=f=f??n();b.add(function(){d--,d===0&&!g&&!p&&(h=Yu(_,l))}),A.subscribe(b),!c&&d>0&&(c=new Yi({next:function($){return A.next($)},error:function($){g=!0,m(),h=Yu(y,i,$),A.error($)},complete:function(){p=!0,m(),h=Yu(y,o),A.complete()}}),Vs(v).subscribe(c))})(u)}}function Yu(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new Yi({next:function(){i.unsubscribe(),t()}});return Vs(e.apply(void 0,Vi([],Ui(n)))).subscribe(i)}}function dT(t,e,n){var r,i=!1;return r=t,hT({connector:function(){return new Uw(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function pT(t,e){return ya(function(n,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};n.subscribe(Wi(r,function(l){i==null||i.unsubscribe();var u=0,c=a++;Vs(t(l,c)).subscribe(i=Wi(r,function(h){return r.next(e?e(l,h,c,u++):h)},function(){i=null,s()}))},function(){o=!0,s()}))})}function gT(t){return ya(function(e,n){Vs(t).subscribe(Wi(n,function(){return n.complete()},Ql)),!n.closed&&e.subscribe(n)})}const mT=t=>t.pipe(Jl(e=>e.styles.textSize),cT(),Jl(e=>{let n=NaN;if(typeof e=="string")if(e.includes("rem")){const r=parseFloat(getComputedStyle(document.documentElement).fontSize);n=parseFloat(e)*r}else e.includes("px")&&(n=parseFloat(e));else if(typeof e=="number")return e;return n||14})),a1=({maxValue:t=1,minValue:e=0,axisWidth:n,scaleDomain:r=lr.scaleDomain,scaleRange:i=lr.scaleRange})=>{const a=r[0]??lr.scaleDomain[0],o=r[1]??lr.scaleDomain[1],s=i[0]??lr.scaleRange[0],l=i[1]??lr.scaleRange[1],u=a==="auto"?e:a,c=o==="auto"?t:o,h=t-(t-u)/(1-s),f=c/l;return Zm().domain([h,f]).range([0,n])},yT=({axisLabels:t,axisWidth:e,padding:n=.5})=>{let r=[0,e];return _w().domain(t).range(r).padding(n)},bT=({axisLabels:t,axisWidth:e,padding:n=.5,reverse:r=!1})=>{let i=t.map((a,o)=>o);return r&&i.reverse(),Qm().domain([-0,e+0]).range(i)};function vT({name:t,defaultParams:e,initFn:n}){const r=new ba,i=new WeakMap;let a=()=>{},o;const s=new Fd(e),l=new Fd({}),u=s.pipe(pT(c=>l.pipe(gT(r),Jl(h=>ql(h,c)))),dT(1));return{params$:l,name:t,defaultParams:e,init(){o&&(a=n(o)??(()=>{}),i.set(o.selection,o))},destroy(){a(),o&&(o.selection.remove(),o=void 0),r.next(void 0)},setPresetParams:c=>{s.next(ql(c,e))},setContext:c=>{o=c,o.observer.fullParams$=u}}}const va=()=>function(t,e){return function(n){return class{constructor(){const r=vT({name:t,defaultParams:e,initFn:n});this.params$=r.params$,this.name=r.name,this.defaultParams=r.defaultParams,this.init=r.init,this.destroy=r.destroy,this.setPresetParams=r.setPresetParams,this.setContext=r.setContext}}}},tr=va(),fe=va(),_e=va(),o1=va(),s1=va();function Pt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u1(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ys(t){let e,n,r;t.length!==2?(e=Pt,n=(s,l)=>Pt(t(s),l),r=(s,l)=>t(s)-l):(e=t===Pt||t===u1?t:_T,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function _T(){return 0}function Yo(t){return t===null?NaN:+t}function*xT(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const l1=Ys(Pt),c1=l1.right,ST=l1.left,AT=Ys(Yo).center,er=c1;function PT(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=Lf(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const f1=h1(Lf),wT=h1(TT);function h1(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=e;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return e;const s=n&&t(n),l=r&&t(r),u=i.slice();return s&&l?(cr(s,u,i,a,o),cr(s,i,u,a,o),cr(s,u,i,a,o),fr(l,i,u,a,o),fr(l,u,i,a,o),fr(l,i,u,a,o)):s?(cr(s,i,u,a,o),cr(s,u,i,a,o),cr(s,i,u,a,o)):l&&(fr(l,i,u,a,o),fr(l,u,i,a,o),fr(l,i,u,a,o)),e}}function cr(t,e,n,r,i){for(let a=0,o=r*i;a<o;)t(e,n,a,a+=r,1)}function fr(t,e,n,r,i){for(let a=0,o=r*i;a<r;++a)t(e,n,a,a+o,r)}function TT(t){const e=Lf(t);return(n,r,i,a,o)=>{i<<=2,a<<=2,o<<=2,e(n,r,i+0,a+0,o),e(n,r,i+1,a+1,o),e(n,r,i+2,a+2,o),e(n,r,i+3,a+3,o)}}function Lf(t){const e=Math.floor(t);if(e===t)return ET(t);const n=t-e,r=2*t+1;return(i,a,o,s,l)=>{if(!((s-=l)>=o))return;let u=e*a[o];const c=l*e,h=c+l;for(let f=o,d=o+c;f<d;f+=l)u+=a[Math.min(s,f)];for(let f=o,d=s;f<=d;f+=l)u+=a[Math.min(s,f+c)],i[f]=(u+n*(a[Math.max(o,f-h)]+a[Math.min(s,f+h)]))/r,u-=a[Math.max(o,f-c)]}}function ET(t){const e=2*t+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let s=t*r[i];const l=o*t;for(let u=i,c=i+l;u<c;u+=o)s+=r[Math.min(a,u)];for(let u=i,c=a;u<=c;u+=o)s+=r[Math.min(a,u+l)],n[u]=s/e,s-=r[Math.max(i,u-l)]}}function Ws(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function $T(t){return t.length|0}function DT(t){return!(t>0)}function LT(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function MT(t){return e=>t(...e)}function RT(...t){const e=typeof t[t.length-1]=="function"&&MT(t.pop());t=t.map(LT);const n=t.map($T),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(DT))return a;for(;;){a.push(i.map((s,l)=>t[l][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return e?a.map(e):a;i[o--]=0}}}function IT(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function d1(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function p1(t,e){const n=d1(t,e);return n&&Math.sqrt(n)}function Ri(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Rt{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function CT(t,e){const n=new Rt;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function NT(t,e){const n=new Rt;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}class Xi extends Map{constructor(e,n=y1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Kl(this,e))}has(e){return super.has(Kl(this,e))}set(e,n){return super.set(g1(this,e),n)}delete(e){return super.delete(m1(this,e))}}class Hn extends Set{constructor(e,n=y1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Kl(this,e))}add(e){return super.add(g1(this,e))}delete(e){return super.delete(m1(this,e))}}function Kl({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function g1({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function m1({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function y1(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Or(t){return t}function b1(t,...e){return ei(t,Or,Or,e)}function v1(t,...e){return ei(t,Array.from,Or,e)}function _1(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return t}function kT(t,...e){return _1(v1(t,...e),e)}function GT(t,e,...n){return _1(S1(t,e,...n),n)}function x1(t,e,...n){return ei(t,Or,e,n)}function S1(t,e,...n){return ei(t,Array.from,e,n)}function OT(t,...e){return ei(t,Or,A1,e)}function FT(t,...e){return ei(t,Array.from,A1,e)}function A1(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function ei(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new Xi,l=r[o++];let u=-1;for(const c of a){const h=l(c,++u,a),f=s.get(h);f?f.push(c):s.set(h,[c])}for(const[c,h]of s)s.set(c,i(h,o));return e(s)}(t,0)}function P1(t,e){return Array.from(e,n=>t[n])}function tc(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const s=Fr(o[i],o[a]);if(s)return s}})):(n=t.map(n),r.sort((i,a)=>Fr(n[i],n[a]))),P1(t,r)}return t.sort(Mf(n))}function Mf(t=Pt){if(t===Pt)return Fr;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Fr(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function BT(t,e,n){return(e.length!==2?tc(x1(t,e,n),([r,i],[a,o])=>Pt(i,o)||Pt(r,a)):tc(b1(t,n),([r,i],[a,o])=>e(i,o)||Pt(r,a))).map(([r])=>r)}var zT=Array.prototype,HT=zT.slice;function Wu(t){return()=>t}const jT=Math.sqrt(50),UT=Math.sqrt(10),VT=Math.sqrt(2);function Wo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=jT?10:a>=UT?5:a>=VT?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Wo(t,e,n*2):[s,l,u]}function jn(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Wo(e,t,n):Wo(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Un(t,e,n){return e=+e,t=+t,n=+n,Wo(t,e,n)[2]}function Xo(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Un(e,t,n):Un(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Rf(t,e,n){let r;for(;;){const i=Un(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function If(t){return Math.max(1,Math.ceil(Math.log(Ws(t))/Math.LN2)+1)}function Hd(){var t=Or,e=Ri,n=If;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,u=new Array(o);for(a=0;a<o;++a)u[a]=t(i[a],a,i);var c=e(u),h=c[0],f=c[1],d=n(u,h,f);if(!Array.isArray(d)){const v=f,b=+d;if(e===Ri&&([h,f]=Rf(h,f,b)),d=jn(h,f,b),d[0]<=h&&(l=Un(h,f,b)),d[d.length-1]>=f)if(v>=f&&e===Ri){const A=Un(h,f,b);isFinite(A)&&(A>0?f=(Math.floor(f/A)+1)*A:A<0&&(f=(Math.ceil(f*-A)+1)/-A))}else d.pop()}for(var p=d.length,g=0,m=p;d[g]<=h;)++g;for(;d[m-1]>f;)--m;(g||m<p)&&(d=d.slice(g,m),p=m-g);var y=new Array(p+1),_;for(a=0;a<=p;++a)_=y[a]=[],_.x0=a>0?d[a-1]:h,_.x1=a<p?d[a]:f;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&y[Math.min(p,Math.floor((s-h)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=u[a])!=null&&h<=s&&s<=f){const v=Math.floor((h-s)*l);y[Math.min(p,v+(d[v]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&y[er(d,s,0,p)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:Wu(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:Wu([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Wu(Array.isArray(i)?HT.call(i):i),r):n},r}function qi(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Cf(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function qo(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Nf(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Xs(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Fr:Mf(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/l+f)),p=Math.min(r,Math.floor(e+(l-u)*h/l+f));Xs(t,e,d,p,i)}const a=t[e];let o=n,s=r;for(li(t,n,e),i(t[r],a)>0&&li(t,n,r);o<s;){for(li(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?li(t,n,s):(++s,li(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function li(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w1(t,e=Pt){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?Pt(o,i)>0:Pt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function Zi(t,e,n){if(t=Float64Array.from(xT(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qo(t);if(e>=1)return qi(t);var r,i=(r-1)*e,a=Math.floor(i),o=qi(Xs(t,a).subarray(0,a+1)),s=qo(t.subarray(a+1));return o+(s-o)*(i-a)}}function T1(t,e,n=Yo){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function E1(t,e,n=Yo){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(s,l)=>Yo(n(t[l],l,t))),e<=0)return Nf(r);if(e>=1)return Cf(r);var r,i=Uint32Array.from(t,(s,l)=>l),a=r.length-1,o=Math.floor(a*e);return Xs(i,o,0,a,(s,l)=>Fr(r[s],r[l])),o=w1(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function YT(t,e,n){const r=Ws(t),i=Zi(t,.75)-Zi(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function WT(t,e,n){const r=Ws(t),i=p1(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function XT(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function qT(t,e){return Zi(t,.5,e)}function ZT(t,e){return E1(t,.5,e)}function*QT(t){for(const e of t)yield*e}function kf(t){return Array.from(QT(t))}function JT(t,e){const n=new Xi;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function KT(t,e=tE){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function tE(t,e){return[t,e]}function dn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function eE(t,e=Pt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=Pt);const i=(s,l)=>e(n[s],n[l]);let a,o;return t=Uint32Array.from(n,(s,l)=>l),t.sort(e===Pt?(s,l)=>Fr(n[s],n[l]):Mf(i)),t.forEach((s,l)=>{const u=i(s,a===void 0?s:a);u>=0?((a===void 0||u>0)&&(a=s,o=l),r[s]=o):r[s]=NaN}),r}function nE(t,e=Pt){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?Pt(o,i)<0:Pt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function $1(t,e=Pt){if(e.length===1)return Nf(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?e(a,a)===0:e(a,n)<0)&&(n=a,r=i);return r}function rE(t,e=Pt){if(e.length===1)return Cf(t,e);let n,r=-1,i=-1;for(const a of t)++i,(r<0?e(a,a)===0:e(a,n)>0)&&(n=a,r=i);return r}function iE(t,e){const n=$1(t,e);return n<0?void 0:n}const aE=D1(Math.random);function D1(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const a=t()*i--|0,o=e[i+n];e[i+n]=e[a+n],e[a+n]=o}return e}}function L1(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function M1(t){if(!(a=t.length))return[];for(var e=-1,n=qo(t,oE),r=new Array(n);++e<n;)for(var i=-1,a,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function oE(t){return t.length}function sE(){return M1(arguments)}function uE(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function lE(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function cE(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function fE(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function hE(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++o}for(;{done:i,value:a}=r.next(),!i;)n=e(n,a,++o,t);return n}function dE(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function pE(t,...e){t=new Hn(t);for(const n of e)for(const r of n)t.delete(r);return t}function gE(t,e){const n=e[Symbol.iterator](),r=new Hn;for(const i of t){if(r.has(i))return!1;let a,o;for(;({value:a,done:o}=n.next())&&!o;){if(Object.is(i,a))return!1;r.add(a)}}return!0}function mE(t,...e){t=new Hn(t),e=e.map(yE);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function yE(t){return t instanceof Hn?t:new Hn(t)}function R1(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const a=jd(i);if(r.has(a))continue;let o,s;for(;{value:o,done:s}=n.next();){if(s)return!1;const l=jd(o);if(r.add(l),Object.is(a,l))break}}return!0}function jd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bE(t,e){return R1(e,t)}function vE(...t){const e=new Hn;for(const n of t)for(const r of n)e.add(r);return e}function _E(t){return t}var vo=1,_o=2,ec=3,_i=4,Ud=1e-6;function xE(t){return"translate("+t+",0)"}function SE(t){return"translate(0,"+t+")"}function AE(t){return e=>+t(e)}function PE(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function wE(){return!this.__axis}function qs(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===vo||t===_i?-1:1,c=t===_i||t===_o?"x":"y",h=t===vo||t===ec?xE:SE;function f(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):_E),m=Math.max(a,0)+s,y=e.range(),_=+y[0]+l,v=+y[y.length-1]+l,b=(e.bandwidth?PE:AE)(e.copy(),l),A=d.selection?d.selection():d,$=A.selectAll(".domain").data([null]),x=A.selectAll(".tick").data(p,e).order(),S=x.exit(),E=x.enter().append("g").attr("class","tick"),D=x.select("line"),w=x.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(E),D=D.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),w=w.merge(E.append("text").attr("fill","currentColor").attr(c,u*m).attr("dy",t===vo?"0em":t===ec?"0.71em":"0.32em")),d!==A&&($=$.transition(d),x=x.transition(d),D=D.transition(d),w=w.transition(d),S=S.transition(d).attr("opacity",Ud).attr("transform",function(O){return isFinite(O=b(O))?h(O+l):this.getAttribute("transform")}),E.attr("opacity",Ud).attr("transform",function(O){var N=this.parentNode.__axis;return h((N&&isFinite(N=N(O))?N:b(O))+l)})),S.remove(),$.attr("d",t===_i||t===_o?o?"M"+u*o+","+_+"H"+l+"V"+v+"H"+u*o:"M"+l+","+_+"V"+v:o?"M"+_+","+u*o+"V"+l+"H"+v+"V"+u*o:"M"+_+","+l+"H"+v),x.attr("opacity",1).attr("transform",function(O){return h(b(O)+l)}),D.attr(c+"2",u*a),w.attr(c,u*m).text(g),A.filter(wE).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===_o?"start":t===_i?"end":"middle"),A.each(function(){this.__axis=b})}return f.scale=function(d){return arguments.length?(e=d,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(a=o=+d,f):a},f.tickSizeInner=function(d){return arguments.length?(a=+d,f):a},f.tickSizeOuter=function(d){return arguments.length?(o=+d,f):o},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(l=+d,f):l},f}function I1(t){return qs(vo,t)}function TE(t){return qs(_o,t)}function EE(t){return qs(ec,t)}function C1(t){return qs(_i,t)}var $E={value:()=>{}};function nr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xo(n)}function xo(t){this._=t}function DE(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xo.prototype=nr.prototype={constructor:xo,on:function(t,e){var n=this._,r=DE(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=LE(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=Vd(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Vd(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xo(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function LE(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Vd(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$E,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var nc="http://www.w3.org/1999/xhtml";const rc={svg:"http://www.w3.org/2000/svg",xhtml:nc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _a(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),rc.hasOwnProperty(e)?{space:rc[e],local:t}:t}function ME(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===nc&&e.documentElement.namespaceURI===nc?e.createElement(t):e.createElementNS(n,t)}}function RE(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zs(t){var e=_a(t);return(e.local?RE:ME)(e)}function IE(){}function Qs(t){return t==null?IE:function(){return this.querySelector(t)}}function CE(t){typeof t!="function"&&(t=Qs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Jt(r,this._parents)}function N1(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function NE(){return[]}function Gf(t){return t==null?NE:function(){return this.querySelectorAll(t)}}function kE(t){return function(){return N1(t.apply(this,arguments))}}function GE(t){typeof t=="function"?t=kE(t):t=Gf(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new Jt(r,i)}function Of(t){return function(){return this.matches(t)}}function k1(t){return function(e){return e.matches(t)}}var OE=Array.prototype.find;function FE(t){return function(){return OE.call(this.children,t)}}function BE(){return this.firstElementChild}function zE(t){return this.select(t==null?BE:FE(typeof t=="function"?t:k1(t)))}var HE=Array.prototype.filter;function jE(){return Array.from(this.children)}function UE(t){return function(){return HE.call(this.children,t)}}function VE(t){return this.selectAll(t==null?jE:UE(typeof t=="function"?t:k1(t)))}function YE(t){typeof t!="function"&&(t=Of(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new Jt(r,this._parents)}function G1(t){return new Array(t.length)}function WE(){return new Jt(this._enter||this._groups.map(G1),this._parents)}function Zo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Zo.prototype={constructor:Zo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function XE(t){return function(){return t}}function qE(t,e,n,r,i,a){for(var o=0,s,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Zo(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function ZE(t,e,n,r,i,a,o){var s,l,u=new Map,c=e.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=e[s])&&(f[s]=d=o.call(l,l.__data__,s,e)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(t,a[s],s,a)+"",(l=u.get(d))?(r[s]=l,l.__data__=a[s],u.delete(d)):n[s]=new Zo(t,a[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function QE(t){return t.__data__}function JE(t,e){if(!arguments.length)return Array.from(this,QE);var n=e?ZE:qE,r=this._parents,i=this._groups;typeof t!="function"&&(t=XE(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,d=KE(t.call(c,c&&c.__data__,u,r)),p=d.length,g=s[u]=new Array(p),m=o[u]=new Array(p),y=l[u]=new Array(f);n(c,h,g,m,y,d,e);for(var _=0,v=0,b,A;_<p;++_)if(b=g[_]){for(_>=v&&(v=_+1);!(A=m[v])&&++v<p;);b._next=A||null}}return o=new Jt(o,r),o._enter=s,o._exit=l,o}function KE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function t6(){return new Jt(this._exit||this._groups.map(G1),this._parents)}function e6(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function n6(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;l<i;++l)s[l]=n[l];return new Jt(s,this._parents)}function r6(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function i6(t){t||(t=a6);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new Jt(i,this._parents).order()}function a6(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o6(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function s6(){return Array.from(this)}function u6(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function l6(){let t=0;for(const e of this)++t;return t}function c6(){return!this.node()}function f6(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function h6(t){return function(){this.removeAttribute(t)}}function d6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p6(t,e){return function(){this.setAttribute(t,e)}}function g6(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function m6(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function y6(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function b6(t,e){var n=_a(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?d6:h6:typeof e=="function"?n.local?y6:m6:n.local?g6:p6)(n,e))}function Ff(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function v6(t){return function(){this.style.removeProperty(t)}}function _6(t,e,n){return function(){this.style.setProperty(t,e,n)}}function x6(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function S6(t,e,n){return arguments.length>1?this.each((e==null?v6:typeof e=="function"?x6:_6)(t,e,n??"")):Vn(this.node(),t)}function Vn(t,e){return t.style.getPropertyValue(e)||Ff(t).getComputedStyle(t,null).getPropertyValue(e)}function A6(t){return function(){delete this[t]}}function P6(t,e){return function(){this[t]=e}}function w6(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function T6(t,e){return arguments.length>1?this.each((e==null?A6:typeof e=="function"?w6:P6)(t,e)):this.node()[t]}function O1(t){return t.trim().split(/^|\s+/)}function Bf(t){return t.classList||new F1(t)}function F1(t){this._node=t,this._names=O1(t.getAttribute("class")||"")}F1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function B1(t,e){for(var n=Bf(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function z1(t,e){for(var n=Bf(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function E6(t){return function(){B1(this,t)}}function $6(t){return function(){z1(this,t)}}function D6(t,e){return function(){(e.apply(this,arguments)?B1:z1)(this,t)}}function L6(t,e){var n=O1(t+"");if(arguments.length<2){for(var r=Bf(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?D6:e?E6:$6)(n,e))}function M6(){this.textContent=""}function R6(t){return function(){this.textContent=t}}function I6(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function C6(t){return arguments.length?this.each(t==null?M6:(typeof t=="function"?I6:R6)(t)):this.node().textContent}function N6(){this.innerHTML=""}function k6(t){return function(){this.innerHTML=t}}function G6(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function O6(t){return arguments.length?this.each(t==null?N6:(typeof t=="function"?G6:k6)(t)):this.node().innerHTML}function F6(){this.nextSibling&&this.parentNode.appendChild(this)}function B6(){return this.each(F6)}function z6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H6(){return this.each(z6)}function j6(t){var e=typeof t=="function"?t:Zs(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function U6(){return null}function V6(t,e){var n=typeof t=="function"?t:Zs(t),r=e==null?U6:typeof e=="function"?e:Qs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Y6(){var t=this.parentNode;t&&t.removeChild(this)}function W6(){return this.each(Y6)}function X6(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q6(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Z6(t){return this.select(t?q6:X6)}function Q6(t){return arguments.length?this.property("__data__",t):this.node().__data__}function J6(t){return function(e){t.call(this,e,this.__data__)}}function K6(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function t$(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function e$(t,e,n){return function(){var r=this.__on,i,a=J6(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function n$(t,e,n){var r=K6(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?e$:t$,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function H1(t,e,n){var r=Ff(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function r$(t,e){return function(){return H1(this,t,e)}}function i$(t,e){return function(){return H1(this,t,e.apply(this,arguments))}}function a$(t,e){return this.each((typeof e=="function"?i$:r$)(t,e))}function*o$(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var zf=[null];function Jt(t,e){this._groups=t,this._parents=e}function rr(){return new Jt([[document.documentElement]],zf)}function s$(){return this}Jt.prototype=rr.prototype={constructor:Jt,select:CE,selectAll:GE,selectChild:zE,selectChildren:VE,filter:YE,data:JE,enter:WE,exit:t6,join:e6,merge:n6,selection:s$,order:r6,sort:i6,call:o6,nodes:s6,node:u6,size:l6,empty:c6,each:f6,attr:b6,style:S6,property:T6,classed:L6,text:C6,html:O6,raise:B6,lower:H6,append:j6,insert:V6,remove:W6,clone:Z6,datum:Q6,on:n$,dispatch:a$,[Symbol.iterator]:o$};function q(t){return typeof t=="string"?new Jt([[document.querySelector(t)]],[document.documentElement]):new Jt([[t]],zf)}function u$(t){return q(Zs(t).call(document.documentElement))}var l$=0;function j1(){return new ic}function ic(){this._="@"+(++l$).toString(36)}ic.prototype=j1.prototype={constructor:ic,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function U1(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ue(t,e){if(t=U1(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function c$(t,e){return t.target&&(t=U1(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>ue(n,e))}function f$(t){return typeof t=="string"?new Jt([document.querySelectorAll(t)],[document.documentElement]):new Jt([N1(t)],zf)}const h$={passive:!1},Qi={capture:!0,passive:!1};function Xu(t){t.stopImmediatePropagation()}function Er(t){t.preventDefault(),t.stopImmediatePropagation()}function Js(t){var e=t.document.documentElement,n=q(t).on("dragstart.drag",Er,Qi);"onselectstart"in e?n.on("selectstart.drag",Er,Qi):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ks(t,e){var n=t.document.documentElement,r=q(t).on("dragstart.drag",null);e&&(r.on("click.drag",Er,Qi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Va=t=>()=>t;function ac(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ac.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function d$(t){return!t.ctrlKey&&!t.button}function p$(){return this.parentNode}function g$(t,e){return e??{x:t.x,y:t.y}}function m$(){return navigator.maxTouchPoints||"ontouchstart"in this}function V1(){var t=d$,e=p$,n=g$,r=m$,i={},a=nr("start","drag","end"),o=0,s,l,u,c,h=0;function f(b){b.on("mousedown.drag",d).filter(r).on("touchstart.drag",m).on("touchmove.drag",y,h$).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(b,A){if(!(c||!t.call(this,b,A))){var $=v(this,e.call(this,b,A),b,A,"mouse");$&&(q(b.view).on("mousemove.drag",p,Qi).on("mouseup.drag",g,Qi),Js(b.view),Xu(b),u=!1,s=b.clientX,l=b.clientY,$("start",b))}}function p(b){if(Er(b),!u){var A=b.clientX-s,$=b.clientY-l;u=A*A+$*$>h}i.mouse("drag",b)}function g(b){q(b.view).on("mousemove.drag mouseup.drag",null),Ks(b.view,u),Er(b),i.mouse("end",b)}function m(b,A){if(t.call(this,b,A)){var $=b.changedTouches,x=e.call(this,b,A),S=$.length,E,D;for(E=0;E<S;++E)(D=v(this,x,b,A,$[E].identifier,$[E]))&&(Xu(b),D("start",b,$[E]))}}function y(b){var A=b.changedTouches,$=A.length,x,S;for(x=0;x<$;++x)(S=i[A[x].identifier])&&(Er(b),S("drag",b,A[x]))}function _(b){var A=b.changedTouches,$=A.length,x,S;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),x=0;x<$;++x)(S=i[A[x].identifier])&&(Xu(b),S("end",b,A[x]))}function v(b,A,$,x,S,E){var D=a.copy(),w=ue(E||$,A),O,N,P;if((P=n.call(b,new ac("beforestart",{sourceEvent:$,target:f,identifier:S,active:o,x:w[0],y:w[1],dx:0,dy:0,dispatch:D}),x))!=null)return O=P.x-w[0]||0,N=P.y-w[1]||0,function L(T,G,z){var M=w,I;switch(T){case"start":i[S]=L,I=o++;break;case"end":delete i[S],--o;case"drag":w=ue(z||G,A),I=o;break}D.call(T,b,new ac(T,{sourceEvent:G,subject:P,target:f,identifier:S,active:I,x:w[0]+O,y:w[1]+N,dx:w[0]-M[0],dy:w[1]-M[1],dispatch:D}),x)}}return f.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Va(!!b),f):t},f.container=function(b){return arguments.length?(e=typeof b=="function"?b:Va(b),f):e},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Va(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Va(!!b),f):r},f.on=function(){var b=a.on.apply(a,arguments);return b===a?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function ni(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xa(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pn(){}var Yn=.7,Br=1/Yn,$r="\\s*([+-]?\\d+)\\s*",Ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y$=/^#([0-9a-f]{3,8})$/,b$=new RegExp(`^rgb\\(${$r},${$r},${$r}\\)$`),v$=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),_$=new RegExp(`^rgba\\(${$r},${$r},${$r},${Ji}\\)$`),x$=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${Ji}\\)$`),S$=new RegExp(`^hsl\\(${Ji},${Oe},${Oe}\\)$`),A$=new RegExp(`^hsla\\(${Ji},${Oe},${Oe},${Ji}\\)$`),Yd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ni(Pn,vn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wd,formatHex:Wd,formatHex8:P$,formatHsl:w$,formatRgb:Xd,toString:Xd});function Wd(){return this.rgb().formatHex()}function P$(){return this.rgb().formatHex8()}function w$(){return Y1(this).formatHsl()}function Xd(){return this.rgb().formatRgb()}function vn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=y$.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qd(e):n===3?new It(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ya(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ya(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=b$.exec(t))?new It(e[1],e[2],e[3],1):(e=v$.exec(t))?new It(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_$.exec(t))?Ya(e[1],e[2],e[3],e[4]):(e=x$.exec(t))?Ya(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=S$.exec(t))?Jd(e[1],e[2]/100,e[3]/100,1):(e=A$.exec(t))?Jd(e[1],e[2]/100,e[3]/100,e[4]):Yd.hasOwnProperty(t)?qd(Yd[t]):t==="transparent"?new It(NaN,NaN,NaN,0):null}function qd(t){return new It(t>>16&255,t>>8&255,t&255,1)}function Ya(t,e,n,r){return r<=0&&(t=e=n=NaN),new It(t,e,n,r)}function Hf(t){return t instanceof Pn||(t=vn(t)),t?(t=t.rgb(),new It(t.r,t.g,t.b,t.opacity)):new It}function zr(t,e,n,r){return arguments.length===1?Hf(t):new It(t,e,n,r??1)}function It(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ni(It,zr,xa(Pn,{brighter(t){return t=t==null?Br:Math.pow(Br,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yn:Math.pow(Yn,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new It(Gn(this.r),Gn(this.g),Gn(this.b),Qo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zd,formatHex:Zd,formatHex8:T$,formatRgb:Qd,toString:Qd}));function Zd(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}`}function T$(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}${Cn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qd(){const t=Qo(this.opacity);return`${t===1?"rgb(":"rgba("}${Gn(this.r)}, ${Gn(this.g)}, ${Gn(this.b)}${t===1?")":`, ${t})`}`}function Qo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cn(t){return t=Gn(t),(t<16?"0":"")+t.toString(16)}function Jd(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pe(t,e,n,r)}function Y1(t){if(t instanceof Pe)return new Pe(t.h,t.s,t.l,t.opacity);if(t instanceof Pn||(t=vn(t)),!t)return new Pe;if(t instanceof Pe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Pe(o,s,l,t.opacity)}function Jo(t,e,n,r){return arguments.length===1?Y1(t):new Pe(t,e,n,r??1)}function Pe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ni(Pe,Jo,xa(Pn,{brighter(t){return t=t==null?Br:Math.pow(Br,t),new Pe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yn:Math.pow(Yn,t),new Pe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new It(qu(t>=240?t-240:t+120,i,r),qu(t,i,r),qu(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Pe(Kd(this.h),Wa(this.s),Wa(this.l),Qo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qo(this.opacity);return`${t===1?"hsl(":"hsla("}${Kd(this.h)}, ${Wa(this.s)*100}%, ${Wa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kd(t){return t=(t||0)%360,t<0?t+360:t}function Wa(t){return Math.max(0,Math.min(1,t||0))}function qu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const W1=Math.PI/180,X1=180/Math.PI,Ko=18,q1=.96422,Z1=1,Q1=.82521,J1=4/29,Dr=6/29,K1=3*Dr*Dr,E$=Dr*Dr*Dr;function ty(t){if(t instanceof Ee)return new Ee(t.l,t.a,t.b,t.opacity);if(t instanceof Ne)return ny(t);t instanceof It||(t=Hf(t));var e=Ku(t.r),n=Ku(t.g),r=Ku(t.b),i=Zu((.2225045*e+.7168786*n+.0606169*r)/Z1),a,o;return e===n&&n===r?a=o=i:(a=Zu((.4360747*e+.3850649*n+.1430804*r)/q1),o=Zu((.0139322*e+.0971045*n+.7141733*r)/Q1)),new Ee(116*i-16,500*(a-i),200*(i-o),t.opacity)}function $$(t,e){return new Ee(t,0,0,e??1)}function ts(t,e,n,r){return arguments.length===1?ty(t):new Ee(t,e,n,r??1)}function Ee(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}ni(Ee,ts,xa(Pn,{brighter(t){return new Ee(this.l+Ko*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ee(this.l-Ko*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=q1*Qu(e),t=Z1*Qu(t),n=Q1*Qu(n),new It(Ju(3.1338561*e-1.6168667*t-.4906146*n),Ju(-.9787684*e+1.9161415*t+.033454*n),Ju(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Zu(t){return t>E$?Math.pow(t,1/3):t/K1+J1}function Qu(t){return t>Dr?t*t*t:K1*(t-J1)}function Ju(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ku(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ey(t){if(t instanceof Ne)return new Ne(t.h,t.c,t.l,t.opacity);if(t instanceof Ee||(t=ty(t)),t.a===0&&t.b===0)return new Ne(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*X1;return new Ne(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function D$(t,e,n,r){return arguments.length===1?ey(t):new Ne(n,e,t,r??1)}function es(t,e,n,r){return arguments.length===1?ey(t):new Ne(t,e,n,r??1)}function Ne(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ny(t){if(isNaN(t.h))return new Ee(t.l,0,0,t.opacity);var e=t.h*W1;return new Ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ni(Ne,es,xa(Pn,{brighter(t){return new Ne(this.h,this.c,this.l+Ko*(t??1),this.opacity)},darker(t){return new Ne(this.h,this.c,this.l-Ko*(t??1),this.opacity)},rgb(){return ny(this).rgb()}}));var ry=-.14861,jf=1.78277,Uf=-.29227,tu=-.90649,Ki=1.97294,tp=Ki*tu,ep=Ki*jf,np=jf*Uf-tu*ry;function L$(t){if(t instanceof On)return new On(t.h,t.s,t.l,t.opacity);t instanceof It||(t=Hf(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(np*r+tp*e-ep*n)/(np+tp-ep),a=r-i,o=(Ki*(n-i)-Uf*a)/tu,s=Math.sqrt(o*o+a*a)/(Ki*i*(1-i)),l=s?Math.atan2(o,a)*X1-120:NaN;return new On(l<0?l+360:l,s,i,t.opacity)}function De(t,e,n,r){return arguments.length===1?L$(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ni(On,De,xa(Pn,{brighter(t){return t=t==null?Br:Math.pow(Br,t),new On(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yn:Math.pow(Yn,t),new On(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*W1,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new It(255*(e+n*(ry*r+jf*i)),255*(e+n*(Uf*r+tu*i)),255*(e+n*(Ki*r)),this.opacity)}}));function iy(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function ay(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return iy((n-r/e)*e,o,i,a,s)}}function oy(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return iy((n-r/e)*e,i,a,o,s)}}const eu=t=>()=>t;function sy(t,e){return function(n){return t+n*e}}function M$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nu(t,e){var n=e-t;return n?sy(t,n>180||n<-180?n-360*Math.round(n/360):n):eu(isNaN(t)?e:t)}function R$(t){return(t=+t)==1?Ct:function(e,n){return n-e?M$(e,n,t):eu(isNaN(e)?n:e)}}function Ct(t,e){var n=e-t;return n?sy(t,n):eu(isNaN(t)?e:t)}const ta=function t(e){var n=R$(e);function r(i,a){var o=n((i=zr(i)).r,(a=zr(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=Ct(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function uy(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=zr(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var ly=uy(ay),I$=uy(oy);function Vf(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function cy(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C$(t,e){return(cy(e)?Vf:fy)(t,e)}function fy(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=un(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function hy(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dy(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=un(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var oc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tl=new RegExp(oc.source,"g");function N$(t){return function(){return t}}function k$(t){return function(e){return t(e)+""}}function Yf(t,e){var n=oc.lastIndex=tl.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=oc.exec(t))&&(i=tl.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:pe(r,i)})),n=tl.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?k$(l[0].x):N$(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function un(t,e){var n=typeof e,r;return e==null||n==="boolean"?eu(e):(n==="number"?pe:n==="string"?(r=vn(e))?(e=r,ta):Yf:e instanceof vn?ta:e instanceof Date?hy:cy(e)?Vf:Array.isArray(e)?fy:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dy:pe)(t,e)}function G$(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function O$(t,e){var n=nu(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ru(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var rp=180/Math.PI,py={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gy(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*rp,skewX:Math.atan(l)*rp,scaleX:o,scaleY:s}}var Xa;function F$(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?py:gy(e.a,e.b,e.c,e.d,e.e,e.f)}function B$(t){return t==null||(Xa||(Xa=document.createElementNS("http://www.w3.org/2000/svg","g")),Xa.setAttribute("transform",t),!(t=Xa.transform.baseVal.consolidate()))?py:(t=t.matrix,gy(t.a,t.b,t.c,t.d,t.e,t.f))}function my(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push("translate(",null,e,null,n);p.push({i:g-4,x:pe(u,h)},{i:g-2,x:pe(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:pe(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:pe(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:pe(u,h)},{i:g-2,x:pe(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,g=f.length,m;++p<g;)h[(m=f[p]).i]=m.x(d);return h.join("")}}}var yy=my(F$,"px, ","px)","deg)"),by=my(B$,", ",")",")"),z$=1e-12;function ip(t){return((t=Math.exp(t))+1/t)/2}function H$(t){return((t=Math.exp(t))-1/t)/2}function j$(t){return((t=Math.exp(2*t))-1)/(t+1)}const vy=function t(e,n,r){function i(a,o){var s=a[0],l=a[1],u=a[2],c=o[0],h=o[1],f=o[2],d=c-s,p=h-l,g=d*d+p*p,m,y;if(g<z$)y=Math.log(f/u)/e,m=function(x){return[s+x*d,l+x*p,u*Math.exp(e*x*y)]};else{var _=Math.sqrt(g),v=(f*f-u*u+r*g)/(2*u*n*_),b=(f*f-u*u-r*g)/(2*f*n*_),A=Math.log(Math.sqrt(v*v+1)-v),$=Math.log(Math.sqrt(b*b+1)-b);y=($-A)/e,m=function(x){var S=x*y,E=ip(A),D=u/(n*_)*(E*j$(e*S+A)-H$(A));return[s+D*d,l+D*p,u*E/ip(e*S+A)]}}return m.duration=y*1e3*e/Math.SQRT2,m}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return t(o,s,l)},i}(Math.SQRT2,2,4);function _y(t){return function(e,n){var r=t((e=Jo(e)).h,(n=Jo(n)).h),i=Ct(e.s,n.s),a=Ct(e.l,n.l),o=Ct(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const U$=_y(nu);var V$=_y(Ct);function Y$(t,e){var n=Ct((t=ts(t)).l,(e=ts(e)).l),r=Ct(t.a,e.a),i=Ct(t.b,e.b),a=Ct(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function xy(t){return function(e,n){var r=t((e=es(e)).h,(n=es(n)).h),i=Ct(e.c,n.c),a=Ct(e.l,n.l),o=Ct(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const W$=xy(nu);var X$=xy(Ct);function Sy(t){return function e(n){n=+n;function r(i,a){var o=t((i=De(i)).h,(a=De(a)).h),s=Ct(i.s,a.s),l=Ct(i.l,a.l),u=Ct(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}const q$=Sy(nu);var iu=Sy(Ct);function Ay(t,e){e===void 0&&(e=t,t=un);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Z$(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Hr=0,xi=0,ci=0,Py=1e3,ns,Si,rs=0,Wn=0,au=0,ea=typeof performance=="object"&&performance.now?performance:Date,wy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sa(){return Wn||(wy(Q$),Wn=ea.now()+au)}function Q$(){Wn=0}function na(){this._call=this._time=this._next=null}na.prototype=ou.prototype={constructor:na,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Sa():+n)+(e==null?0:+e),!this._next&&Si!==this&&(Si?Si._next=this:ns=this,Si=this),this._call=t,this._time=n,sc()},stop:function(){this._call&&(this._call=null,this._time=1/0,sc())}};function ou(t,e,n){var r=new na;return r.restart(t,e,n),r}function Ty(){Sa(),++Hr;for(var t=ns,e;t;)(e=Wn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hr}function ap(){Wn=(rs=ea.now())+au,Hr=xi=0;try{Ty()}finally{Hr=0,K$(),Wn=0}}function J$(){var t=ea.now(),e=t-rs;e>Py&&(au-=e,rs=t)}function K$(){for(var t,e=ns,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ns=n);Si=t,sc(r)}function sc(t){if(!Hr){xi&&(xi=clearTimeout(xi));var e=t-Wn;e>24?(t<1/0&&(xi=setTimeout(ap,t-ea.now()-au)),ci&&(ci=clearInterval(ci))):(ci||(rs=ea.now(),ci=setInterval(J$,Py)),Hr=1,wy(ap))}}function uc(t,e,n){var r=new na;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function t5(t,e,n){var r=new na,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?Sa():+s,r._restart(function l(u){u+=i,r._restart(l,i+=o,s),a(u)},o,s)},r.restart(t,e,n),r)}var e5=nr("start","end","cancel","interrupt"),n5=[],Ey=0,lc=1,cc=2,So=3,op=4,fc=5,Ao=6;function su(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;r5(t,n,{name:e,index:r,group:i,on:e5,tween:n5,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ey})}function Wf(t,e){var n=Me(t,e);if(n.state>Ey)throw new Error("too late; already scheduled");return n}function Ve(t,e){var n=Me(t,e);if(n.state>So)throw new Error("too late; already running");return n}function Me(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function r5(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ou(a,0,n.time);function a(u){n.state=lc,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,h,f,d;if(n.state!==lc)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===So)return uc(o);d.state===op?(d.state=Ao,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Ao,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(uc(function(){n.state===So&&(n.state=op,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=cc,n.on.call("start",t,t.__data__,n.index,n.group),n.state===cc){for(n.state=So,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=fc,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===fc&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ao,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Fn(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>cc&&r.state<fc,r.state=Ao,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function i5(t){return this.each(function(){Fn(this,t)})}function a5(t,e){var n,r;return function(){var i=Ve(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function o5(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ve(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function s5(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Me(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?a5:o5)(n,t,e))}function Xf(t,e,n){var r=t._id;return t.each(function(){var i=Ve(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Me(i,r).value[e]}}function $y(t,e){var n;return(typeof e=="number"?pe:e instanceof vn?ta:(n=vn(e))?(e=n,ta):Yf)(t,e)}function u5(t){return function(){this.removeAttribute(t)}}function l5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function c5(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function f5(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function h5(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function d5(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function p5(t,e){var n=_a(t),r=n==="transform"?by:$y;return this.attrTween(t,typeof e=="function"?(n.local?d5:h5)(n,r,Xf(this,"attr."+t,e)):e==null?(n.local?l5:u5)(n):(n.local?f5:c5)(n,r,e))}function g5(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function m5(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function y5(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&m5(t,a)),n}return i._value=e,i}function b5(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&g5(t,a)),n}return i._value=e,i}function v5(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=_a(t);return this.tween(n,(r.local?y5:b5)(r,e))}function _5(t,e){return function(){Wf(this,t).delay=+e.apply(this,arguments)}}function x5(t,e){return e=+e,function(){Wf(this,t).delay=e}}function S5(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_5:x5)(e,t)):Me(this.node(),e).delay}function A5(t,e){return function(){Ve(this,t).duration=+e.apply(this,arguments)}}function P5(t,e){return e=+e,function(){Ve(this,t).duration=e}}function w5(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?A5:P5)(e,t)):Me(this.node(),e).duration}function T5(t,e){if(typeof e!="function")throw new Error;return function(){Ve(this,t).ease=e}}function E5(t){var e=this._id;return arguments.length?this.each(T5(e,t)):Me(this.node(),e).ease}function $5(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ve(this,t).ease=n}}function D5(t){if(typeof t!="function")throw new Error;return this.each($5(this._id,t))}function L5(t){typeof t!="function"&&(t=Of(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new Fe(r,this._parents,this._name,this._id)}function M5(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],u=n[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<r;++s)o[s]=e[s];return new Fe(o,this._parents,this._name,this._id)}function R5(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function I5(t,e,n){var r,i,a=R5(e)?Wf:Ve;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function C5(t,e){var n=this._id;return arguments.length<2?Me(this.node(),n).on.on(t):this.each(I5(n,t,e))}function N5(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function k5(){return this.on("end.remove",N5(this._id))}function G5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qs(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,su(u[f],e,n,f,u,Me(c,n)));return new Fe(a,this._parents,e,n)}function O5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gf(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,p=Me(c,n),g=0,m=f.length;g<m;++g)(d=f[g])&&su(d,e,n,g,f,p);a.push(f),o.push(c)}return new Fe(a,o,e,n)}var F5=rr.prototype.constructor;function B5(){return new F5(this._groups,this._parents)}function z5(t,e){var n,r,i;return function(){var a=Vn(this,t),o=(this.style.removeProperty(t),Vn(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Dy(t){return function(){this.style.removeProperty(t)}}function H5(t,e,n){var r,i=n+"",a;return function(){var o=Vn(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function j5(t,e,n){var r,i,a;return function(){var o=Vn(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Vn(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function U5(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=Ve(this,t),u=l.on,c=l.value[a]==null?s||(s=Dy(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function V5(t,e,n){var r=(t+="")=="transform"?yy:$y;return e==null?this.styleTween(t,z5(t,r)).on("end.style."+t,Dy(t)):typeof e=="function"?this.styleTween(t,j5(t,r,Xf(this,"style."+t,e))).each(U5(this._id,t)):this.styleTween(t,H5(t,r,e),n).on("end.style."+t,null)}function Y5(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function W5(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Y5(t,o,n)),r}return a._value=e,a}function X5(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,W5(t,e,n??""))}function q5(t){return function(){this.textContent=t}}function Z5(t){return function(){var e=t(this);this.textContent=e??""}}function Q5(t){return this.tween("text",typeof t=="function"?Z5(Xf(this,"text",t)):q5(t==null?"":t+""))}function J5(t){return function(e){this.textContent=t.call(this,e)}}function K5(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&J5(i)),e}return r._value=t,r}function t3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,K5(t))}function e3(){for(var t=this._name,e=this._id,n=My(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=Me(l,e);su(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fe(r,this._parents,t,n)}function n3(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var u=Ve(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&a()})}var r3=0;function Fe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ly(t){return rr().transition(t)}function My(){return++r3}var Xe=rr.prototype;Fe.prototype=Ly.prototype={constructor:Fe,select:G5,selectAll:O5,selectChild:Xe.selectChild,selectChildren:Xe.selectChildren,filter:L5,merge:M5,selection:B5,transition:e3,call:Xe.call,nodes:Xe.nodes,node:Xe.node,size:Xe.size,empty:Xe.empty,each:Xe.each,on:C5,attr:p5,attrTween:v5,style:V5,styleTween:X5,text:Q5,textTween:t3,remove:k5,tween:s5,delay:S5,duration:w5,ease:E5,easeVarying:D5,end:n3,[Symbol.iterator]:Xe[Symbol.iterator]};const i3=t=>+t;function a3(t){return t*t}function o3(t){return t*(2-t)}function sp(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function s3(t){return t*t*t}function u3(t){return--t*t*t+1}function ra(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qf=3,l3=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(qf),c3=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(qf),up=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(qf),Ry=Math.PI,Iy=Ry/2;function f3(t){return+t==1?1:1-Math.cos(t*Iy)}function h3(t){return Math.sin(t*Iy)}function lp(t){return(1-Math.cos(Ry*t))/2}function _n(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function d3(t){return _n(1-+t)}function p3(t){return 1-_n(t)}function cp(t){return((t*=2)<=1?_n(1-t):2-_n(t-1))/2}function g3(t){return 1-Math.sqrt(1-t*t)}function m3(t){return Math.sqrt(1- --t*t)}function fp(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var hc=4/11,y3=6/11,b3=8/11,v3=3/4,_3=9/11,x3=10/11,S3=15/16,A3=21/22,P3=63/64,qa=1/hc/hc;function w3(t){return 1-ia(1-t)}function ia(t){return(t=+t)<hc?qa*t*t:t<b3?qa*(t-=y3)*t+v3:t<x3?qa*(t-=_3)*t+S3:qa*(t-=A3)*t+P3}function T3(t){return((t*=2)<=1?1-ia(1-t):ia(t-1)+1)/2}var Zf=1.70158,E3=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(Zf),$3=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(Zf),hp=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(Zf),jr=2*Math.PI,Qf=1,Jf=.3,D3=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=jr);function i(a){return e*_n(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return t(a,n*jr)},i.period=function(a){return t(e,a)},i}(Qf,Jf),aa=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=jr);function i(a){return 1-e*_n(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return t(a,n*jr)},i.period=function(a){return t(e,a)},i}(Qf,Jf),L3=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=jr);function i(a){return((a=a*2-1)<0?e*_n(-a)*Math.sin((r-a)/n):2-e*_n(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return t(a,n*jr)},i.period=function(a){return t(e,a)},i}(Qf,Jf),M3={time:null,delay:0,duration:250,ease:ra};function R3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function I3(t){var e,n;t instanceof Fe?(e=t._id,t=t._name):(e=My(),(n=M3).time=Sa(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&su(l,t,e,u,o,n||R3(l,e));return new Fe(r,this._parents,t,e)}rr.prototype.interrupt=i5;rr.prototype.transition=I3;var C3=[null];function N3(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>lc&&r.name===e)return new Fe([[t]],C3,e,+i)}return null}const el=t=>()=>t;function k3(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function G3(t){t.stopImmediatePropagation()}function nl(t){t.preventDefault(),t.stopImmediatePropagation()}var dp={name:"drag"},rl={name:"space"},hr={name:"handle"},dr={name:"center"};const{abs:pp,max:Ot,min:Ft}=Math;function gp(t){return[+t[0],+t[1]]}function dc(t){return[gp(t[0]),gp(t[1])]}var Po={name:"x",handles:["w","e"].map(oa),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},wo={name:"y",handles:["n","s"].map(oa),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},O3={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(oa),input:function(t){return t==null?null:dc(t)},output:function(t){return t}},qe={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yp={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},F3={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},B3={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function oa(t){return{type:t}}function z3(t){return!t.ctrlKey&&!t.button}function H3(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function j3(){return navigator.maxTouchPoints||"ontouchstart"in this}function il(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function U3(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function V3(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Y3(){return Kf(Po)}function W3(){return Kf(wo)}function X3(){return Kf(O3)}function Kf(t){var e=H3,n=z3,r=j3,i=!0,a=nr("start","brush","end"),o=6,s;function l(m){var y=m.property("__brush",g).selectAll(".overlay").data([oa("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",qe.overlay).merge(y).each(function(){var v=il(this).extent;q(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),m.selectAll(".selection").data([oa("selection")]).enter().append("rect").attr("class","selection").attr("cursor",qe.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=m.selectAll(".handle").data(t.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return qe[v.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(m,y,_){m.tween?m.on("start.brush",function(v){c(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){c(this,arguments).end(v)}).tween("brush",function(){var v=this,b=v.__brush,A=c(v,arguments),$=b.selection,x=t.input(typeof y=="function"?y.apply(this,arguments):y,b.extent),S=un($,x);function E(D){b.selection=D===1&&x===null?null:S(D),u.call(v),A.brush()}return $!==null&&x!==null?E:E(1)}):m.each(function(){var v=this,b=arguments,A=v.__brush,$=t.input(typeof y=="function"?y.apply(v,b):y,A.extent),x=c(v,b).beforestart();Fn(v),A.selection=$===null?null:$,u.call(v),x.start(_).brush(_).end(_)})},l.clear=function(m,y){l.move(m,null,y)};function u(){var m=q(this),y=il(this).selection;y?(m.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?y[1][1]-y[0][1]+o:o})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(m,y,_){var v=m.__brush.emitter;return v&&(!_||!v.clean)?v:new h(m,y,_)}function h(m,y,_){this.that=m,this.args=y,this.state=m.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,y){return this.starting?(this.starting=!1,this.emit("start",m,y)):this.emit("brush",m),this},brush:function(m,y){return this.emit("brush",m,y),this},end:function(m,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,y)),this},emit:function(m,y,_){var v=q(this.that).datum();a.call(m,this.that,new k3(m,{sourceEvent:y,target:l,selection:t.output(this.state.selection),mode:_,dispatch:a}),v)}};function f(m){if(s&&!m.touches||!n.apply(this,arguments))return;var y=this,_=m.target.__data__.type,v=(i&&m.metaKey?_="overlay":_)==="selection"?dp:i&&m.altKey?dr:hr,b=t===wo?null:F3[_],A=t===Po?null:B3[_],$=il(y),x=$.extent,S=$.selection,E=x[0][0],D,w,O=x[0][1],N,P,L=x[1][0],T,G,z=x[1][1],M,I,R=0,k=0,H,J=b&&A&&i&&m.shiftKey,B,V,W=Array.from(m.touches||[m],ot=>{const wt=ot.identifier;return ot=ue(ot,y),ot.point0=ot.slice(),ot.identifier=wt,ot});Fn(y);var ft=c(y,arguments,!0).beforestart();if(_==="overlay"){S&&(H=!0);const ot=[W[0],W[1]||W[0]];$.selection=S=[[D=t===wo?E:Ft(ot[0][0],ot[1][0]),N=t===Po?O:Ft(ot[0][1],ot[1][1])],[T=t===wo?L:Ot(ot[0][0],ot[1][0]),M=t===Po?z:Ot(ot[0][1],ot[1][1])]],W.length>1&&mt(m)}else D=S[0][0],N=S[0][1],T=S[1][0],M=S[1][1];w=D,P=N,G=T,I=M;var X=q(y).attr("pointer-events","none"),tt=X.selectAll(".overlay").attr("cursor",qe[_]);if(m.touches)ft.moved=Y,ft.ended=yt;else{var st=q(m.view).on("mousemove.brush",Y,!0).on("mouseup.brush",yt,!0);i&&st.on("keydown.brush",Ut,!0).on("keyup.brush",Vt,!0),Js(m.view)}u.call(y),ft.start(m,v.name);function Y(ot){for(const wt of ot.changedTouches||[ot])for(const si of W)si.identifier===wt.identifier&&(si.cur=ue(wt,y));if(J&&!B&&!V&&W.length===1){const wt=W[0];pp(wt.cur[0]-wt[0])>pp(wt.cur[1]-wt[1])?V=!0:B=!0}for(const wt of W)wt.cur&&(wt[0]=wt.cur[0],wt[1]=wt.cur[1]);H=!0,nl(ot),mt(ot)}function mt(ot){const wt=W[0],si=wt.point0;var cn;switch(R=wt[0]-si[0],k=wt[1]-si[1],v){case rl:case dp:{b&&(R=Ot(E-D,Ft(L-T,R)),w=D+R,G=T+R),A&&(k=Ot(O-N,Ft(z-M,k)),P=N+k,I=M+k);break}case hr:{W[1]?(b&&(w=Ot(E,Ft(L,W[0][0])),G=Ot(E,Ft(L,W[1][0])),b=1),A&&(P=Ot(O,Ft(z,W[0][1])),I=Ot(O,Ft(z,W[1][1])),A=1)):(b<0?(R=Ot(E-D,Ft(L-D,R)),w=D+R,G=T):b>0&&(R=Ot(E-T,Ft(L-T,R)),w=D,G=T+R),A<0?(k=Ot(O-N,Ft(z-N,k)),P=N+k,I=M):A>0&&(k=Ot(O-M,Ft(z-M,k)),P=N,I=M+k));break}case dr:{b&&(w=Ot(E,Ft(L,D-R*b)),G=Ot(E,Ft(L,T+R*b))),A&&(P=Ot(O,Ft(z,N-k*A)),I=Ot(O,Ft(z,M+k*A)));break}}G<w&&(b*=-1,cn=D,D=T,T=cn,cn=w,w=G,G=cn,_ in mp&&tt.attr("cursor",qe[_=mp[_]])),I<P&&(A*=-1,cn=N,N=M,M=cn,cn=P,P=I,I=cn,_ in yp&&tt.attr("cursor",qe[_=yp[_]])),$.selection&&(S=$.selection),B&&(w=S[0][0],G=S[1][0]),V&&(P=S[0][1],I=S[1][1]),(S[0][0]!==w||S[0][1]!==P||S[1][0]!==G||S[1][1]!==I)&&($.selection=[[w,P],[G,I]],u.call(y),ft.brush(ot,v.name))}function yt(ot){if(G3(ot),ot.touches){if(ot.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else Ks(ot.view,H),st.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);X.attr("pointer-events","all"),tt.attr("cursor",qe.overlay),$.selection&&(S=$.selection),U3(S)&&($.selection=null,u.call(y)),ft.end(ot,v.name)}function Ut(ot){switch(ot.keyCode){case 16:{J=b&&A;break}case 18:{v===hr&&(b&&(T=G-R*b,D=w+R*b),A&&(M=I-k*A,N=P+k*A),v=dr,mt(ot));break}case 32:{(v===hr||v===dr)&&(b<0?T=G-R:b>0&&(D=w-R),A<0?M=I-k:A>0&&(N=P-k),v=rl,tt.attr("cursor",qe.selection),mt(ot));break}default:return}nl(ot)}function Vt(ot){switch(ot.keyCode){case 16:{J&&(B=V=J=!1,mt(ot));break}case 18:{v===dr&&(b<0?T=G:b>0&&(D=w),A<0?M=I:A>0&&(N=P),v=hr,mt(ot));break}case 32:{v===rl&&(ot.altKey?(b&&(T=G-R*b,D=w+R*b),A&&(M=I-k*A,N=P+k*A),v=dr):(b<0?T=G:b>0&&(D=w),A<0?M=I:A>0&&(N=P),v=hr),tt.attr("cursor",qe[_]),mt(ot));break}default:return}nl(ot)}}function d(m){c(this,arguments).moved(m)}function p(m){c(this,arguments).ended(m)}function g(){var m=this.__brush||{selection:null};return m.extent=dc(e.apply(this,arguments)),m.dim=t,m}return l.extent=function(m){return arguments.length?(e=typeof m=="function"?m:el(dc(m)),l):e},l.filter=function(m){return arguments.length?(n=typeof m=="function"?m:el(!!m),l):n},l.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:el(!!m),l):r},l.handleSize=function(m){return arguments.length?(o=+m,l):o},l.keyModifiers=function(m){return arguments.length?(i=!!m,l):i},l.on=function(){var m=a.on.apply(a,arguments);return m===a?l:m},l}var bp=Math.abs,pr=Math.cos,gr=Math.sin,Cy=Math.PI,Za=Cy/2,vp=Cy*2,_p=Math.max,al=1e-12;function ol(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function q3(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Z3(){return th(!1,!1)}function Q3(){return th(!1,!0)}function J3(){return th(!0,!1)}function th(t,e){var n=0,r=null,i=null,a=null;function o(s){var l=s.length,u=new Array(l),c=ol(0,l),h=new Array(l*l),f=new Array(l),d=0,p;s=Float64Array.from({length:l*l},e?(g,m)=>s[m%l][m/l|0]:(g,m)=>s[m/l|0][m%l]);for(let g=0;g<l;++g){let m=0;for(let y=0;y<l;++y)m+=s[g*l+y]+t*s[y*l+g];d+=u[g]=m}d=_p(0,vp-n*l)/d,p=d?n:vp/l;{let g=0;r&&c.sort((m,y)=>r(u[m],u[y]));for(const m of c){const y=g;if(t){const _=ol(~l+1,l).filter(v=>v<0?s[~v*l+m]:s[m*l+v]);i&&_.sort((v,b)=>i(v<0?-s[~v*l+m]:s[m*l+v],b<0?-s[~b*l+m]:s[m*l+b]));for(const v of _)if(v<0){const b=h[~v*l+m]||(h[~v*l+m]={source:null,target:null});b.target={index:m,startAngle:g,endAngle:g+=s[~v*l+m]*d,value:s[~v*l+m]}}else{const b=h[m*l+v]||(h[m*l+v]={source:null,target:null});b.source={index:m,startAngle:g,endAngle:g+=s[m*l+v]*d,value:s[m*l+v]}}f[m]={index:m,startAngle:y,endAngle:g,value:u[m]}}else{const _=ol(0,l).filter(v=>s[m*l+v]||s[v*l+m]);i&&_.sort((v,b)=>i(s[m*l+v],s[m*l+b]));for(const v of _){let b;if(m<v?(b=h[m*l+v]||(h[m*l+v]={source:null,target:null}),b.source={index:m,startAngle:g,endAngle:g+=s[m*l+v]*d,value:s[m*l+v]}):(b=h[v*l+m]||(h[v*l+m]={source:null,target:null}),b.target={index:m,startAngle:g,endAngle:g+=s[m*l+v]*d,value:s[m*l+v]},m===v&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){const A=b.source;b.source=b.target,b.target=A}}f[m]={index:m,startAngle:y,endAngle:g,value:u[m]}}g+=p}}return h=Object.values(h),h.groups=f,a?h.sort(a):h}return o.padAngle=function(s){return arguments.length?(n=_p(0,s),o):n},o.sortGroups=function(s){return arguments.length?(r=s,o):r},o.sortSubgroups=function(s){return arguments.length?(i=s,o):i},o.sortChords=function(s){return arguments.length?(s==null?a=null:(a=q3(s))._=s,o):a&&a._},o}const pc=Math.PI,gc=2*pc,Dn=1e-6,K3=gc-Dn;function Ny(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tD(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ny;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Aa=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ny:tD(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,a){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-t,l=r-e,u=a-t,c=o-e,h=u*u+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Dn)if(!(Math.abs(c*s-l*u)>Dn)||!i)this._append`L${this._x1=t},${this._y1=e}`;else{let f=n-a,d=r-o,p=s*s+l*l,g=f*f+d*d,m=Math.sqrt(p),y=Math.sqrt(h),_=i*Math.tan((pc-Math.acos((p+h-g)/(2*m*y)))/2),v=_/y,b=_/m;Math.abs(v-1)>Dn&&this._append`L${t+v*u},${e+v*c}`,this._append`A${i},${i},0,0,${+(c*f>u*d)},${this._x1=t+b*s},${this._y1=e+b*l}`}}arc(t,e,n,r,i,a){if(t=+t,e=+e,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=t+o,u=e+s,c=1^a,h=a?r-i:i-r;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Dn||Math.abs(this._y1-u)>Dn)&&this._append`L${l},${u}`,n&&(h<0&&(h=h%gc+gc),h>K3?this._append`A${n},${n},0,1,${c},${t-o},${e-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:h>Dn&&this._append`A${n},${n},0,${+(h>=pc)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function eh(){return new Aa}eh.prototype=Aa.prototype;function eD(t=3){return new Aa(+t)}var nD=Array.prototype.slice;function En(t){return function(){return t}}function rD(t){return t.source}function iD(t){return t.target}function xp(t){return t.radius}function aD(t){return t.startAngle}function oD(t){return t.endAngle}function sD(){return 0}function uD(){return 10}function ky(t){var e=rD,n=iD,r=xp,i=xp,a=aD,o=oD,s=sD,l=null;function u(){var c,h=e.apply(this,arguments),f=n.apply(this,arguments),d=s.apply(this,arguments)/2,p=nD.call(arguments),g=+r.apply(this,(p[0]=h,p)),m=a.apply(this,p)-Za,y=o.apply(this,p)-Za,_=+i.apply(this,(p[0]=f,p)),v=a.apply(this,p)-Za,b=o.apply(this,p)-Za;if(l||(l=c=eh()),d>al&&(bp(y-m)>d*2+al?y>m?(m+=d,y-=d):(m-=d,y+=d):m=y=(m+y)/2,bp(b-v)>d*2+al?b>v?(v+=d,b-=d):(v-=d,b+=d):v=b=(v+b)/2),l.moveTo(g*pr(m),g*gr(m)),l.arc(0,0,g,m,y),m!==v||y!==b)if(t){var A=+t.apply(this,arguments),$=_-A,x=(v+b)/2;l.quadraticCurveTo(0,0,$*pr(v),$*gr(v)),l.lineTo(_*pr(x),_*gr(x)),l.lineTo($*pr(b),$*gr(b))}else l.quadraticCurveTo(0,0,_*pr(v),_*gr(v)),l.arc(0,0,_,v,b);if(l.quadraticCurveTo(0,0,g*pr(m),g*gr(m)),l.closePath(),c)return l=null,c+""||null}return t&&(u.headRadius=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),u):t}),u.radius=function(c){return arguments.length?(r=i=typeof c=="function"?c:En(+c),u):r},u.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:En(+c),u):r},u.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:En(+c),u):i},u.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:En(+c),u):a},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:En(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:En(+c),u):s},u.source=function(c){return arguments.length?(e=c,u):e},u.target=function(c){return arguments.length?(n=c,u):n},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function lD(){return ky()}function cD(){return ky(uD)}var fD=Array.prototype,Gy=fD.slice;function hD(t,e){return t-e}function dD(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const fn=t=>()=>t;function pD(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=gD(t,e[n]))return i;return 0}function gD(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var l=t[a],u=l[0],c=l[1],h=t[s],f=h[0],d=h[1];if(mD(l,h,e))return 0;c>r!=d>r&&n<(f-u)*(r-c)/(d-c)+u&&(i=-i)}return i}function mD(t,e,n){var r;return yD(t,e,n)&&bD(t[r=+(t[0]===e[0])],n[r],e[r])}function yD(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function bD(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function vD(){}var Ze=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function mc(){var t=1,e=1,n=If,r=l;function i(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(hD);else{const h=Ri(u,_D);for(c=jn(...Rf(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>a(u,h))}function a(u,c){const h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var f=[],d=[];return o(u,h,function(p){r(p,u,h),dD(p)>0?f.push([p]):d.push(p)}),d.forEach(function(p){for(var g=0,m=f.length,y;g<m;++g)if(pD((y=f[g])[0],p)!==-1){y.push(p);return}}),{type:"MultiPolygon",value:c,coordinates:f}}function o(u,c,h){var f=new Array,d=new Array,p,g,m,y,_,v;for(p=g=-1,y=$n(u[0],c),Ze[y<<1].forEach(b);++p<t-1;)m=y,y=$n(u[p+1],c),Ze[m|y<<1].forEach(b);for(Ze[y<<0].forEach(b);++g<e-1;){for(p=-1,y=$n(u[g*t+t],c),_=$n(u[g*t],c),Ze[y<<1|_<<2].forEach(b);++p<t-1;)m=y,y=$n(u[g*t+t+p+1],c),v=_,_=$n(u[g*t+p+1],c),Ze[m|y<<1|_<<2|v<<3].forEach(b);Ze[y|_<<3].forEach(b)}for(p=-1,_=u[g*t]>=c,Ze[_<<2].forEach(b);++p<t-1;)v=_,_=$n(u[g*t+p+1],c),Ze[_<<2|v<<3].forEach(b);Ze[_<<3].forEach(b);function b(A){var $=[A[0][0]+p,A[0][1]+g],x=[A[1][0]+p,A[1][1]+g],S=s($),E=s(x),D,w;(D=d[S])?(w=f[E])?(delete d[D.end],delete f[w.start],D===w?(D.ring.push(x),h(D.ring)):f[D.start]=d[w.end]={start:D.start,end:w.end,ring:D.ring.concat(w.ring)}):(delete d[D.end],D.ring.push(x),d[D.end=E]=D):(D=f[E])?(w=d[S])?(delete f[D.start],delete d[w.end],D===w?(D.ring.push(x),h(D.ring)):f[w.start]=d[D.end]={start:w.start,end:D.end,ring:w.ring.concat(D.ring)}):(delete f[D.start],D.ring.unshift($),f[D.start=S]=D):f[S]=d[E]={start:S,end:E,ring:[$,x]}}}function s(u){return u[0]*2+u[1]*(t+1)*4}function l(u,c,h){u.forEach(function(f){var d=f[0],p=f[1],g=d|0,m=p|0,y=sl(c[m*t+g]);d>0&&d<t&&g===d&&(f[0]=Sp(d,sl(c[m*t+g-1]),y,h)),p>0&&p<e&&m===p&&(f[1]=Sp(p,sl(c[(m-1)*t+g]),y,h))})}return i.contour=a,i.size=function(u){if(!arguments.length)return[t,e];var c=Math.floor(u[0]),h=Math.floor(u[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,e=h,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?fn(Gy.call(u)):fn(u),i):n},i.smooth=function(u){return arguments.length?(r=u?l:vD,i):r===l},i}function _D(t){return isFinite(t)?t:NaN}function $n(t,e){return t==null?!1:+t>=e}function sl(t){return t==null||isNaN(t=+t)?-1/0:t}function Sp(t,e,n,r){const i=r-e,a=n-e,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?t:t+o-.5}function xD(t){return t[0]}function SD(t){return t[1]}function AD(){return 1}function PD(){var t=xD,e=SD,n=AD,r=960,i=500,a=20,o=2,s=a*3,l=r+s*2>>o,u=i+s*2>>o,c=fn(20);function h(_){var v=new Float32Array(l*u),b=Math.pow(2,-o),A=-1;for(const N of _){var $=(t(N,++A,_)+s)*b,x=(e(N,A,_)+s)*b,S=+n(N,A,_);if(S&&$>=0&&$<l&&x>=0&&x<u){var E=Math.floor($),D=Math.floor(x),w=$-E-.5,O=x-D-.5;v[E+D*l]+=(1-w)*(1-O)*S,v[E+1+D*l]+=w*(1-O)*S,v[E+1+(D+1)*l]+=w*O*S,v[E+(D+1)*l]+=(1-w)*O*S}}return f1({data:v,width:l,height:u},a*b),v}function f(_){var v=h(_),b=c(v),A=Math.pow(2,2*o);return Array.isArray(b)||(b=jn(Number.MIN_VALUE,qi(v)/A,b)),mc().size([l,u]).thresholds(b.map($=>$*A))(v).map(($,x)=>($.value=+b[x],d($)))}f.contours=function(_){var v=h(_),b=mc().size([l,u]),A=Math.pow(2,2*o),$=x=>{x=+x;var S=d(b.contour(v,x*A));return S.value=x,S};return Object.defineProperty($,"max",{get:()=>qi(v)/A}),$};function d(_){return _.coordinates.forEach(p),_}function p(_){_.forEach(g)}function g(_){_.forEach(m)}function m(_){_[0]=_[0]*Math.pow(2,o)-s,_[1]=_[1]*Math.pow(2,o)-s}function y(){return s=a*3,l=r+s*2>>o,u=i+s*2>>o,f}return f.x=function(_){return arguments.length?(t=typeof _=="function"?_:fn(+_),f):t},f.y=function(_){return arguments.length?(e=typeof _=="function"?_:fn(+_),f):e},f.weight=function(_){return arguments.length?(n=typeof _=="function"?_:fn(+_),f):n},f.size=function(_){if(!arguments.length)return[r,i];var v=+_[0],b=+_[1];if(!(v>=0&&b>=0))throw new Error("invalid size");return r=v,i=b,y()},f.cellSize=function(_){if(!arguments.length)return 1<<o;if(!((_=+_)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(_)/Math.LN2),y()},f.thresholds=function(_){return arguments.length?(c=typeof _=="function"?_:Array.isArray(_)?fn(Gy.call(_)):fn(_),f):c},f.bandwidth=function(_){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*_*_+1)-1)/2,y()},f}const rn=11102230246251565e-32,Bt=134217729,wD=(3+8*rn)*rn;function ul(t,e,n,r,i){let a,o,s,l,u=e[0],c=r[0],h=0,f=0;c>u==c>-u?(a=u,u=e[++h]):(a=c,c=r[++f]);let d=0;if(h<t&&f<n)for(c>u==c>-u?(o=u+a,s=a-(o-u),u=e[++h]):(o=c+a,s=a-(o-c),c=r[++f]),a=o,s!==0&&(i[d++]=s);h<t&&f<n;)c>u==c>-u?(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=e[++h]):(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++f]),a=o,s!==0&&(i[d++]=s);for(;h<t;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=e[++h],a=o,s!==0&&(i[d++]=s);for(;f<n;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++f],a=o,s!==0&&(i[d++]=s);return(a!==0||d===0)&&(i[d++]=a),d}function TD(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Pa(t){return new Float64Array(t)}const ED=(3+16*rn)*rn,$D=(2+12*rn)*rn,DD=(9+64*rn)*rn*rn,mr=Pa(4),Ap=Pa(8),Pp=Pa(12),wp=Pa(16),Yt=Pa(4);function LD(t,e,n,r,i,a,o){let s,l,u,c,h,f,d,p,g,m,y,_,v,b,A,$,x,S;const E=t-i,D=n-i,w=e-a,O=r-a;b=E*O,f=Bt*E,d=f-(f-E),p=E-d,f=Bt*O,g=f-(f-O),m=O-g,A=p*m-(b-d*g-p*g-d*m),$=w*D,f=Bt*w,d=f-(f-w),p=w-d,f=Bt*D,g=f-(f-D),m=D-g,x=p*m-($-d*g-p*g-d*m),y=A-x,h=A-y,mr[0]=A-(y+h)+(h-x),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-$,h=v-y,mr[1]=v-(y+h)+(h-$),S=_+y,h=S-_,mr[2]=_-(S-h)+(y-h),mr[3]=S;let N=TD(4,mr),P=$D*o;if(N>=P||-N>=P||(h=t-E,s=t-(E+h)+(h-i),h=n-D,u=n-(D+h)+(h-i),h=e-w,l=e-(w+h)+(h-a),h=r-O,c=r-(O+h)+(h-a),s===0&&l===0&&u===0&&c===0)||(P=DD*o+wD*Math.abs(N),N+=E*c+O*s-(w*u+D*l),N>=P||-N>=P))return N;b=s*O,f=Bt*s,d=f-(f-s),p=s-d,f=Bt*O,g=f-(f-O),m=O-g,A=p*m-(b-d*g-p*g-d*m),$=l*D,f=Bt*l,d=f-(f-l),p=l-d,f=Bt*D,g=f-(f-D),m=D-g,x=p*m-($-d*g-p*g-d*m),y=A-x,h=A-y,Yt[0]=A-(y+h)+(h-x),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-$,h=v-y,Yt[1]=v-(y+h)+(h-$),S=_+y,h=S-_,Yt[2]=_-(S-h)+(y-h),Yt[3]=S;const L=ul(4,mr,4,Yt,Ap);b=E*c,f=Bt*E,d=f-(f-E),p=E-d,f=Bt*c,g=f-(f-c),m=c-g,A=p*m-(b-d*g-p*g-d*m),$=w*u,f=Bt*w,d=f-(f-w),p=w-d,f=Bt*u,g=f-(f-u),m=u-g,x=p*m-($-d*g-p*g-d*m),y=A-x,h=A-y,Yt[0]=A-(y+h)+(h-x),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-$,h=v-y,Yt[1]=v-(y+h)+(h-$),S=_+y,h=S-_,Yt[2]=_-(S-h)+(y-h),Yt[3]=S;const T=ul(L,Ap,4,Yt,Pp);b=s*c,f=Bt*s,d=f-(f-s),p=s-d,f=Bt*c,g=f-(f-c),m=c-g,A=p*m-(b-d*g-p*g-d*m),$=l*u,f=Bt*l,d=f-(f-l),p=l-d,f=Bt*u,g=f-(f-u),m=u-g,x=p*m-($-d*g-p*g-d*m),y=A-x,h=A-y,Yt[0]=A-(y+h)+(h-x),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-$,h=v-y,Yt[1]=v-(y+h)+(h-$),S=_+y,h=S-_,Yt[2]=_-(S-h)+(y-h),Yt[3]=S;const G=ul(T,Pp,4,Yt,wp);return wp[G-1]}function Qa(t,e,n,r,i,a){const o=(e-a)*(n-i),s=(t-i)*(r-a),l=o-s,u=Math.abs(o+s);return Math.abs(l)>=ED*u?l:-LD(t,e,n,r,i,a,u)}const Tp=Math.pow(2,-52),Ja=new Uint32Array(512);class is{static from(e,n=ND,r=kD){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=e[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new is(a)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=e.length>>1;let s=1/0,l=1/0,u=-1/0,c=-1/0;for(let E=0;E<o;E++){const D=e[2*E],w=e[2*E+1];D<s&&(s=D),w<l&&(l=w),D>u&&(u=D),w>c&&(c=w),this._ids[E]=E}const h=(s+u)/2,f=(l+c)/2;let d,p,g;for(let E=0,D=1/0;E<o;E++){const w=ll(h,f,e[2*E],e[2*E+1]);w<D&&(d=E,D=w)}const m=e[2*d],y=e[2*d+1];for(let E=0,D=1/0;E<o;E++){if(E===d)continue;const w=ll(m,y,e[2*E],e[2*E+1]);w<D&&w>0&&(p=E,D=w)}let _=e[2*p],v=e[2*p+1],b=1/0;for(let E=0;E<o;E++){if(E===d||E===p)continue;const D=ID(m,y,_,v,e[2*E],e[2*E+1]);D<b&&(g=E,b=D)}let A=e[2*g],$=e[2*g+1];if(b===1/0){for(let w=0;w<o;w++)this._dists[w]=e[2*w]-e[0]||e[2*w+1]-e[1];Sr(this._ids,this._dists,0,o-1);const E=new Uint32Array(o);let D=0;for(let w=0,O=-1/0;w<o;w++){const N=this._ids[w],P=this._dists[N];P>O&&(E[D++]=N,O=P)}this.hull=E.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Qa(m,y,_,v,A,$)<0){const E=p,D=_,w=v;p=g,_=A,v=$,g=E,A=D,$=w}const x=CD(m,y,_,v,A,$);this._cx=x.x,this._cy=x.y;for(let E=0;E<o;E++)this._dists[E]=ll(e[2*E],e[2*E+1],x.x,x.y);Sr(this._ids,this._dists,0,o-1),this._hullStart=d;let S=3;r[d]=n[g]=p,r[p]=n[d]=g,r[g]=n[p]=d,i[d]=0,i[p]=1,i[g]=2,a.fill(-1),a[this._hashKey(m,y)]=d,a[this._hashKey(_,v)]=p,a[this._hashKey(A,$)]=g,this.trianglesLen=0,this._addTriangle(d,p,g,-1,-1,-1);for(let E=0,D,w;E<this._ids.length;E++){const O=this._ids[E],N=e[2*O],P=e[2*O+1];if(E>0&&Math.abs(N-D)<=Tp&&Math.abs(P-w)<=Tp||(D=N,w=P,O===d||O===p||O===g))continue;let L=0;for(let I=0,R=this._hashKey(N,P);I<this._hashSize&&(L=a[(R+I)%this._hashSize],!(L!==-1&&L!==r[L]));I++);L=n[L];let T=L,G;for(;G=r[T],Qa(N,P,e[2*T],e[2*T+1],e[2*G],e[2*G+1])>=0;)if(T=G,T===L){T=-1;break}if(T===-1)continue;let z=this._addTriangle(T,O,r[T],-1,-1,i[T]);i[O]=this._legalize(z+2),i[T]=z,S++;let M=r[T];for(;G=r[M],Qa(N,P,e[2*M],e[2*M+1],e[2*G],e[2*G+1])<0;)z=this._addTriangle(M,O,G,i[O],-1,i[M]),i[O]=this._legalize(z+2),r[M]=M,S--,M=G;if(T===L)for(;G=n[T],Qa(N,P,e[2*G],e[2*G+1],e[2*T],e[2*T+1])<0;)z=this._addTriangle(G,O,T,-1,i[T],i[G]),this._legalize(z+2),i[G]=z,r[T]=T,S--,T=G;this._hullStart=n[O]=T,r[T]=n[M]=O,r[O]=M,a[this._hashKey(N,P)]=O,a[this._hashKey(e[2*T],e[2*T+1])]=T}this.hull=new Uint32Array(S);for(let E=0,D=this._hullStart;E<S;E++)this.hull[E]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(MD(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[e],l=e-e%3;if(o=l+(e+2)%3,s===-1){if(a===0)break;e=Ja[--a];continue}const u=s-s%3,c=l+(e+1)%3,h=u+(s+2)%3,f=n[o],d=n[e],p=n[c],g=n[h];if(RD(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[e]=g,n[s]=f;const m=r[h];if(m===-1){let _=this._hullStart;do{if(this._hullTri[_]===h){this._hullTri[_]=e;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(e,m),this._link(s,r[o]),this._link(o,h);const y=u+(s+1)%3;a<Ja.length&&(Ja[a++]=y)}else{if(a===0)break;e=Ja[--a]}}return o}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function MD(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function ll(t,e,n,r){const i=t-n,a=e-r;return i*i+a*a}function RD(t,e,n,r,i,a,o,s){const l=t-o,u=e-s,c=n-o,h=r-s,f=i-o,d=a-s,p=l*l+u*u,g=c*c+h*h,m=f*f+d*d;return l*(h*m-g*d)-u*(c*m-g*f)+p*(c*d-h*f)<0}function ID(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,u=a-e,c=o*o+s*s,h=l*l+u*u,f=.5/(o*u-s*l),d=(u*c-s*h)*f,p=(o*h-l*c)*f;return d*d+p*p}function CD(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,u=a-e,c=o*o+s*s,h=l*l+u*u,f=.5/(o*u-s*l),d=t+(u*c-s*h)*f,p=e+(o*h-l*c)*f;return{x:d,y:p}}function Sr(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=t[i],o=e[a];let s=i-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;fi(t,i,a),e[t[n]]>e[t[r]]&&fi(t,n,r),e[t[a]]>e[t[r]]&&fi(t,a,r),e[t[n]]>e[t[a]]&&fi(t,n,a);const s=t[a],l=e[s];for(;;){do a++;while(e[t[a]]<l);do o--;while(e[t[o]]>l);if(o<a)break;fi(t,a,o)}t[n+1]=t[o],t[o]=s,r-a+1>=o-n?(Sr(t,e,a,r),Sr(t,e,n,o-1)):(Sr(t,e,n,o-1),Sr(t,e,a,r))}}function fi(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ND(t){return t[0]}function kD(t){return t[1]}const Ep=1e-6;class Nn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>Ep||Math.abs(this._y1-a)>Ep)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class yc{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class Oy{constructor(e,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let a,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,y=r.length,_,v;g<y;g+=3,m+=2){const b=r[g]*2,A=r[g+1]*2,$=r[g+2]*2,x=e[b],S=e[b+1],E=e[A],D=e[A+1],w=e[$],O=e[$+1],N=E-x,P=D-S,L=w-x,T=O-S,G=(N*T-P*L)*2;if(Math.abs(G)<1e-9){if(a===void 0){a=o=0;for(const M of n)a+=e[M*2],o+=e[M*2+1];a/=n.length,o/=n.length}const z=1e9*Math.sign((a-x)*T-(o-S)*L);_=(x+w)/2-z*T,v=(S+O)/2+z*L}else{const z=1/G,M=N*N+P*P,I=L*L+T*T;_=x+(T*M-P*I)*z,v=S+(N*I-L*M)*z}s[m]=_,s[m+1]=v}let l=n[n.length-1],u,c=l*4,h,f=e[2*l],d,p=e[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,h=f,d=p,c=l*4,f=e[2*l],p=e[2*l+1],i[u+2]=i[c]=d-p,i[u+3]=i[c+1]=f-h}render(e){const n=e==null?e=new Nn:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let c=0,h=r.length;c<h;++c){const f=r[c];if(f<c)continue;const d=Math.floor(c/3)*2,p=Math.floor(f/3)*2,g=o[d],m=o[d+1],y=o[p],_=o[p+1];this._renderSegment(g,m,y,_,e)}let l,u=a[a.length-1];for(let c=0;c<a.length;++c){l=u,u=a[c];const h=Math.floor(i[u]/3)*2,f=o[h],d=o[h+1],p=l*4,g=this._project(f,d,s[p+2],s[p+3]);g&&this._renderSegment(f,d,g[0],g[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new Nn:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new Nn:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new yc;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,a){let o;const s=this._regioncode(e,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(e,n),a.lineTo(r,i)):(o=this._clipSegment(e,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]===i[s]&&n[a+1]===i[s+1]&&n[(a+2)%o]===i[(s+l-2)%l]&&n[(a+3)%o]===i[(s+l-1)%l]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[e];if(o===-1)return null;const s=[];let l=o;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,a[l]!==e)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],u,c=this._regioncode(s,l),h,f=0;for(let d=0;d<r;d+=2)if(a=s,o=l,s=n[d],l=n[d+1],u=c,c=this._regioncode(s,l),u===0&&c===0)h=f,f=0,i?i.push(s,l):i=[s,l];else{let p,g,m,y,_;if(u===0){if((p=this._clipSegment(a,o,s,l,u,c))===null)continue;[g,m,y,_]=p}else{if((p=this._clipSegment(s,l,a,o,c,u))===null)continue;[y,_,g,m]=p,h=f,f=this._edgecode(g,m),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(g,m):i=[g,m]}h=f,f=this._edgecode(y,_),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(y,_):i=[y,_]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,a,o){const s=a<o;for(s&&([e,n,r,i,a,o]=[r,i,e,n,o,a]);;){if(a===0&&o===0)return s?[r,i,e,n]:[e,n,r,i];if(a&o)return null;let l,u,c=a||o;c&8?(l=e+(r-e)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=e+(r-e)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(u=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),a?(e=l,n=u,a=this._regioncode(e,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let u=0,c=s.length,h,f=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)h=f,f=this._edgecode(s[u],s[u+1]),h&&f&&(u=this._edge(e,h,f,s,u),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(e,o,s)&&(i.splice(a,0,o,s),a+=2)}return a}_project(e,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=e+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=e+(a=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const GD=2*Math.PI,yr=Math.pow;function OD(t){return t[0]}function FD(t){return t[1]}function BD(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],a=2*e[r+1],o=2*e[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function zD(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class nh{static from(e,n=OD,r=FD,i){return new nh("length"in e?HD(e,n,r,i):Float64Array.from(jD(e,n,r,i)))}constructor(e){this._delaunator=new is(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&BD(e)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,d=n.length/2;f<d;++f){const p=zD(n[2*f],n[2*f+1],h);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new is(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=a[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new Oy(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const l=n[e];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==e)return;if(u=a[u],u===-1){const h=r[(i[e]+1)%r.length];h!==c&&(yield h);return}}while(u!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,e,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(e,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,h=yr(n-u[e*2],2)+yr(r-u[e*2+1],2);const f=i[e];let d=f;do{let p=l[d];const g=yr(n-u[p*2],2)+yr(r-u[p*2+1],2);if(g<h&&(h=g,c=p),d=d%3===2?d-2:d+1,l[d]!==e)break;if(d=s[d],d===-1){if(d=a[(o[e]+1)%a.length],d!==p&&yr(n-u[d*2],2)+yr(r-u[d*2+1],2)<h)return d;break}}while(d!==f);return c}render(e){const n=e==null?e=new Nn:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const u=a[o]*2,c=a[l]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new Nn:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];e.moveTo(s+n,l),e.arc(s,l,n,0,GD)}return r&&r.value()}renderHull(e){const n=e==null?e=new Nn:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;e.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new yc;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new Nn:void 0,{points:i,triangles:a}=this,o=a[e*=3]*2,s=a[e+1]*2,l=a[e+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new yc;return this.renderTriangle(e,n),n.value()}}function HD(t,e,n,r){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=t[o];a[o*2]=e.call(r,s,o,t),a[o*2+1]=n.call(r,s,o,t)}return a}function*jD(t,e,n,r){let i=0;for(const a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}var $p={},cl={},fl=34,hi=10,hl=13;function Fy(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function UD(t,e){var n=Fy(t);return function(r,i){return e(n(r),i,t)}}function Dp(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function re(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function VD(t){return t<0?"-"+re(-t,6):t>9999?"+"+re(t,6):re(t,4)}function YD(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":VD(t.getUTCFullYear())+"-"+re(t.getUTCMonth()+1,2)+"-"+re(t.getUTCDate(),2)+(i?"T"+re(e,2)+":"+re(n,2)+":"+re(r,2)+"."+re(i,3)+"Z":r?"T"+re(e,2)+":"+re(n,2)+":"+re(r,2)+"Z":n||e?"T"+re(e,2)+":"+re(n,2)+"Z":"")}function uu(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,f){var d,p,g=i(h,function(m,y){if(d)return d(m,y-1);p=m,d=f?UD(m,f):Fy(m)});return g.columns=p||[],g}function i(h,f){var d=[],p=h.length,g=0,m=0,y,_=p<=0,v=!1;h.charCodeAt(p-1)===hi&&--p,h.charCodeAt(p-1)===hl&&--p;function b(){if(_)return cl;if(v)return v=!1,$p;var $,x=g,S;if(h.charCodeAt(x)===fl){for(;g++<p&&h.charCodeAt(g)!==fl||h.charCodeAt(++g)===fl;);return($=g)>=p?_=!0:(S=h.charCodeAt(g++))===hi?v=!0:S===hl&&(v=!0,h.charCodeAt(g)===hi&&++g),h.slice(x+1,$-1).replace(/""/g,'"')}for(;g<p;){if((S=h.charCodeAt($=g++))===hi)v=!0;else if(S===hl)v=!0,h.charCodeAt(g)===hi&&++g;else if(S!==n)continue;return h.slice(x,$)}return _=!0,h.slice(x,p)}for(;(y=b())!==cl;){for(var A=[];y!==$p&&y!==cl;)A.push(y),y=b();f&&(A=f(A,m++))==null||d.push(A)}return d}function a(h,f){return h.map(function(d){return f.map(function(p){return c(d[p])}).join(t)})}function o(h,f){return f==null&&(f=Dp(h)),[f.map(c).join(t)].concat(a(h,f)).join(`
`)}function s(h,f){return f==null&&(f=Dp(h)),a(h,f).join(`
`)}function l(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?YD(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}var ir=uu(","),By=ir.parse,WD=ir.parseRows,XD=ir.format,qD=ir.formatBody,ZD=ir.formatRows,QD=ir.formatRow,JD=ir.formatValue,ar=uu("	"),zy=ar.parse,KD=ar.parseRows,t4=ar.format,e4=ar.formatBody,n4=ar.formatRows,r4=ar.formatRow,i4=ar.formatValue;function a4(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))o4&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const o4=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function s4(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function u4(t,e){return fetch(t,e).then(s4)}function l4(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function c4(t,e){return fetch(t,e).then(l4)}function f4(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function lu(t,e){return fetch(t,e).then(f4)}function Hy(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),lu(e,n).then(function(i){return t(i,r)})}}function h4(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=uu(t);return lu(e,n).then(function(a){return i.parse(a,r)})}var d4=Hy(By),p4=Hy(zy);function g4(t,e){return new Promise(function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function m4(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function y4(t,e){return fetch(t,e).then(m4)}function rh(t){return(e,n)=>lu(e,n).then(r=>new DOMParser().parseFromString(r,t))}const b4=rh("application/xml");var v4=rh("text/html"),_4=rh("image/svg+xml");function x4(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,l=0,u=0;for(a=0;a<o;++a)s=n[a],l+=s.x,u+=s.y;for(l=(l/o-t)*r,u=(u/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=u}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function S4(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return jy(this.cover(e,n),e,n,t)}function jy(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,l=t._y0,u=t._x1,c=t._y1,h,f,d,p,g,m,y,_;if(!a)return t._root=o,t;for(;a.length;)if((g=e>=(h=(s+u)/2))?s=h:u=h,(m=n>=(f=(l+c)/2))?l=f:c=f,i=a,!(a=a[y=m<<1|g]))return i[y]=o,t;if(d=+t._x.call(null,a.data),p=+t._y.call(null,a.data),e===d&&n===p)return o.next=a,i?i[y]=o:t._root=o,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(g=e>=(h=(s+u)/2))?s=h:u=h,(m=n>=(f=(l+c)/2))?l=f:c=f;while((y=m<<1|g)===(_=(p>=f)<<1|d>=h));return i[_]=a,i[y]=o,t}function A4(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>h&&(h=a));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)jy(this,o[n],s[n],t[n]);return this}function P4(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,l,u;n>t||t>=i||r>e||e>=a;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function w4(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function T4(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Zt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function E4(t,e,n){var r,i=this._x0,a=this._y0,o,s,l,u,c=this._x1,h=this._y1,f=[],d=this._root,p,g;for(d&&f.push(new Zt(d,i,a,c,h)),n==null?n=1/0:(i=t-n,a=e-n,c=t+n,h=e+n,n*=n);p=f.pop();)if(!(!(d=p.node)||(o=p.x0)>c||(s=p.y0)>h||(l=p.x1)<i||(u=p.y1)<a))if(d.length){var m=(o+l)/2,y=(s+u)/2;f.push(new Zt(d[3],m,y,l,u),new Zt(d[2],o,y,m,u),new Zt(d[1],m,s,l,y),new Zt(d[0],o,s,m,y)),(g=(e>=y)<<1|t>=m)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=p)}else{var _=t-+this._x.call(null,d.data),v=e-+this._y.call(null,d.data),b=_*_+v*v;if(b<n){var A=Math.sqrt(n=b);i=t-A,a=e-A,c=t+A,h=e+A,r=d.data}}return r}function $4(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,h,f,d,p,g,m,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(o+l)/2))?o=f:l=f,(g=h>=(d=(s+u)/2))?s=d:u=d,e=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(e[m+1&3]||e[m+2&3]||e[m+3&3])&&(r=e,y=m)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[m]=a:delete e[m],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function D4(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function L4(){return this._root}function M4(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function R4(t){var e=[],n,r=this._root,i,a,o,s,l;for(r&&e.push(new Zt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(a+s)/2,c=(o+l)/2;(i=r[3])&&e.push(new Zt(i,u,c,s,l)),(i=r[2])&&e.push(new Zt(i,a,c,u,l)),(i=r[1])&&e.push(new Zt(i,u,o,s,c)),(i=r[0])&&e.push(new Zt(i,a,o,u,c))}return this}function I4(t){var e=[],n=[],r;for(this._root&&e.push(new Zt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(s+u)/2;(a=i[0])&&e.push(new Zt(a,o,s,c,h)),(a=i[1])&&e.push(new Zt(a,c,s,l,h)),(a=i[2])&&e.push(new Zt(a,o,h,c,u)),(a=i[3])&&e.push(new Zt(a,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function C4(t){return t[0]}function N4(t){return arguments.length?(this._x=t,this):this._x}function k4(t){return t[1]}function G4(t){return arguments.length?(this._y=t,this):this._y}function cu(t,e,n){var r=new ih(e??C4,n??k4,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function ih(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Lp(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ne=cu.prototype=ih.prototype;ne.copy=function(){var t=new ih(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Lp(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Lp(r));return t};ne.add=S4;ne.addAll=A4;ne.cover=P4;ne.data=w4;ne.extent=T4;ne.find=E4;ne.remove=$4;ne.removeAll=D4;ne.root=L4;ne.size=M4;ne.visit=R4;ne.visitAfter=I4;ne.x=N4;ne.y=G4;function Lt(t){return function(){return t}}function pn(t){return(t()-.5)*1e-6}function O4(t){return t.x+t.vx}function F4(t){return t.y+t.vy}function Uy(t){var e,n,r,i=1,a=1;typeof t!="function"&&(t=Lt(t==null?1:+t));function o(){for(var u,c=e.length,h,f,d,p,g,m,y=0;y<a;++y)for(h=cu(e,O4,F4).visitAfter(s),u=0;u<c;++u)f=e[u],g=n[f.index],m=g*g,d=f.x+f.vx,p=f.y+f.vy,h.visit(_);function _(v,b,A,$,x){var S=v.data,E=v.r,D=g+E;if(S){if(S.index>f.index){var w=d-S.x-S.vx,O=p-S.y-S.vy,N=w*w+O*O;N<D*D&&(w===0&&(w=pn(r),N+=w*w),O===0&&(O=pn(r),N+=O*O),N=(D-(N=Math.sqrt(N)))/N*i,f.vx+=(w*=N)*(D=(E*=E)/(m+E)),f.vy+=(O*=N)*D,S.vx-=w*(D=1-D),S.vy-=O*D)}return}return b>d+D||$<d-D||A>p+D||x<p-D}}function s(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,c){e=u,r=c,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Lt(+u),l(),o):t},o}function B4(t){return t.index}function Mp(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function z4(t){var e=B4,n=h,r,i=Lt(30),a,o,s,l,u,c=1;t==null&&(t=[]);function h(m){return 1/Math.min(s[m.source.index],s[m.target.index])}function f(m){for(var y=0,_=t.length;y<c;++y)for(var v=0,b,A,$,x,S,E,D;v<_;++v)b=t[v],A=b.source,$=b.target,x=$.x+$.vx-A.x-A.vx||pn(u),S=$.y+$.vy-A.y-A.vy||pn(u),E=Math.sqrt(x*x+S*S),E=(E-a[v])/E*m*r[v],x*=E,S*=E,$.vx-=x*(D=l[v]),$.vy-=S*D,A.vx+=x*(D=1-D),A.vy+=S*D}function d(){if(o){var m,y=o.length,_=t.length,v=new Map(o.map((A,$)=>[e(A,$,o),A])),b;for(m=0,s=new Array(y);m<_;++m)b=t[m],b.index=m,typeof b.source!="object"&&(b.source=Mp(v,b.source)),typeof b.target!="object"&&(b.target=Mp(v,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(m=0,l=new Array(_);m<_;++m)b=t[m],l[m]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(_),p(),a=new Array(_),g()}}function p(){if(o)for(var m=0,y=t.length;m<y;++m)r[m]=+n(t[m],m,t)}function g(){if(o)for(var m=0,y=t.length;m<y;++m)a[m]=+i(t[m],m,t)}return f.initialize=function(m,y){o=m,u=y,d()},f.links=function(m){return arguments.length?(t=m,d(),f):t},f.id=function(m){return arguments.length?(e=m,f):e},f.iterations=function(m){return arguments.length?(c=+m,f):c},f.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Lt(+m),p(),f):n},f.distance=function(m){return arguments.length?(i=typeof m=="function"?m:Lt(+m),g(),f):i},f}const H4=1664525,j4=1013904223,Rp=4294967296;function U4(){let t=1;return()=>(t=(H4*t+j4)%Rp)/Rp}function V4(t){return t.x}function Y4(t){return t.y}var W4=10,X4=Math.PI*(3-Math.sqrt(5));function Vy(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=ou(h),u=nr("tick","end"),c=U4();t==null&&(t=[]);function h(){f(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function f(g){var m,y=t.length,_;g===void 0&&(g=1);for(var v=0;v<g;++v)for(n+=(a-n)*i,s.forEach(function(b){b(n)}),m=0;m<y;++m)_=t[m],_.fx==null?_.x+=_.vx*=o:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=o:(_.y=_.fy,_.vy=0);return e}function d(){for(var g=0,m=t.length,y;g<m;++g){if(y=t[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var _=W4*Math.sqrt(.5+g),v=g*X4;y.x=_*Math.cos(v),y.y=_*Math.sin(v)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(t,c),g}return d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(g){return arguments.length?(t=g,d(),s.forEach(p),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(i=+g,e):+i},alphaTarget:function(g){return arguments.length?(a=+g,e):a},velocityDecay:function(g){return arguments.length?(o=1-g,e):1-o},randomSource:function(g){return arguments.length?(c=g,s.forEach(p),e):c},force:function(g,m){return arguments.length>1?(m==null?s.delete(g):s.set(g,p(m)),e):s.get(g)},find:function(g,m,y){var _=0,v=t.length,b,A,$,x,S;for(y==null?y=1/0:y*=y,_=0;_<v;++_)x=t[_],b=g-x.x,A=m-x.y,$=b*b+A*A,$<y&&(S=x,y=$);return S},on:function(g,m){return arguments.length>1?(u.on(g,m),e):u.on(g)}}}function Yy(){var t,e,n,r,i=Lt(-30),a,o=1,s=1/0,l=.81;function u(d){var p,g=t.length,m=cu(t,V4,Y4).visitAfter(h);for(r=d,p=0;p<g;++p)e=t[p],m.visit(f)}function c(){if(t){var d,p=t.length,g;for(a=new Array(p),d=0;d<p;++d)g=t[d],a[g.index]=+i(g,d,t)}}function h(d){var p=0,g,m,y=0,_,v,b;if(d.length){for(_=v=b=0;b<4;++b)(g=d[b])&&(m=Math.abs(g.value))&&(p+=g.value,y+=m,_+=m*g.x,v+=m*g.y);d.x=_/y,d.y=v/y}else{g=d,g.x=g.data.x,g.y=g.data.y;do p+=a[g.data.index];while(g=g.next)}d.value=p}function f(d,p,g,m){if(!d.value)return!0;var y=d.x-e.x,_=d.y-e.y,v=m-p,b=y*y+_*_;if(v*v/l<b)return b<s&&(y===0&&(y=pn(n),b+=y*y),_===0&&(_=pn(n),b+=_*_),b<o&&(b=Math.sqrt(o*b)),e.vx+=y*d.value*r/b,e.vy+=_*d.value*r/b),!0;if(!(d.length||b>=s)){(d.data!==e||d.next)&&(y===0&&(y=pn(n),b+=y*y),_===0&&(_=pn(n),b+=_*_),b<o&&(b=Math.sqrt(o*b)));do d.data!==e&&(v=a[d.data.index]*r/b,e.vx+=y*v,e.vy+=_*v);while(d=d.next)}}return u.initialize=function(d,p){t=d,n=p,c()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Lt(+d),c(),u):i},u.distanceMin=function(d){return arguments.length?(o=d*d,u):Math.sqrt(o)},u.distanceMax=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.theta=function(d){return arguments.length?(l=d*d,u):Math.sqrt(l)},u}function q4(t,e,n){var r,i=Lt(.1),a,o;typeof t!="function"&&(t=Lt(+t)),e==null&&(e=0),n==null&&(n=0);function s(u){for(var c=0,h=r.length;c<h;++c){var f=r[c],d=f.x-e||1e-6,p=f.y-n||1e-6,g=Math.sqrt(d*d+p*p),m=(o[c]-g)*a[c]*u/g;f.vx+=d*m,f.vy+=p*m}}function l(){if(r){var u,c=r.length;for(a=new Array(c),o=new Array(c),u=0;u<c;++u)o[u]=+t(r[u],u,r),a[u]=isNaN(o[u])?0:+i(r[u],u,r)}}return s.initialize=function(u){r=u,l()},s.strength=function(u){return arguments.length?(i=typeof u=="function"?u:Lt(+u),l(),s):i},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Lt(+u),l(),s):t},s.x=function(u){return arguments.length?(e=+u,s):e},s.y=function(u){return arguments.length?(n=+u,s):n},s}function Wy(t){var e=Lt(.1),n,r,i;typeof t!="function"&&(t=Lt(t==null?0:+t));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(+s),o(),a):t},a}function Xy(t){var e=Lt(.1),n,r,i;typeof t!="function"&&(t=Lt(t==null?0:+t));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(+s),o(),a):t},a}function Z4(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function as(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ur(t){return t=as(Math.abs(t)),t?t[1]:NaN}function Q4(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function J4(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var K4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vr(t){if(!(e=K4.exec(t)))throw new Error("invalid format: "+t);var e;return new fu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vr.prototype=fu.prototype;function fu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t8(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qy;function e8(t,e){var n=as(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(qy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+as(t,Math.max(0,e+a-1))[0]}function Ip(t,e){var n=as(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Cp={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Z4,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ip(t*100,e),r:Ip,s:e8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Np(t){return t}var kp=Array.prototype.map,Gp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zy(t){var e=t.grouping===void 0||t.thousands===void 0?Np:Q4(kp.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Np:J4(kp.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Vr(h);var f=h.fill,d=h.align,p=h.sign,g=h.symbol,m=h.zero,y=h.width,_=h.comma,v=h.precision,b=h.trim,A=h.type;A==="n"?(_=!0,A="g"):Cp[A]||(v===void 0&&(v=12),b=!0,A="g"),(m||f==="0"&&d==="=")&&(m=!0,f="0",d="=");var $=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",x=g==="$"?r:/[%p]/.test(A)?o:"",S=Cp[A],E=/[defgprs%]/.test(A);v=v===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D(w){var O=$,N=x,P,L,T;if(A==="c")N=S(w)+N,w="";else{w=+w;var G=w<0||1/w<0;if(w=isNaN(w)?l:S(Math.abs(w),v),b&&(w=t8(w)),G&&+w==0&&p!=="+"&&(G=!1),O=(G?p==="("?p:s:p==="-"||p==="("?"":p)+O,N=(A==="s"?Gp[8+qy/3]:"")+N+(G&&p==="("?")":""),E){for(P=-1,L=w.length;++P<L;)if(T=w.charCodeAt(P),48>T||T>57){N=(T===46?i+w.slice(P+1):w.slice(P))+N,w=w.slice(0,P);break}}}_&&!m&&(w=e(w,1/0));var z=O.length+w.length+N.length,M=z<y?new Array(y-z+1).join(f):"";switch(_&&m&&(w=e(M+w,M.length?y-N.length:1/0),M=""),d){case"<":w=O+w+N+M;break;case"=":w=O+M+w+N;break;case"^":w=M.slice(0,z=M.length>>1)+O+w+N+M.slice(z);break;default:w=M+O+w+N;break}return a(w)}return D.toString=function(){return h+""},D}function c(h,f){var d=u((h=Vr(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Ur(f)/3)))*3,g=Math.pow(10,-p),m=Gp[8+p/3];return function(y){return d(g*y)+m}}return{format:u,formatPrefix:c}}var Ka,wa,ah;Qy({thousands:",",grouping:[3],currency:["$",""]});function Qy(t){return Ka=Zy(t),wa=Ka.format,ah=Ka.formatPrefix,Ka}function Jy(t){return Math.max(0,-Ur(Math.abs(t)))}function Ky(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ur(e)/3)))*3-Ur(Math.abs(t)))}function tb(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ur(e)-Ur(t))+1}var rt=1e-6,sa=1e-12,ht=Math.PI,Et=ht/2,os=ht/4,Kt=ht*2,bt=180/ht,it=ht/180,pt=Math.abs,ri=Math.atan,te=Math.atan2,Q=Math.cos,to=Math.ceil,eb=Math.exp,bc=Math.hypot,ss=Math.log,dl=Math.pow,Z=Math.sin,me=Math.sign||function(t){return t>0?1:t<0?-1:0},Nt=Math.sqrt,oh=Math.tan;function nb(t){return t>1?0:t<-1?ht:Math.acos(t)}function ee(t){return t>1?Et:t<-1?-Et:Math.asin(t)}function Op(t){return(t=Z(t/2))*t}function At(){}function us(t,e){t&&Bp.hasOwnProperty(t.type)&&Bp[t.type](t,e)}var Fp={Feature:function(t,e){us(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)us(n[r].geometry,e)}},Bp={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){vc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vc(n[r],e,0)},Polygon:function(t,e){zp(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)zp(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)us(n[r],e)}};function vc(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function zp(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)vc(t[n],e,1);e.polygonEnd()}function we(t,e){t&&Fp.hasOwnProperty(t.type)?Fp[t.type](t,e):us(t,e)}var ls=new Rt,cs=new Rt,rb,ib,_c,xc,Sc,Be={point:At,lineStart:At,lineEnd:At,polygonStart:function(){ls=new Rt,Be.lineStart=n8,Be.lineEnd=r8},polygonEnd:function(){var t=+ls;cs.add(t<0?Kt+t:t),this.lineStart=this.lineEnd=this.point=At},sphere:function(){cs.add(Kt)}};function n8(){Be.point=i8}function r8(){ab(rb,ib)}function i8(t,e){Be.point=ab,rb=t,ib=e,t*=it,e*=it,_c=t,xc=Q(e=e/2+os),Sc=Z(e)}function ab(t,e){t*=it,e*=it,e=e/2+os;var n=t-_c,r=n>=0?1:-1,i=r*n,a=Q(e),o=Z(e),s=Sc*o,l=xc*a+s*Q(i),u=s*r*Z(i);ls.add(te(u,l)),_c=t,xc=a,Sc=o}function a8(t){return cs=new Rt,we(t,Be),cs*2}function fs(t){return[te(t[1],t[0]),ee(t[2])]}function Xn(t){var e=t[0],n=t[1],r=Q(n);return[r*Q(e),r*Z(e),Z(n)]}function eo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Yr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function no(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function hs(t){var e=Nt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var St,ae,Tt,le,Ln,ob,sb,Lr,Ii,hn,on,Je={point:Ac,lineStart:Hp,lineEnd:jp,polygonStart:function(){Je.point=lb,Je.lineStart=o8,Je.lineEnd=s8,Ii=new Rt,Be.polygonStart()},polygonEnd:function(){Be.polygonEnd(),Je.point=Ac,Je.lineStart=Hp,Je.lineEnd=jp,ls<0?(St=-(Tt=180),ae=-(le=90)):Ii>rt?le=90:Ii<-rt&&(ae=-90),on[0]=St,on[1]=Tt},sphere:function(){St=-(Tt=180),ae=-(le=90)}};function Ac(t,e){hn.push(on=[St=t,Tt=t]),e<ae&&(ae=e),e>le&&(le=e)}function ub(t,e){var n=Xn([t*it,e*it]);if(Lr){var r=Yr(Lr,n),i=[r[1],-r[0],0],a=Yr(i,r);hs(a),a=fs(a);var o=t-Ln,s=o>0?1:-1,l=a[0]*bt*s,u,c=pt(o)>180;c^(s*Ln<l&&l<s*t)?(u=a[1]*bt,u>le&&(le=u)):(l=(l+360)%360-180,c^(s*Ln<l&&l<s*t)?(u=-a[1]*bt,u<ae&&(ae=u)):(e<ae&&(ae=e),e>le&&(le=e))),c?t<Ln?se(St,t)>se(St,Tt)&&(Tt=t):se(t,Tt)>se(St,Tt)&&(St=t):Tt>=St?(t<St&&(St=t),t>Tt&&(Tt=t)):t>Ln?se(St,t)>se(St,Tt)&&(Tt=t):se(t,Tt)>se(St,Tt)&&(St=t)}else hn.push(on=[St=t,Tt=t]);e<ae&&(ae=e),e>le&&(le=e),Lr=n,Ln=t}function Hp(){Je.point=ub}function jp(){on[0]=St,on[1]=Tt,Je.point=Ac,Lr=null}function lb(t,e){if(Lr){var n=t-Ln;Ii.add(pt(n)>180?n+(n>0?360:-360):n)}else ob=t,sb=e;Be.point(t,e),ub(t,e)}function o8(){Be.lineStart()}function s8(){lb(ob,sb),Be.lineEnd(),pt(Ii)>rt&&(St=-(Tt=180)),on[0]=St,on[1]=Tt,Lr=null}function se(t,e){return(e-=t)<0?e+360:e}function u8(t,e){return t[0]-e[0]}function Up(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function l8(t){var e,n,r,i,a,o,s;if(le=Tt=-(St=ae=1/0),hn=[],we(t,Je),n=hn.length){for(hn.sort(u8),e=1,r=hn[0],a=[r];e<n;++e)i=hn[e],Up(r,i[0])||Up(r,i[1])?(se(r[0],i[1])>se(r[0],r[1])&&(r[1]=i[1]),se(i[0],r[1])>se(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(s=se(r[1],i[0]))>o&&(o=s,St=i[0],Tt=r[1])}return hn=on=null,St===1/0||ae===1/0?[[NaN,NaN],[NaN,NaN]]:[[St,ae],[Tt,le]]}var Ai,ds,ps,gs,ms,ys,bs,vs,Pc,wc,Tc,cb,fb,Wt,Xt,qt,Te={sphere:At,point:sh,lineStart:Vp,lineEnd:Yp,polygonStart:function(){Te.lineStart=h8,Te.lineEnd=d8},polygonEnd:function(){Te.lineStart=Vp,Te.lineEnd=Yp}};function sh(t,e){t*=it,e*=it;var n=Q(e);Ta(n*Q(t),n*Z(t),Z(e))}function Ta(t,e,n){++Ai,ps+=(t-ps)/Ai,gs+=(e-gs)/Ai,ms+=(n-ms)/Ai}function Vp(){Te.point=c8}function c8(t,e){t*=it,e*=it;var n=Q(e);Wt=n*Q(t),Xt=n*Z(t),qt=Z(e),Te.point=f8,Ta(Wt,Xt,qt)}function f8(t,e){t*=it,e*=it;var n=Q(e),r=n*Q(t),i=n*Z(t),a=Z(e),o=te(Nt((o=Xt*a-qt*i)*o+(o=qt*r-Wt*a)*o+(o=Wt*i-Xt*r)*o),Wt*r+Xt*i+qt*a);ds+=o,ys+=o*(Wt+(Wt=r)),bs+=o*(Xt+(Xt=i)),vs+=o*(qt+(qt=a)),Ta(Wt,Xt,qt)}function Yp(){Te.point=sh}function h8(){Te.point=p8}function d8(){hb(cb,fb),Te.point=sh}function p8(t,e){cb=t,fb=e,t*=it,e*=it,Te.point=hb;var n=Q(e);Wt=n*Q(t),Xt=n*Z(t),qt=Z(e),Ta(Wt,Xt,qt)}function hb(t,e){t*=it,e*=it;var n=Q(e),r=n*Q(t),i=n*Z(t),a=Z(e),o=Xt*a-qt*i,s=qt*r-Wt*a,l=Wt*i-Xt*r,u=bc(o,s,l),c=ee(u),h=u&&-c/u;Pc.add(h*o),wc.add(h*s),Tc.add(h*l),ds+=c,ys+=c*(Wt+(Wt=r)),bs+=c*(Xt+(Xt=i)),vs+=c*(qt+(qt=a)),Ta(Wt,Xt,qt)}function g8(t){Ai=ds=ps=gs=ms=ys=bs=vs=0,Pc=new Rt,wc=new Rt,Tc=new Rt,we(t,Te);var e=+Pc,n=+wc,r=+Tc,i=bc(e,n,r);return i<sa&&(e=ys,n=bs,r=vs,ds<rt&&(e=ps,n=gs,r=ms),i=bc(e,n,r),i<sa)?[NaN,NaN]:[te(n,e)*bt,ee(r/i)*bt]}function br(t){return function(){return t}}function Ec(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function $c(t,e){return pt(t)>ht&&(t-=Math.round(t/Kt)*Kt),[t,e]}$c.invert=$c;function uh(t,e,n){return(t%=Kt)?e||n?Ec(Xp(t),qp(e,n)):Xp(t):e||n?qp(e,n):$c}function Wp(t){return function(e,n){return e+=t,pt(e)>ht&&(e-=Math.round(e/Kt)*Kt),[e,n]}}function Xp(t){var e=Wp(t);return e.invert=Wp(-t),e}function qp(t,e){var n=Q(t),r=Z(t),i=Q(e),a=Z(e);function o(s,l){var u=Q(l),c=Q(s)*u,h=Z(s)*u,f=Z(l),d=f*n+c*r;return[te(h*i-d*a,c*n-f*r),ee(d*i+h*a)]}return o.invert=function(s,l){var u=Q(l),c=Q(s)*u,h=Z(s)*u,f=Z(l),d=f*i-h*a;return[te(h*i+f*a,c*n+d*r),ee(d*n-c*r)]},o}function db(t){t=uh(t[0]*it,t[1]*it,t.length>2?t[2]*it:0);function e(n){return n=t(n[0]*it,n[1]*it),n[0]*=bt,n[1]*=bt,n}return e.invert=function(n){return n=t.invert(n[0]*it,n[1]*it),n[0]*=bt,n[1]*=bt,n},e}function pb(t,e,n,r,i,a){if(n){var o=Q(e),s=Z(e),l=r*n;i==null?(i=e+r*Kt,a=e-l/2):(i=Zp(o,i),a=Zp(o,a),(r>0?i<a:i>a)&&(i+=r*Kt));for(var u,c=i;r>0?c>a:c<a;c-=l)u=fs([o,-s*Q(c),-s*Z(c)]),t.point(u[0],u[1])}}function Zp(t,e){e=Xn(e),e[0]-=t,hs(e);var n=nb(-e[1]);return((-e[2]<0?-n:n)+Kt-rt)%Kt}function m8(){var t=br([0,0]),e=br(90),n=br(2),r,i,a={point:o};function o(l,u){r.push(l=i(l,u)),l[0]*=bt,l[1]*=bt}function s(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*it,c=n.apply(this,arguments)*it;return r=[],i=uh(-l[0]*it,-l[1]*it,0).invert,pb(a,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(t=typeof l=="function"?l:br([+l[0],+l[1]]),s):t},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:br(+l),s):e},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:br(+l),s):n},s}function gb(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:At,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function To(t,e){return pt(t[0]-e[0])<rt&&pt(t[1]-e[1])<rt}function ro(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function mb(t,e,n,r,i){var a=[],o=[],s,l;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],y=p[g],_;if(To(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((m=p[s])[0],m[1]);i.lineEnd();return}y[0]+=2*rt}a.push(_=new ro(m,p,null,!0)),o.push(_.o=new ro(m,null,_,!1)),a.push(_=new ro(y,p,null,!1)),o.push(_.o=new ro(y,null,_,!0))}}),!!a.length){for(o.sort(e),Qp(a),Qp(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var u=a[0],c,h;;){for(var f=u,d=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function Qp(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function gl(t){return pt(t[0])<=ht?t[0]:me(t[0])*((pt(t[0])+ht)%Kt-ht)}function yb(t,e){var n=gl(e),r=e[1],i=Z(r),a=[Z(n),-Q(n),0],o=0,s=0,l=new Rt;i===1?r=Et+rt:i===-1&&(r=-Et-rt);for(var u=0,c=t.length;u<c;++u)if(f=(h=t[u]).length)for(var h,f,d=h[f-1],p=gl(d),g=d[1]/2+os,m=Z(g),y=Q(g),_=0;_<f;++_,p=b,m=$,y=x,d=v){var v=h[_],b=gl(v),A=v[1]/2+os,$=Z(A),x=Q(A),S=b-p,E=S>=0?1:-1,D=E*S,w=D>ht,O=m*$;if(l.add(te(O*E*Z(D),y*x+O*Q(D))),o+=w?S+E*Kt:S,w^p>=n^b>=n){var N=Yr(Xn(d),Xn(v));hs(N);var P=Yr(a,N);hs(P);var L=(w^S>=0?-1:1)*ee(P[2]);(r>L||r===L&&(N[0]||N[1]))&&(s+=w^S>=0?1:-1)}}return(o<-rt||o<rt&&l<-sa)^s&1}function bb(t,e,n,r){return function(i){var a=e(i),o=gb(),s=e(o),l=!1,u,c,h,f={point:d,lineStart:g,lineEnd:m,polygonStart:function(){f.point=y,f.lineStart=_,f.lineEnd=v,c=[],u=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=m,c=kf(c);var b=yb(u,r);c.length?(l||(i.polygonStart(),l=!0),mb(c,b8,b,n,i)):b&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(b,A){t(b,A)&&i.point(b,A)}function p(b,A){a.point(b,A)}function g(){f.point=p,a.lineStart()}function m(){f.point=d,a.lineEnd()}function y(b,A){h.push([b,A]),s.point(b,A)}function _(){s.lineStart(),h=[]}function v(){y(h[0][0],h[0][1]),s.lineEnd();var b=s.clean(),A=o.result(),$,x=A.length,S,E,D;if(h.pop(),u.push(h),h=null,!!x){if(b&1){if(E=A[0],(S=E.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),$=0;$<S;++$)i.point((D=E[$])[0],D[1]);i.lineEnd()}return}x>1&&b&2&&A.push(A.pop().concat(A.shift())),c.push(A.filter(y8))}}return f}}function y8(t){return t.length>1}function b8(t,e){return((t=t.x)[0]<0?t[1]-Et-rt:Et-t[1])-((e=e.x)[0]<0?e[1]-Et-rt:Et-e[1])}const Dc=bb(function(){return!0},v8,x8,[-ht,-Et]);function v8(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?ht:-ht,l=pt(a-e);pt(l-ht)<rt?(t.point(e,n=(n+o)/2>0?Et:-Et),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&l>=ht&&(pt(e-r)<rt&&(e-=r*rt),pt(a-s)<rt&&(a-=s*rt),n=_8(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function _8(t,e,n,r){var i,a,o=Z(t-n);return pt(o)>rt?ri((Z(e)*(a=Q(r))*Z(n)-Z(r)*(i=Q(e))*Z(t))/(i*a*o)):(e+r)/2}function x8(t,e,n,r){var i;if(t==null)i=n*Et,r.point(-ht,i),r.point(0,i),r.point(ht,i),r.point(ht,0),r.point(ht,-i),r.point(0,-i),r.point(-ht,-i),r.point(-ht,0),r.point(-ht,i);else if(pt(t[0]-e[0])>rt){var a=t[0]<e[0]?ht:-ht;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function vb(t){var e=Q(t),n=2*it,r=e>0,i=pt(e)>rt;function a(c,h,f,d){pb(d,t,n,f,c,h)}function o(c,h){return Q(c)*Q(h)>e}function s(c){var h,f,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,y){var _=[m,y],v,b=o(m,y),A=r?b?0:u(m,y):b?u(m+(m<0?ht:-ht),y):0;if(!h&&(p=d=b)&&c.lineStart(),b!==d&&(v=l(h,_),(!v||To(h,v)||To(_,v))&&(_[2]=1)),b!==d)g=0,b?(c.lineStart(),v=l(_,h),c.point(v[0],v[1])):(v=l(h,_),c.point(v[0],v[1],2),c.lineEnd()),h=v;else if(i&&h&&r^b){var $;!(A&f)&&($=l(_,h,!0))&&(g=0,r?(c.lineStart(),c.point($[0][0],$[0][1]),c.point($[1][0],$[1][1]),c.lineEnd()):(c.point($[1][0],$[1][1]),c.lineEnd(),c.lineStart(),c.point($[0][0],$[0][1],3)))}b&&(!h||!To(h,_))&&c.point(_[0],_[1]),h=_,d=b,f=A},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return g|(p&&d)<<1}}}function l(c,h,f){var d=Xn(c),p=Xn(h),g=[1,0,0],m=Yr(d,p),y=eo(m,m),_=m[0],v=y-_*_;if(!v)return!f&&c;var b=e*y/v,A=-e*_/v,$=Yr(g,m),x=no(g,b),S=no(m,A);pl(x,S);var E=$,D=eo(x,E),w=eo(E,E),O=D*D-w*(eo(x,x)-1);if(!(O<0)){var N=Nt(O),P=no(E,(-D-N)/w);if(pl(P,x),P=fs(P),!f)return P;var L=c[0],T=h[0],G=c[1],z=h[1],M;T<L&&(M=L,L=T,T=M);var I=T-L,R=pt(I-ht)<rt,k=R||I<rt;if(!R&&z<G&&(M=G,G=z,z=M),k?R?G+z>0^P[1]<(pt(P[0]-L)<rt?G:z):G<=P[1]&&P[1]<=z:I>ht^(L<=P[0]&&P[0]<=T)){var H=no(E,(-D+N)/w);return pl(H,x),[P,fs(H)]}}}function u(c,h){var f=r?t:ht-t,d=0;return c<-f?d|=1:c>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return bb(o,s,a,r?[0,-t]:[-ht,t-ht])}function S8(t,e,n,r,i,a){var o=t[0],s=t[1],l=e[0],u=e[1],c=0,h=1,f=l-o,d=u-s,p;if(p=n-o,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<h&&(h=p)}else if(f>0){if(p>h)return;p>c&&(c=p)}if(p=i-o,!(!f&&p<0)){if(p/=f,f<0){if(p>h)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<h&&(h=p)}if(p=r-s,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>c&&(c=p)}if(p=a-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<h&&(h=p)}return c>0&&(t[0]=o+c*f,t[1]=s+c*d),h<1&&(e[0]=o+h*f,e[1]=s+h*d),!0}}}}}var Pi=1e9,io=-Pi;function hu(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function a(u,c,h,f){var d=0,p=0;if(u==null||(d=o(u,h))!==(p=o(c,h))||l(u,c)<0^h>0)do f.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==p);else f.point(c[0],c[1])}function o(u,c){return pt(u[0]-t)<rt?c>0?0:3:pt(u[0]-n)<rt?c>0?2:1:pt(u[1]-e)<rt?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var h=o(u,1),f=o(c,1);return h!==f?h-f:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=gb(),f,d,p,g,m,y,_,v,b,A,$,x={point:S,lineStart:O,lineEnd:N,polygonStart:D,polygonEnd:w};function S(L,T){i(L,T)&&c.point(L,T)}function E(){for(var L=0,T=0,G=d.length;T<G;++T)for(var z=d[T],M=1,I=z.length,R=z[0],k,H,J=R[0],B=R[1];M<I;++M)k=J,H=B,R=z[M],J=R[0],B=R[1],H<=r?B>r&&(J-k)*(r-H)>(B-H)*(t-k)&&++L:B<=r&&(J-k)*(r-H)<(B-H)*(t-k)&&--L;return L}function D(){c=h,f=[],d=[],$=!0}function w(){var L=E(),T=$&&L,G=(f=kf(f)).length;(T||G)&&(u.polygonStart(),T&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),G&&mb(f,s,L,a,u),u.polygonEnd()),c=u,f=d=p=null}function O(){x.point=P,d&&d.push(p=[]),A=!0,b=!1,_=v=NaN}function N(){f&&(P(g,m),y&&b&&h.rejoin(),f.push(h.result())),x.point=S,b&&c.lineEnd()}function P(L,T){var G=i(L,T);if(d&&p.push([L,T]),A)g=L,m=T,y=G,A=!1,G&&(c.lineStart(),c.point(L,T));else if(G&&b)c.point(L,T);else{var z=[_=Math.max(io,Math.min(Pi,_)),v=Math.max(io,Math.min(Pi,v))],M=[L=Math.max(io,Math.min(Pi,L)),T=Math.max(io,Math.min(Pi,T))];S8(z,M,t,e,n,r)?(b||(c.lineStart(),c.point(z[0],z[1])),c.point(M[0],M[1]),G||c.lineEnd(),$=!1):G&&(c.lineStart(),c.point(L,T),$=!1)}_=L,v=T,b=G}return x}}function A8(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=hu(t,e,n,r)(a=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[t,e],[n,r]]}}}var Lc,Mc,Eo,$o,Wr={sphere:At,point:At,lineStart:P8,lineEnd:At,polygonStart:At,polygonEnd:At};function P8(){Wr.point=T8,Wr.lineEnd=w8}function w8(){Wr.point=Wr.lineEnd=At}function T8(t,e){t*=it,e*=it,Mc=t,Eo=Z(e),$o=Q(e),Wr.point=E8}function E8(t,e){t*=it,e*=it;var n=Z(e),r=Q(e),i=pt(t-Mc),a=Q(i),o=Z(i),s=r*o,l=$o*n-Eo*r*a,u=Eo*n+$o*r*a;Lc.add(te(Nt(s*s+l*l),u)),Mc=t,Eo=n,$o=r}function _b(t){return Lc=new Rt,we(t,Wr),+Lc}var Rc=[null,null],$8={type:"LineString",coordinates:Rc};function _s(t,e){return Rc[0]=t,Rc[1]=e,_b($8)}var Jp={Feature:function(t,e){return xs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(xs(n[r].geometry,e))return!0;return!1}},Kp={Sphere:function(){return!0},Point:function(t,e){return tg(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(tg(n[r],e))return!0;return!1},LineString:function(t,e){return eg(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(eg(n[r],e))return!0;return!1},Polygon:function(t,e){return ng(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ng(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(xs(n[r],e))return!0;return!1}};function xs(t,e){return t&&Kp.hasOwnProperty(t.type)?Kp[t.type](t,e):!1}function tg(t,e){return _s(t,e)===0}function eg(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(r=_s(t[a],e),r===0||a>0&&(i=_s(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<sa*i))return!0;n=r}return!1}function ng(t,e){return!!yb(t.map(D8),xb(e))}function D8(t){return t=t.map(xb),t.pop(),t}function xb(t){return[t[0]*it,t[1]*it]}function L8(t,e){return(t&&Jp.hasOwnProperty(t.type)?Jp[t.type]:xs)(t,e)}function rg(t,e,n){var r=dn(t,e-rt,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function ig(t,e,n){var r=dn(t,e-rt,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function Sb(){var t,e,n,r,i,a,o,s,l=10,u=l,c=90,h=360,f,d,p,g,m=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return dn(to(r/c)*c,n,c).map(p).concat(dn(to(s/h)*h,o,h).map(g)).concat(dn(to(e/l)*l,t,l).filter(function(v){return pt(v%c)>rt}).map(f)).concat(dn(to(a/u)*u,i,u).filter(function(v){return pt(v%h)>rt}).map(d))}return y.lines=function(){return _().map(function(v){return{type:"LineString",coordinates:v}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(o).slice(1),p(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(v){return arguments.length?y.extentMajor(v).extentMinor(v):y.extentMinor()},y.extentMajor=function(v){return arguments.length?(r=+v[0][0],n=+v[1][0],s=+v[0][1],o=+v[1][1],r>n&&(v=r,r=n,n=v),s>o&&(v=s,s=o,o=v),y.precision(m)):[[r,s],[n,o]]},y.extentMinor=function(v){return arguments.length?(e=+v[0][0],t=+v[1][0],a=+v[0][1],i=+v[1][1],e>t&&(v=e,e=t,t=v),a>i&&(v=a,a=i,i=v),y.precision(m)):[[e,a],[t,i]]},y.step=function(v){return arguments.length?y.stepMajor(v).stepMinor(v):y.stepMinor()},y.stepMajor=function(v){return arguments.length?(c=+v[0],h=+v[1],y):[c,h]},y.stepMinor=function(v){return arguments.length?(l=+v[0],u=+v[1],y):[l,u]},y.precision=function(v){return arguments.length?(m=+v,f=rg(a,i,90),d=ig(e,t,m),p=rg(s,o,90),g=ig(r,n,m),y):m},y.extentMajor([[-180,-90+rt],[180,90-rt]]).extentMinor([[-180,-80-rt],[180,80+rt]])}function M8(){return Sb()()}function R8(t,e){var n=t[0]*it,r=t[1]*it,i=e[0]*it,a=e[1]*it,o=Q(r),s=Z(r),l=Q(a),u=Z(a),c=o*Q(n),h=o*Z(n),f=l*Q(i),d=l*Z(i),p=2*ee(Nt(Op(a-r)+o*l*Op(i-n))),g=Z(p),m=p?function(y){var _=Z(y*=p)/g,v=Z(p-y)/g,b=v*c+_*f,A=v*h+_*d,$=v*s+_*u;return[te(A,b)*bt,te($,Nt(b*b+A*A))*bt]}:function(){return[n*bt,r*bt]};return m.distance=p,m}const ua=t=>t;var ml=new Rt,Ic=new Rt,Ab,Pb,Cc,Nc,Ke={point:At,lineStart:At,lineEnd:At,polygonStart:function(){Ke.lineStart=I8,Ke.lineEnd=N8},polygonEnd:function(){Ke.lineStart=Ke.lineEnd=Ke.point=At,ml.add(pt(Ic)),Ic=new Rt},result:function(){var t=ml/2;return ml=new Rt,t}};function I8(){Ke.point=C8}function C8(t,e){Ke.point=wb,Ab=Cc=t,Pb=Nc=e}function wb(t,e){Ic.add(Nc*t-Cc*e),Cc=t,Nc=e}function N8(){wb(Ab,Pb)}var Xr=1/0,Ss=Xr,la=-Xr,As=la,Ps={point:k8,lineStart:At,lineEnd:At,polygonStart:At,polygonEnd:At,result:function(){var t=[[Xr,Ss],[la,As]];return la=As=-(Ss=Xr=1/0),t}};function k8(t,e){t<Xr&&(Xr=t),t>la&&(la=t),e<Ss&&(Ss=e),e>As&&(As=e)}var kc=0,Gc=0,wi=0,ws=0,Ts=0,Ar=0,Oc=0,Fc=0,Ti=0,Tb,Eb,Ie,Ce,ge={point:qn,lineStart:ag,lineEnd:og,polygonStart:function(){ge.lineStart=F8,ge.lineEnd=B8},polygonEnd:function(){ge.point=qn,ge.lineStart=ag,ge.lineEnd=og},result:function(){var t=Ti?[Oc/Ti,Fc/Ti]:Ar?[ws/Ar,Ts/Ar]:wi?[kc/wi,Gc/wi]:[NaN,NaN];return kc=Gc=wi=ws=Ts=Ar=Oc=Fc=Ti=0,t}};function qn(t,e){kc+=t,Gc+=e,++wi}function ag(){ge.point=G8}function G8(t,e){ge.point=O8,qn(Ie=t,Ce=e)}function O8(t,e){var n=t-Ie,r=e-Ce,i=Nt(n*n+r*r);ws+=i*(Ie+t)/2,Ts+=i*(Ce+e)/2,Ar+=i,qn(Ie=t,Ce=e)}function og(){ge.point=qn}function F8(){ge.point=z8}function B8(){$b(Tb,Eb)}function z8(t,e){ge.point=$b,qn(Tb=Ie=t,Eb=Ce=e)}function $b(t,e){var n=t-Ie,r=e-Ce,i=Nt(n*n+r*r);ws+=i*(Ie+t)/2,Ts+=i*(Ce+e)/2,Ar+=i,i=Ce*t-Ie*e,Oc+=i*(Ie+t),Fc+=i*(Ce+e),Ti+=i*3,qn(Ie=t,Ce=e)}function Db(t){this._context=t}Db.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Kt);break}}},result:At};var Bc=new Rt,yl,Lb,Mb,Ei,$i,ca={point:At,lineStart:function(){ca.point=H8},lineEnd:function(){yl&&Rb(Lb,Mb),ca.point=At},polygonStart:function(){yl=!0},polygonEnd:function(){yl=null},result:function(){var t=+Bc;return Bc=new Rt,t}};function H8(t,e){ca.point=Rb,Lb=Ei=t,Mb=$i=e}function Rb(t,e){Ei-=t,$i-=e,Bc.add(Nt(Ei*Ei+$i*$i)),Ei=t,$i=e}let sg,Es,ug,lg;class cg{constructor(e){this._append=e==null?Ib:j8(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==ug||this._append!==Es){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ug=r,Es=this._append,lg=this._,this._=i}this._+=lg;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Ib(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function j8(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Ib;if(e!==sg){const n=10**e;sg=e,Es=function(r){let i=1;this._+=r[0];for(const a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}return Es}function U8(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),we(s,i(a))),a.result()}return o.area=function(s){return we(s,i(Ke)),Ke.result()},o.measure=function(s){return we(s,i(ca)),ca.result()},o.bounds=function(s){return we(s,i(Ps)),Ps.result()},o.centroid=function(s){return we(s,i(ge)),ge.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,ua):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new cg(n)):new Db(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return e===null&&(a=new cg(n)),o},o.projection(t).digits(n).context(e)}function V8(t){return{stream:Ea(t)}}function Ea(t){return function(e){var n=new zc;for(var r in t)n[r]=t[r];return n.stream=e,n}}function zc(){}zc.prototype={constructor:zc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function lh(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),we(n,t.stream(Ps)),e(Ps.result()),r!=null&&t.clipExtent(r),t}function du(t,e,n){return lh(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,l])},n)}function ch(t,e,n){return du(t,[[0,0],e],n)}function fh(t,e,n){return lh(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function hh(t,e,n){return lh(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var fg=16,Y8=Q(30*it);function hg(t,e){return+e?X8(t,e):W8(t)}function W8(t){return Ea({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function X8(t,e){function n(r,i,a,o,s,l,u,c,h,f,d,p,g,m){var y=u-r,_=c-i,v=y*y+_*_;if(v>4*e&&g--){var b=o+f,A=s+d,$=l+p,x=Nt(b*b+A*A+$*$),S=ee($/=x),E=pt(pt($)-1)<rt||pt(a-h)<rt?(a+h)/2:te(A,b),D=t(E,S),w=D[0],O=D[1],N=w-r,P=O-i,L=_*N-y*P;(L*L/v>e||pt((y*N+_*P)/v-.5)>.3||o*f+s*d+l*p<Y8)&&(n(r,i,a,o,s,l,w,O,E,b/=x,A/=x,$,g,m),m.point(w,O),n(w,O,E,b,A,$,u,c,h,f,d,p,g,m))}}return function(r){var i,a,o,s,l,u,c,h,f,d,p,g,m={point:y,lineStart:_,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=A},polygonEnd:function(){r.polygonEnd(),m.lineStart=_}};function y(S,E){S=t(S,E),r.point(S[0],S[1])}function _(){h=NaN,m.point=v,r.lineStart()}function v(S,E){var D=Xn([S,E]),w=t(S,E);n(h,f,c,d,p,g,h=w[0],f=w[1],c=S,d=D[0],p=D[1],g=D[2],fg,r),r.point(h,f)}function b(){m.point=y,r.lineEnd()}function A(){_(),m.point=$,m.lineEnd=x}function $(S,E){v(i=S,E),a=h,o=f,s=d,l=p,u=g,m.point=v}function x(){n(h,f,c,d,p,g,a,o,i,s,l,u,fg,r),m.lineEnd=b,b()}return m}}var q8=Ea({point:function(t,e){this.stream.point(t*it,e*it)}});function Z8(t){return Ea({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Q8(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function dg(t,e,n,r,i,a){if(!a)return Q8(t,e,n,r,i);var o=Q(a),s=Z(a),l=o*t,u=s*t,c=o/t,h=s/t,f=(s*n-o*e)/t,d=(s*e+o*n)/t;function p(g,m){return g*=r,m*=i,[l*g-u*m+e,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-h*m+f),i*(d-h*g-c*m)]},p}function Ye(t){return dh(function(){return t})()}function dh(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,l=0,u=0,c,h=0,f=1,d=1,p=null,g=Dc,m=null,y,_,v,b=ua,A=.5,$,x,S,E,D;function w(L){return S(L[0]*it,L[1]*it)}function O(L){return L=S.invert(L[0],L[1]),L&&[L[0]*bt,L[1]*bt]}w.stream=function(L){return E&&D===L?E:E=q8(Z8(c)(g($(b(D=L)))))},w.preclip=function(L){return arguments.length?(g=L,p=void 0,P()):g},w.postclip=function(L){return arguments.length?(b=L,m=y=_=v=null,P()):b},w.clipAngle=function(L){return arguments.length?(g=+L?vb(p=L*it):(p=null,Dc),P()):p*bt},w.clipExtent=function(L){return arguments.length?(b=L==null?(m=y=_=v=null,ua):hu(m=+L[0][0],y=+L[0][1],_=+L[1][0],v=+L[1][1]),P()):m==null?null:[[m,y],[_,v]]},w.scale=function(L){return arguments.length?(n=+L,N()):n},w.translate=function(L){return arguments.length?(r=+L[0],i=+L[1],N()):[r,i]},w.center=function(L){return arguments.length?(a=L[0]%360*it,o=L[1]%360*it,N()):[a*bt,o*bt]},w.rotate=function(L){return arguments.length?(s=L[0]%360*it,l=L[1]%360*it,u=L.length>2?L[2]%360*it:0,N()):[s*bt,l*bt,u*bt]},w.angle=function(L){return arguments.length?(h=L%360*it,N()):h*bt},w.reflectX=function(L){return arguments.length?(f=L?-1:1,N()):f<0},w.reflectY=function(L){return arguments.length?(d=L?-1:1,N()):d<0},w.precision=function(L){return arguments.length?($=hg(x,A=L*L),P()):Nt(A)},w.fitExtent=function(L,T){return du(w,L,T)},w.fitSize=function(L,T){return ch(w,L,T)},w.fitWidth=function(L,T){return fh(w,L,T)},w.fitHeight=function(L,T){return hh(w,L,T)};function N(){var L=dg(n,0,0,f,d,h).apply(null,e(a,o)),T=dg(n,r-L[0],i-L[1],f,d,h);return c=uh(s,l,u),x=Ec(e,T),S=Ec(c,x),$=hg(x,A),P()}function P(){return E=D=null,w}return function(){return e=t.apply(this,arguments),w.invert=e.invert&&O,N()}}function ph(t){var e=0,n=ht/3,r=dh(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*it,n=a[1]*it):[e*bt,n*bt]},i}function J8(t){var e=Q(t);function n(r,i){return[r*e,Z(i)/e]}return n.invert=function(r,i){return[r/e,ee(i*e)]},n}function Cb(t,e){var n=Z(t),r=(n+Z(e))/2;if(pt(r)<rt)return J8(t);var i=1+n*(2*r-n),a=Nt(i)/r;function o(s,l){var u=Nt(i-2*r*Z(l))/r;return[u*Z(s*=r),a-u*Q(s)]}return o.invert=function(s,l){var u=a-l,c=te(s,pt(u))*me(u);return u*r<0&&(c-=ht*me(s)*me(u)),[c/r,ee((i-(s*s+u*u)*r*r)/(2*r))]},o}function $s(){return ph(Cb).scale(155.424).center([0,33.6442])}function Nb(){return $s().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function K8(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function t7(){var t,e,n=Nb(),r,i=$s().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=$s().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(f,d){l=[f,d]}};function c(f){var d=f[0],p=f[1];return l=null,r.point(d,p),l||(a.point(d,p),l)||(s.point(d,p),l)}c.invert=function(f){var d=n.scale(),p=n.translate(),g=(f[0]-p[0])/d,m=(f[1]-p[1])/d;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?o:n).invert(f)},c.stream=function(f){return t&&e===f?t:t=K8([n.stream(e=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),h()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),p=+f[0],g=+f[1];return r=n.translate(f).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(u),a=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+rt,g+.12*d+rt],[p-.214*d-rt,g+.234*d-rt]]).stream(u),s=o.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+rt,g+.166*d+rt],[p-.115*d-rt,g+.234*d-rt]]).stream(u),h()},c.fitExtent=function(f,d){return du(c,f,d)},c.fitSize=function(f,d){return ch(c,f,d)},c.fitWidth=function(f,d){return fh(c,f,d)},c.fitHeight=function(f,d){return hh(c,f,d)};function h(){return t=e=null,c}return c.scale(1070)}function kb(t){return function(e,n){var r=Q(e),i=Q(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Z(e),a*Z(n)]}}function $a(t){return function(e,n){var r=Nt(e*e+n*n),i=t(r),a=Z(i),o=Q(i);return[te(e*a,r*o),ee(r&&n*a/r)]}}var gh=kb(function(t){return Nt(2/(1+t))});gh.invert=$a(function(t){return 2*ee(t/2)});function e7(){return Ye(gh).scale(124.75).clipAngle(180-.001)}var mh=kb(function(t){return(t=nb(t))&&t/Z(t)});mh.invert=$a(function(t){return t});function n7(){return Ye(mh).scale(79.4188).clipAngle(180-.001)}function Da(t,e){return[t,ss(oh((Et+e)/2))]}Da.invert=function(t,e){return[t,2*ri(eb(e))-Et]};function r7(){return Gb(Da).scale(961/Kt)}function Gb(t){var e=Ye(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,l,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(i(h),c()):i()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?o=s=l=u=null:(o=+h[0][0],s=+h[0][1],l=+h[1][0],u=+h[1][1]),c()):o==null?null:[[o,s],[l,u]]};function c(){var h=ht*r(),f=e(db(e.rotate()).invert([0,0]));return a(o==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===Da?[[Math.max(f[0]-h,o),s],[Math.min(f[0]+h,l),u]]:[[o,Math.max(f[1]-h,s)],[l,Math.min(f[1]+h,u)]])}return c()}function ao(t){return oh((Et+t)/2)}function Ob(t,e){var n=Q(t),r=t===e?Z(t):ss(n/Q(e))/ss(ao(e)/ao(t)),i=n*dl(ao(t),r)/r;if(!r)return Da;function a(o,s){i>0?s<-Et+rt&&(s=-Et+rt):s>Et-rt&&(s=Et-rt);var l=i/dl(ao(s),r);return[l*Z(r*o),i-l*Q(r*o)]}return a.invert=function(o,s){var l=i-s,u=me(r)*Nt(o*o+l*l),c=te(o,pt(l))*me(l);return l*r<0&&(c-=ht*me(o)*me(l)),[c/r,2*ri(dl(i/u,1/r))-Et]},a}function i7(){return ph(Ob).scale(109.5).parallels([30,30])}function fa(t,e){return[t,e]}fa.invert=fa;function a7(){return Ye(fa).scale(152.63)}function Fb(t,e){var n=Q(t),r=t===e?Z(t):(n-Q(e))/(e-t),i=n/r+t;if(pt(r)<rt)return fa;function a(o,s){var l=i-s,u=r*o;return[l*Z(u),i-l*Q(u)]}return a.invert=function(o,s){var l=i-s,u=te(o,pt(l))*me(l);return l*r<0&&(u-=ht*me(o)*me(l)),[u/r,i-me(r)*Nt(o*o+l*l)]},a}function o7(){return ph(Fb).scale(131.154).center([0,13.9389])}var Ci=1.340264,Ni=-.081106,ki=893e-6,Gi=.003796,Ds=Nt(3)/2,s7=12;function yh(t,e){var n=ee(Ds*Z(e)),r=n*n,i=r*r*r;return[t*Q(n)/(Ds*(Ci+3*Ni*r+i*(7*ki+9*Gi*r))),n*(Ci+Ni*r+i*(ki+Gi*r))]}yh.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,l;a<s7&&(s=n*(Ci+Ni*r+i*(ki+Gi*r))-e,l=Ci+3*Ni*r+i*(7*ki+9*Gi*r),n-=o=s/l,r=n*n,i=r*r*r,!(pt(o)<sa));++a);return[Ds*t*(Ci+3*Ni*r+i*(7*ki+9*Gi*r))/Q(n),ee(Z(n)/Ds)]};function u7(){return Ye(yh).scale(177.158)}function bh(t,e){var n=Q(e),r=Q(t)*n;return[n*Z(t)/r,Z(e)/r]}bh.invert=$a(ri);function l7(){return Ye(bh).scale(144.049).clipAngle(60)}function c7(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,l=null,u,c,h,f=1,d=1,p=Ea({point:function(b,A){var $=v([b,A]);this.stream.point($[0],$[1])}}),g=ua,m,y;function _(){return f=t*r,d=t*i,m=y=null,v}function v(b){var A=b[0]*f,$=b[1]*d;if(a){var x=$*o-A*s;A=A*o+$*s,$=x}return[A+e,$+n]}return v.invert=function(b){var A=b[0]-e,$=b[1]-n;if(a){var x=$*o+A*s;A=A*o-$*s,$=x}return[A/f,$/d]},v.stream=function(b){return m&&y===b?m:m=p(g(y=b))},v.postclip=function(b){return arguments.length?(g=b,l=u=c=h=null,_()):g},v.clipExtent=function(b){return arguments.length?(g=b==null?(l=u=c=h=null,ua):hu(l=+b[0][0],u=+b[0][1],c=+b[1][0],h=+b[1][1]),_()):l==null?null:[[l,u],[c,h]]},v.scale=function(b){return arguments.length?(t=+b,_()):t},v.translate=function(b){return arguments.length?(e=+b[0],n=+b[1],_()):[e,n]},v.angle=function(b){return arguments.length?(a=b%360*it,s=Z(a),o=Q(a),_()):a*bt},v.reflectX=function(b){return arguments.length?(r=b?-1:1,_()):r<0},v.reflectY=function(b){return arguments.length?(i=b?-1:1,_()):i<0},v.fitExtent=function(b,A){return du(v,b,A)},v.fitSize=function(b,A){return ch(v,b,A)},v.fitWidth=function(b,A){return fh(v,b,A)},v.fitHeight=function(b,A){return hh(v,b,A)},v}function vh(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}vh.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(pt(i)>rt&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function f7(){return Ye(vh).scale(175.295)}function _h(t,e){return[Q(e)*Z(t),Z(e)]}_h.invert=$a(ee);function h7(){return Ye(_h).scale(249.5).clipAngle(90+rt)}function xh(t,e){var n=Q(e),r=1+Q(t)*n;return[n*Z(t)/r,Z(e)/r]}xh.invert=$a(function(t){return 2*ri(t)});function d7(){return Ye(xh).scale(250).clipAngle(142)}function Sh(t,e){return[ss(oh((Et+e)/2)),-t]}Sh.invert=function(t,e){return[-e,2*ri(eb(t))-Et]};function p7(){var t=Gb(Sh),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function g7(t,e){return t.parent===e.parent?1:2}function m7(t){return t.reduce(y7,0)/t.length}function y7(t,e){return t+e.x}function b7(t){return 1+t.reduce(v7,0)}function v7(t,e){return Math.max(t,e.y)}function _7(t){for(var e;e=t.children;)t=e[0];return t}function x7(t){for(var e;e=t.children;)t=e[e.length-1];return t}function S7(){var t=g7,e=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=m7(d),f.y=b7(d)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var l=_7(a),u=x7(a),c=l.x-t(l,u)/2,h=u.x+t(u,l)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*e,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-c)/(h-c)*e,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function A7(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function P7(){return this.eachAfter(A7)}function w7(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function T7(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function E7(t,e){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function $7(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function D7(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function L7(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function M7(t){for(var e=this,n=R7(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function R7(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function I7(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function C7(){return Array.from(this)}function N7(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function k7(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*G7(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function pu(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=B7)):e===void 0&&(e=F7);for(var n=new Zn(t),r,i=[n],a,o,s,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Zn(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(Bb)}function O7(){return pu(this).eachBefore(z7)}function F7(t){return t.children}function B7(t){return Array.isArray(t)?t[1]:null}function z7(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Bb(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Zn(t){this.data=t,this.depth=this.height=0,this.parent=null}Zn.prototype=pu.prototype={constructor:Zn,count:P7,each:w7,eachAfter:E7,eachBefore:T7,find:$7,sum:D7,sort:L7,path:M7,ancestors:I7,descendants:C7,leaves:N7,links:k7,copy:O7,[Symbol.iterator]:G7};function Do(t){return t==null?null:zb(t)}function zb(t){if(typeof t!="function")throw new Error;return t}function Mn(){return 0}function _r(t){return function(){return t}}const H7=1664525,j7=1013904223,pg=4294967296;function Ah(){let t=1;return()=>(t=(H7*t+j7)%pg)/pg}function U7(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V7(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function Y7(t){return Hb(t,Ah())}function Hb(t,e){for(var n=0,r=(t=V7(Array.from(t),e)).length,i=[],a,o;n<r;)a=t[n],o&&jb(o,a)?++n:(o=X7(i=W7(i,a)),n=0);return o}function W7(t,e){var n,r;if(bl(e,t))return[e];for(n=0;n<t.length;++n)if(oo(e,t[n])&&bl(Di(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(oo(Di(t[n],t[r]),e)&&oo(Di(t[n],e),t[r])&&oo(Di(t[r],e),t[n])&&bl(Ub(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function oo(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function jb(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function bl(t,e){for(var n=0;n<e.length;++n)if(!jb(t,e[n]))return!1;return!0}function X7(t){switch(t.length){case 1:return q7(t[0]);case 2:return Di(t[0],t[1]);case 3:return Ub(t[0],t[1],t[2])}}function q7(t){return{x:t.x,y:t.y,r:t.r}}function Di(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,u=o-r,c=s-i,h=Math.sqrt(l*l+u*u);return{x:(n+a+l/h*c)/2,y:(r+o+u/h*c)/2,r:(h+i+s)/2}}function Ub(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,u=n.x,c=n.y,h=n.r,f=r-o,d=r-u,p=i-s,g=i-c,m=l-a,y=h-a,_=r*r+i*i-a*a,v=_-o*o-s*s+l*l,b=_-u*u-c*c+h*h,A=d*p-f*g,$=(p*b-g*v)/(A*2)-r,x=(g*m-p*y)/A,S=(d*v-f*b)/(A*2)-i,E=(f*y-d*m)/A,D=x*x+E*E-1,w=2*(a+$*x+S*E),O=$*$+S*S-a*a,N=-(Math.abs(D)>1e-6?(w+Math.sqrt(w*w-4*D*O))/(2*D):O/w);return{x:r+$+x*N,y:i+S+E*N,r:N}}function gg(t,e,n){var r=t.x-e.x,i,a,o=t.y-e.y,s,l,u=r*r+o*o;u?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),n.x=t.x-i*r-s*o,n.y=t.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),n.x=e.x+i*r-s*o,n.y=e.y+i*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function mg(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function yg(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function so(t){this._=t,this.next=null,this.previous=null}function Vb(t,e){if(!(a=(t=U7(t)).length))return 0;var n,r,i,a,o,s,l,u,c,h,f;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;gg(r,n,i=t[2]),n=new so(n),r=new so(r),i=new so(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<a;++l){gg(n._,r._,i=t[l]),i=new so(i),u=r.next,c=n.previous,h=r._.r,f=n._.r;do if(h<=f){if(mg(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue t}h+=u._.r,u=u.next}else{if(mg(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue t}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=yg(n);(i=i.next)!==r;)(s=yg(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Hb(n,e),l=0;l<a;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function Z7(t){return Vb(t,Ah()),t}function Q7(t){return Math.sqrt(t.value)}function J7(){var t=null,e=1,n=1,r=Mn;function i(a){const o=Ah();return a.x=e/2,a.y=n/2,t?a.eachBefore(bg(t)).eachAfter(vl(r,.5,o)).eachBefore(vg(1)):a.eachBefore(bg(Q7)).eachAfter(vl(Mn,1,o)).eachAfter(vl(r,a.r/Math.min(e,n),o)).eachBefore(vg(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=Do(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:_r(+a),i):r},i}function bg(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function vl(t,e,n){return function(r){if(i=r.children){var i,a,o=i.length,s=t(r)*e||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=Vb(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function vg(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Yb(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function La(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,u=t.value&&(r-e)/t.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function K7(){var t=1,e=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),r&&o.eachBefore(Yb),o}function a(o,s){return function(l){l.children&&La(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,c=l.y0,h=l.x1-n,f=l.y1-n;h<u&&(u=h=(u+h)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=h,l.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var tL={depth:-1},_g={},_l={};function eL(t){return t.id}function nL(t){return t.parentId}function rL(){var t=eL,e=nL,n;function r(i){var a=Array.from(i),o=t,s=e,l,u,c,h,f,d,p,g,m=new Map;if(n!=null){const y=a.map((b,A)=>iL(n(b,A,i))),_=y.map(xg),v=new Set(y).add("");for(const b of _)v.has(b)||(v.add(b),y.push(b),_.push(xg(b)),a.push(_l));o=(b,A)=>y[A],s=(b,A)=>_[A]}for(c=0,l=a.length;c<l;++c)u=a[c],d=a[c]=new Zn(u),(p=o(u,c,i))!=null&&(p+="")&&(g=d.id=p,m.set(g,m.has(g)?_g:d)),(p=s(u,c,i))!=null&&(p+="")&&(d.parent=p);for(c=0;c<l;++c)if(d=a[c],p=d.parent){if(f=m.get(p),!f)throw new Error("missing: "+p);if(f===_g)throw new Error("ambiguous: "+p);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===_l&&h.children.length===1;)h=h.children[0],--l;for(let y=a.length-1;y>=0&&(d=a[y],d.data===_l);--y)d.data=null}if(h.parent=tL,h.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(Bb),h.parent=null,l>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=Do(i),r):t},r.parentId=function(i){return arguments.length?(e=Do(i),r):e},r.path=function(i){return arguments.length?(n=Do(i),r):n},r}function iL(t){t=`${t}`;let e=t.length;return Hc(t,e-1)&&!Hc(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function xg(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Hc(t,e););return t.slice(0,e)}function Hc(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function aL(t,e){return t.parent===e.parent?1:2}function xl(t){var e=t.children;return e?e[0]:t.t}function Sl(t){var e=t.children;return e?e[e.length-1]:t.t}function oL(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function sL(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function uL(t,e,n){return t.a.parent===e.parent?t.a:n}function Lo(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Lo.prototype=Object.create(Zn.prototype);function lL(t){for(var e=new Lo(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new Lo(a[o],o)),i.parent=n;return(e.parent=new Lo(null,0)).children=[e],e}function cL(){var t=aL,e=1,n=1,r=null;function i(u){var c=lL(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var h=u,f=u,d=u;u.eachBefore(function(_){_.x<h.x&&(h=_),_.x>f.x&&(f=_),_.depth>d.depth&&(d=_)});var p=h===f?1:t(h,f)/2,g=p-h.x,m=e/(f.x+p+g),y=n/(d.depth||1);u.eachBefore(function(_){_.x=(_.x+g)*m,_.y=_.depth*y})}return u}function a(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){sL(u);var d=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-d):u.z=d}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,d=u,p=c,g=f.parent.children[0],m=f.m,y=d.m,_=p.m,v=g.m,b;p=Sl(p),f=xl(f),p&&f;)g=xl(g),d=Sl(d),d.a=u,b=p.z+_-f.z-m+t(p._,f._),b>0&&(oL(uL(p,u,h),u,b),m+=b,y+=b),_+=p.m,m+=f.m,v+=g.m,y+=d.m;p&&!Sl(d)&&(d.t=p,d.m+=_-y),f&&!xl(g)&&(g.t=f,g.m+=m-v,h=u)}return h}function l(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function gu(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,u=t.value&&(i-n)/t.value;++s<l;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var Wb=(1+Math.sqrt(5))/2;function Xb(t,e,n,r,i,a){for(var o=[],s=e.children,l,u,c=0,h=0,f=s.length,d,p,g=e.value,m,y,_,v,b,A,$;c<f;){d=i-n,p=a-r;do m=s[h++].value;while(!m&&h<f);for(y=_=m,A=Math.max(p/d,d/p)/(g*t),$=m*m*A,b=Math.max(_/$,$/y);h<f;++h){if(m+=u=s[h].value,u<y&&(y=u),u>_&&(_=u),$=m*m*A,v=Math.max(_/$,$/y),v>b){m-=u;break}b=v}o.push(l={value:m,dice:d<p,children:s.slice(c,h)}),l.dice?La(l,n,r,i,g?r+=p*m/g:a):gu(l,n,r,g?n+=d*m/g:i,a),g-=m,c=h}return o}const Ph=function t(e){function n(r,i,a,o,s){Xb(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Wb);function qb(){var t=Ph,e=!1,n=1,r=1,i=[0],a=Mn,o=Mn,s=Mn,l=Mn,u=Mn;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],e&&f.eachBefore(Yb),f}function h(f){var d=i[f.depth],p=f.x0+d,g=f.y0+d,m=f.x1-d,y=f.y1-d;m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),f.x0=p,f.y0=g,f.x1=m,f.y1=y,f.children&&(d=i[f.depth+1]=a(f)/2,p+=u(f)-d,g+=o(f)-d,m-=s(f)-d,y-=l(f)-d,m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),t(f,p,g,m,y))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=zb(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:_r(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:_r(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:_r(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:_r(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:_r(+f),c):u},c}function fL(t,e,n,r,i){var a=t.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;c(0,s,t.value,e,n,r,i);function c(h,f,d,p,g,m,y){if(h>=f-1){var _=a[h];_.x0=p,_.y0=g,_.x1=m,_.y1=y;return}for(var v=u[h],b=d/2+v,A=h+1,$=f-1;A<$;){var x=A+$>>>1;u[x]<b?A=x+1:$=x}b-u[A-1]<u[A]-b&&h+1<A&&--A;var S=u[A]-v,E=d-S;if(m-p>y-g){var D=d?(p*E+m*S)/d:m;c(h,A,S,p,g,D,y),c(A,f,E,D,g,m,y)}else{var w=d?(g*E+y*S)/d:y;c(h,A,S,p,g,m,w),c(A,f,E,p,w,m,y)}}}function hL(t,e,n,r,i){(t.depth&1?gu:La)(t,e,n,r,i)}const dL=function t(e){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===e)for(var l,u,c,h,f=-1,d,p=l.length,g=r.value;++f<p;){for(u=l[f],c=u.children,h=u.value=0,d=c.length;h<d;++h)u.value+=c[h].value;u.dice?La(u,i,a,o,g?a+=(s-a)*u.value/g:s):gu(u,i,a,g?i+=(o-i)*u.value/g:o,s),g-=u.value}else r._squarify=l=Xb(e,r,i,a,o,s),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Wb);function pL(t){for(var e=-1,n=t.length,r,i=t[n-1],a=0;++e<n;)r=i,i=t[e],a+=r[1]*i[0]-r[0]*i[1];return a/2}function gL(t){for(var e=-1,n=t.length,r=0,i=0,a,o=t[n-1],s,l=0;++e<n;)a=o,o=t[e],l+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return l*=3,[r/l,i/l]}function mL(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function yL(t,e){return t[0]-e[0]||t[1]-e[1]}function Sg(t){const e=t.length,n=[0,1];let r=2,i;for(i=2;i<e;++i){for(;r>1&&mL(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function bL(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(yL),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=Sg(r),o=Sg(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],u=[];for(e=a.length-1;e>=0;--e)u.push(t[r[a[e]][2]]);for(e=+s;e<o.length-l;++e)u.push(t[r[o[e]][2]]);return u}function vL(t,e){for(var n=t.length,r=t[n-1],i=e[0],a=e[1],o=r[0],s=r[1],l,u,c=!1,h=0;h<n;++h)r=t[h],l=r[0],u=r[1],u>a!=s>a&&i<(o-l)*(a-u)/(s-u)+l&&(c=!c),o=l,s=u;return c}function _L(t){for(var e=-1,n=t.length,r=t[n-1],i,a,o=r[0],s=r[1],l=0;++e<n;)i=o,a=s,r=t[e],o=r[0],s=r[1],i-=o,a-=s,l+=Math.hypot(i,a);return l}const Gt=Math.random,xL=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(Gt),SL=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(Gt),wh=function t(e){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=e()*2-1,s=e()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(Gt),AL=function t(e){var n=wh.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(Gt),Zb=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,a=r;a>1;--a)i+=e();return i+a*e()}}return n.source=t,n}(Gt),PL=function t(e){var n=Zb.source(e);function r(i){if((i=+i)==0)return e;var a=n(i);return function(){return a()/i}}return r.source=t,r}(Gt),wL=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(Gt),TL=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(Gt),EL=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(Gt),Qb=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(Gt),Th=function t(e){var n=wh.source(e)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(a=a==null?1:+a,i===1)return()=>-Math.log1p(-e())*a;var o=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(o)),l=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var u=n(),c=1+s*u;while(c<=0);c*=c*c;var h=1-e()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+o*(1-c+Math.log(c)));return o*c*l()*a}}return r.source=t,r}(Gt),Jb=function t(e){var n=Th.source(e);function r(i,a){var o=n(i),s=n(a);return function(){var l=o();return l===0?0:l/(l+s())}}return r.source=t,r}(Gt),Kb=function t(e){var n=Qb.source(e),r=Jb.source(e);function i(a,o){return a=+a,(o=+o)>=1?()=>a:o<=0?()=>0:function(){for(var s=0,l=a,u=o;l*u>16&&l*(1-u)>16;){var c=Math.floor((l+1)*u),h=r(c,l-c+1)();h<=u?(s+=c,l-=c,u=(u-h)/(1-h)):(l=c-1,u/=h)}for(var f=u<.5,d=f?u:1-u,p=n(d),g=p(),m=0;g<=l;++m)g+=p();return s+(f?m:l-m)}}return i.source=t,i}(Gt),$L=function t(e){function n(r,i,a){var o;return(r=+r)==0?o=s=>-Math.log(s):(r=1/r,o=s=>Math.pow(s,r)),i=i==null?0:+i,a=a==null?1:+a,function(){return i+a*o(-Math.log1p(-e()))}}return n.source=t,n}(Gt),DL=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(Gt),LL=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var a=e();return r+i*Math.log(a/(1-a))}}return n.source=t,n}(Gt),ML=function t(e){var n=Th.source(e),r=Kb.source(e);function i(a){return function(){for(var o=0,s=a;s>16;){var l=Math.floor(.875*s),u=n(l)();if(u>s)return o+r(l-1,s/u)();o+=l,s-=u}for(var c=-Math.log1p(-e()),h=0;c<=s;++h)c-=Math.log1p(-e());return o+h}}return i.source=t,i}(Gt),RL=1664525,IL=1013904223,Ag=1/4294967296;function CL(t=Math.random()){let e=(0<=t&&t<1?t/Ag:Math.abs(t))|0;return()=>(e=RL*e+IL|0,Ag*(e>>>0))}function xe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ln(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jc=Symbol("implicit");function Eh(){var t=new Xi,e=[],n=[],r=jc;function i(a){let o=t.get(a);if(o===void 0){if(r!==jc)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Xi;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Eh(e,n).unknown(r)},xe.apply(i,arguments),i}function $h(){var t=Eh().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,d=i<r,p=d?i:r,g=d?r:i;a=(g-p)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),p+=(g-p-a*(f-l))*c,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var m=dn(f).map(function(y){return p+a*y});return n(d?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return $h(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},xe.apply(h(),arguments)}function tv(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return tv(e())},t}function Dh(){return tv($h.apply(null,arguments).paddingInner(1))}function NL(t){return function(){return t}}function Ls(t){return+t}var Pg=[0,1];function Qt(t){return t}function Uc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:NL(isNaN(e)?NaN:.5)}function kL(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function GL(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Uc(i,r),a=n(o,a)):(r=Uc(r,i),a=n(a,o)),function(s){return a(r(s))}}function OL(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Uc(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=er(t,s,1,r)-1;return a[l](i[l](s))}}function Ma(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mu(){var t=Pg,e=Pg,n=un,r,i,a,o=Qt,s,l,u;function c(){var f=Math.min(t.length,e.length);return o!==Qt&&(o=kL(t[0],t[f-1])),s=f>2?OL:GL,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(e,t.map(r),pe)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Ls),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=ru,c()},h.clamp=function(f){return arguments.length?(o=f?!0:Qt,c()):o!==Qt},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function Lh(){return mu()(Qt,Qt)}function ev(t,e,n,r){var i=Xo(t,e,n),a;switch(r=Vr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Ky(i,o))&&(r.precision=a),ah(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=tb(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Jy(i))&&(r.precision=a-(r.type==="%")*2);break}}return wa(r)}function wn(t){var e=t.domain;return t.ticks=function(n){var r=e();return jn(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ev(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Un(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function yu(){var t=Lh();return t.copy=function(){return Ma(t,yu())},xe.apply(t,arguments),wn(t)}function nv(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ls),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return nv(t).unknown(e)},t=arguments.length?Array.from(t,Ls):[0,1],wn(n)}function rv(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function wg(t){return Math.log(t)}function Tg(t){return Math.exp(t)}function FL(t){return-Math.log(-t)}function BL(t){return-Math.exp(-t)}function zL(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HL(t){return t===10?zL:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jL(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Eg(t){return(e,n)=>-t(-e,n)}function Mh(t){const e=t(wg,Tg),n=e.domain;let r=10,i,a;function o(){return i=jL(r),a=HL(r),n()[0]<0?(i=Eg(i),a=Eg(a),t(FL,BL)):t(wg,Tg),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),d=i(c),p,g;const m=s==null?10:+s;let y=[];if(!(r%1)&&d-f<m){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(p=1;p<r;++p)if(g=f<0?p/a(-f):p*a(f),!(g<u)){if(g>c)break;y.push(g)}}else for(;f<=d;++f)for(p=r-1;p>=1;--p)if(g=f>0?p/a(-f):p*a(f),!(g<u)){if(g>c)break;y.push(g)}y.length*2<m&&(y=jn(u,c,m))}else y=jn(f,d,Math.min(d-f,m)).map(a);return h?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Vr(l)).precision==null&&(l.trim=!0),l=wa(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(rv(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function iv(){const t=Mh(mu()).domain([1,10]);return t.copy=()=>Ma(t,iv()).base(t.base()),xe.apply(t,arguments),t}function $g(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Dg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Rh(t){var e=1,n=t($g(e),Dg(e));return n.constant=function(r){return arguments.length?t($g(e=+r),Dg(e)):e},wn(n)}function av(){var t=Rh(mu());return t.copy=function(){return Ma(t,av()).constant(t.constant())},xe.apply(t,arguments)}function Lg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UL(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function VL(t){return t<0?-t*t:t*t}function Ih(t){var e=t(Qt,Qt),n=1;function r(){return n===1?t(Qt,Qt):n===.5?t(UL,VL):t(Lg(n),Lg(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},wn(e)}function ii(){var t=Ih(mu());return t.copy=function(){return Ma(t,ii()).exponent(t.exponent())},xe.apply(t,arguments),t}function YL(){return ii.apply(null,arguments).exponent(.5)}function Mg(t){return Math.sign(t)*t*t}function WL(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ov(){var t=Lh(),e=[0,1],n=!1,r;function i(a){var o=WL(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Mg(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ls)).map(Mg)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ov(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xe.apply(i,arguments),wn(i)}function sv(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=T1(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[er(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Pt),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return sv().domain(t).range(e).unknown(r)},xe.apply(a,arguments)}function uv(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[er(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return uv().domain([t,e]).range(i).unknown(a)},xe.apply(wn(o),arguments)}function lv(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[er(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lv().domain(t).range(e).unknown(n)},xe.apply(i,arguments)}const Al=new Date,Pl=new Date;function $t(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>$t(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Al.setTime(+a),Pl.setTime(+o),t(Al),t(Pl),Math.floor(n(Al,Pl))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const qr=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qr.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qr);const Rg=qr.range,tn=1e3,ye=tn*60,en=ye*60,sn=en*24,Ch=sn*7,Ig=sn*30,wl=sn*365,nn=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*tn)},(t,e)=>(e-t)/tn,t=>t.getUTCSeconds()),Cg=nn.range,bu=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tn)},(t,e)=>{t.setTime(+t+e*ye)},(t,e)=>(e-t)/ye,t=>t.getMinutes()),XL=bu.range,vu=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ye)},(t,e)=>(e-t)/ye,t=>t.getUTCMinutes()),qL=vu.range,_u=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tn-t.getMinutes()*ye)},(t,e)=>{t.setTime(+t+e*en)},(t,e)=>(e-t)/en,t=>t.getHours()),ZL=_u.range,xu=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*en)},(t,e)=>(e-t)/en,t=>t.getUTCHours()),QL=xu.range,ai=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ye)/sn,t=>t.getDate()-1),JL=ai.range,Ra=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>t.getUTCDate()-1),KL=Ra.range,Nh=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>Math.floor(t/sn)),tM=Nh.range;function or(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ye)/Ch)}const Zr=or(0),ha=or(1),cv=or(2),fv=or(3),Qn=or(4),hv=or(5),dv=or(6),Ng=Zr.range,eM=ha.range,nM=cv.range,rM=fv.range,iM=Qn.range,aM=hv.range,oM=dv.range;function sr(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ch)}const Qr=sr(0),da=sr(1),pv=sr(2),gv=sr(3),Jn=sr(4),mv=sr(5),yv=sr(6),kg=Qr.range,sM=da.range,uM=pv.range,lM=gv.range,cM=Jn.range,fM=mv.range,hM=yv.range,Su=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),dM=Su.range,Au=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),pM=Au.range,ze=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ze.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const gM=ze.range,He=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());He.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const mM=He.range;function bv(t,e,n,r,i,a){const o=[[nn,1,tn],[nn,5,5*tn],[nn,15,15*tn],[nn,30,30*tn],[a,1,ye],[a,5,5*ye],[a,15,15*ye],[a,30,30*ye],[i,1,en],[i,3,3*en],[i,6,6*en],[i,12,12*en],[r,1,sn],[r,2,2*sn],[n,1,Ch],[e,1,Ig],[e,3,3*Ig],[t,1,wl]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const d=h&&typeof h.range=="function"?h:l(u,c,h),p=d?d.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,h){const f=Math.abs(c-u)/h,d=Ys(([,,m])=>m).right(o,f);if(d===o.length)return t.every(Xo(u/wl,c/wl,h));if(d===0)return qr.every(Math.max(Xo(u,c,h),1));const[p,g]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return p.every(g)}return[s,l]}const[vv,_v]=bv(He,Au,Qr,Nh,xu,vu),[xv,Sv]=bv(ze,Su,Zr,ai,_u,bu);function Tl(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function El(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function di(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Av(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=pi(i),c=gi(i),h=pi(a),f=gi(a),d=pi(o),p=gi(o),g=pi(s),m=gi(s),y=pi(l),_=gi(l),v={a:G,A:z,b:M,B:I,c:null,d:Hg,e:Hg,f:FM,g:qM,G:QM,H:kM,I:GM,j:OM,L:Pv,m:BM,M:zM,p:R,q:k,Q:Vg,s:Yg,S:HM,u:jM,U:UM,V:VM,w:YM,W:WM,x:null,X:null,y:XM,Y:ZM,Z:JM,"%":Ug},b={a:H,A:J,b:B,B:V,c:null,d:jg,e:jg,f:nR,g:hR,G:pR,H:KM,I:tR,j:eR,L:Tv,m:rR,M:iR,p:W,q:ft,Q:Vg,s:Yg,S:aR,u:oR,U:sR,V:uR,w:lR,W:cR,x:null,X:null,y:fR,Y:dR,Z:gR,"%":Ug},A={a:D,A:w,b:O,B:N,c:P,d:Bg,e:Bg,f:RM,g:Fg,G:Og,H:zg,I:zg,j:$M,L:MM,m:EM,M:DM,p:E,q:TM,Q:CM,s:NM,S:LM,u:xM,U:SM,V:AM,w:_M,W:PM,x:L,X:T,y:Fg,Y:Og,Z:wM,"%":IM};v.x=$(n,v),v.X=$(r,v),v.c=$(e,v),b.x=$(n,b),b.X=$(r,b),b.c=$(e,b);function $(X,tt){return function(st){var Y=[],mt=-1,yt=0,Ut=X.length,Vt,ot,wt;for(st instanceof Date||(st=new Date(+st));++mt<Ut;)X.charCodeAt(mt)===37&&(Y.push(X.slice(yt,mt)),(ot=Gg[Vt=X.charAt(++mt)])!=null?Vt=X.charAt(++mt):ot=Vt==="e"?" ":"0",(wt=tt[Vt])&&(Vt=wt(st,ot)),Y.push(Vt),yt=mt+1);return Y.push(X.slice(yt,mt)),Y.join("")}}function x(X,tt){return function(st){var Y=di(1900,void 0,1),mt=S(Y,X,st+="",0),yt,Ut;if(mt!=st.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(tt&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(yt=El(di(Y.y,0,1)),Ut=yt.getUTCDay(),yt=Ut>4||Ut===0?da.ceil(yt):da(yt),yt=Ra.offset(yt,(Y.V-1)*7),Y.y=yt.getUTCFullYear(),Y.m=yt.getUTCMonth(),Y.d=yt.getUTCDate()+(Y.w+6)%7):(yt=Tl(di(Y.y,0,1)),Ut=yt.getDay(),yt=Ut>4||Ut===0?ha.ceil(yt):ha(yt),yt=ai.offset(yt,(Y.V-1)*7),Y.y=yt.getFullYear(),Y.m=yt.getMonth(),Y.d=yt.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ut="Z"in Y?El(di(Y.y,0,1)).getUTCDay():Tl(di(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ut+5)%7:Y.w+Y.U*7-(Ut+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,El(Y)):Tl(Y)}}function S(X,tt,st,Y){for(var mt=0,yt=tt.length,Ut=st.length,Vt,ot;mt<yt;){if(Y>=Ut)return-1;if(Vt=tt.charCodeAt(mt++),Vt===37){if(Vt=tt.charAt(mt++),ot=A[Vt in Gg?tt.charAt(mt++):Vt],!ot||(Y=ot(X,st,Y))<0)return-1}else if(Vt!=st.charCodeAt(Y++))return-1}return Y}function E(X,tt,st){var Y=u.exec(tt.slice(st));return Y?(X.p=c.get(Y[0].toLowerCase()),st+Y[0].length):-1}function D(X,tt,st){var Y=d.exec(tt.slice(st));return Y?(X.w=p.get(Y[0].toLowerCase()),st+Y[0].length):-1}function w(X,tt,st){var Y=h.exec(tt.slice(st));return Y?(X.w=f.get(Y[0].toLowerCase()),st+Y[0].length):-1}function O(X,tt,st){var Y=y.exec(tt.slice(st));return Y?(X.m=_.get(Y[0].toLowerCase()),st+Y[0].length):-1}function N(X,tt,st){var Y=g.exec(tt.slice(st));return Y?(X.m=m.get(Y[0].toLowerCase()),st+Y[0].length):-1}function P(X,tt,st){return S(X,e,tt,st)}function L(X,tt,st){return S(X,n,tt,st)}function T(X,tt,st){return S(X,r,tt,st)}function G(X){return o[X.getDay()]}function z(X){return a[X.getDay()]}function M(X){return l[X.getMonth()]}function I(X){return s[X.getMonth()]}function R(X){return i[+(X.getHours()>=12)]}function k(X){return 1+~~(X.getMonth()/3)}function H(X){return o[X.getUTCDay()]}function J(X){return a[X.getUTCDay()]}function B(X){return l[X.getUTCMonth()]}function V(X){return s[X.getUTCMonth()]}function W(X){return i[+(X.getUTCHours()>=12)]}function ft(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var tt=$(X+="",v);return tt.toString=function(){return X},tt},parse:function(X){var tt=x(X+="",!1);return tt.toString=function(){return X},tt},utcFormat:function(X){var tt=$(X+="",b);return tt.toString=function(){return X},tt},utcParse:function(X){var tt=x(X+="",!0);return tt.toString=function(){return X},tt}}}var Gg={"-":"",_:" ",0:"0"},kt=/^\s*\d+/,yM=/^%/,bM=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function vM(t){return t.replace(bM,"\\$&")}function pi(t){return new RegExp("^(?:"+t.map(vM).join("|")+")","i")}function gi(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _M(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xM(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function SM(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function AM(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function PM(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Og(t,e,n){var r=kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fg(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wM(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TM(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function EM(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Bg(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $M(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zg(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function DM(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function LM(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function MM(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function RM(t,e,n){var r=kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IM(t,e,n){var r=yM.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function CM(t,e,n){var r=kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function NM(t,e,n){var r=kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Hg(t,e){return gt(t.getDate(),e,2)}function kM(t,e){return gt(t.getHours(),e,2)}function GM(t,e){return gt(t.getHours()%12||12,e,2)}function OM(t,e){return gt(1+ai.count(ze(t),t),e,3)}function Pv(t,e){return gt(t.getMilliseconds(),e,3)}function FM(t,e){return Pv(t,e)+"000"}function BM(t,e){return gt(t.getMonth()+1,e,2)}function zM(t,e){return gt(t.getMinutes(),e,2)}function HM(t,e){return gt(t.getSeconds(),e,2)}function jM(t){var e=t.getDay();return e===0?7:e}function UM(t,e){return gt(Zr.count(ze(t)-1,t),e,2)}function wv(t){var e=t.getDay();return e>=4||e===0?Qn(t):Qn.ceil(t)}function VM(t,e){return t=wv(t),gt(Qn.count(ze(t),t)+(ze(t).getDay()===4),e,2)}function YM(t){return t.getDay()}function WM(t,e){return gt(ha.count(ze(t)-1,t),e,2)}function XM(t,e){return gt(t.getFullYear()%100,e,2)}function qM(t,e){return t=wv(t),gt(t.getFullYear()%100,e,2)}function ZM(t,e){return gt(t.getFullYear()%1e4,e,4)}function QM(t,e){var n=t.getDay();return t=n>=4||n===0?Qn(t):Qn.ceil(t),gt(t.getFullYear()%1e4,e,4)}function JM(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function jg(t,e){return gt(t.getUTCDate(),e,2)}function KM(t,e){return gt(t.getUTCHours(),e,2)}function tR(t,e){return gt(t.getUTCHours()%12||12,e,2)}function eR(t,e){return gt(1+Ra.count(He(t),t),e,3)}function Tv(t,e){return gt(t.getUTCMilliseconds(),e,3)}function nR(t,e){return Tv(t,e)+"000"}function rR(t,e){return gt(t.getUTCMonth()+1,e,2)}function iR(t,e){return gt(t.getUTCMinutes(),e,2)}function aR(t,e){return gt(t.getUTCSeconds(),e,2)}function oR(t){var e=t.getUTCDay();return e===0?7:e}function sR(t,e){return gt(Qr.count(He(t)-1,t),e,2)}function Ev(t){var e=t.getUTCDay();return e>=4||e===0?Jn(t):Jn.ceil(t)}function uR(t,e){return t=Ev(t),gt(Jn.count(He(t),t)+(He(t).getUTCDay()===4),e,2)}function lR(t){return t.getUTCDay()}function cR(t,e){return gt(da.count(He(t)-1,t),e,2)}function fR(t,e){return gt(t.getUTCFullYear()%100,e,2)}function hR(t,e){return t=Ev(t),gt(t.getUTCFullYear()%100,e,2)}function dR(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function pR(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Jn(t):Jn.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function gR(){return"+0000"}function Ug(){return"%"}function Vg(t){return+t}function Yg(t){return Math.floor(+t/1e3)}var vr,kh,$v,Pu,Gh;Dv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dv(t){return vr=Av(t),kh=vr.format,$v=vr.parse,Pu=vr.utcFormat,Gh=vr.utcParse,vr}var Lv="%Y-%m-%dT%H:%M:%S.%LZ";function mR(t){return t.toISOString()}var yR=Date.prototype.toISOString?mR:Pu(Lv);const bR=yR;function vR(t){var e=new Date(t);return isNaN(e)?null:e}var _R=+new Date("2000-01-01T00:00:00.000Z")?vR:Gh(Lv);const xR=_R;function SR(t){return new Date(t)}function AR(t){return t instanceof Date?+t:+new Date(+t)}function Oh(t,e,n,r,i,a,o,s,l,u){var c=Lh(),h=c.invert,f=c.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),_=u("%b %d"),v=u("%B"),b=u("%Y");function A($){return(l($)<$?d:s($)<$?p:o($)<$?g:a($)<$?m:r($)<$?i($)<$?y:_:n($)<$?v:b)($)}return c.invert=function($){return new Date(h($))},c.domain=function($){return arguments.length?f(Array.from($,AR)):f().map(SR)},c.ticks=function($){var x=f();return t(x[0],x[x.length-1],$??10)},c.tickFormat=function($,x){return x==null?A:u(x)},c.nice=function($){var x=f();return(!$||typeof $.range!="function")&&($=e(x[0],x[x.length-1],$??10)),$?f(rv(x,$)):c},c.copy=function(){return Ma(c,Oh(t,e,n,r,i,a,o,s,l,u))},c}function PR(){return xe.apply(Oh(xv,Sv,ze,Su,Zr,ai,_u,bu,nn,kh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wR(){return xe.apply(Oh(vv,_v,He,Au,Qr,Ra,xu,vu,nn,Pu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wu(){var t=0,e=1,n,r,i,a,o=Qt,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(o=h,u):o};function c(h){return function(f){var d,p;return arguments.length?([d,p]=f,o=h(d,p),u):[o(0),o(1)]}}return u.range=c(un),u.rangeRound=c(ru),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Tn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Mv(){var t=wn(wu()(Qt));return t.copy=function(){return Tn(t,Mv())},ln.apply(t,arguments)}function Rv(){var t=Mh(wu()).domain([1,10]);return t.copy=function(){return Tn(t,Rv()).base(t.base())},ln.apply(t,arguments)}function Iv(){var t=Rh(wu());return t.copy=function(){return Tn(t,Iv()).constant(t.constant())},ln.apply(t,arguments)}function Fh(){var t=Ih(wu());return t.copy=function(){return Tn(t,Fh()).exponent(t.exponent())},ln.apply(t,arguments)}function TR(){return Fh.apply(null,arguments).exponent(.5)}function Cv(){var t=[],e=Qt;function n(r){if(r!=null&&!isNaN(r=+r))return e((er(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Pt),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Zi(t,a/r))},n.copy=function(){return Cv(e).domain(t)},ln.apply(n,arguments)}function Tu(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Qt,c,h=!1,f;function d(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:l),u(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d):[t,e,n]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(u=g,d):u};function p(g){return function(m){var y,_,v;return arguments.length?([y,_,v]=m,u=Ay(g,[y,_,v]),d):[u(0),u(.5),u(1)]}}return d.range=p(un),d.rangeRound=p(ru),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return c=g,i=g(t),a=g(e),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function Nv(){var t=wn(Tu()(Qt));return t.copy=function(){return Tn(t,Nv())},ln.apply(t,arguments)}function kv(){var t=Mh(Tu()).domain([.1,1,10]);return t.copy=function(){return Tn(t,kv()).base(t.base())},ln.apply(t,arguments)}function Gv(){var t=Rh(Tu());return t.copy=function(){return Tn(t,Gv()).constant(t.constant())},ln.apply(t,arguments)}function Bh(){var t=Ih(Tu());return t.copy=function(){return Tn(t,Bh()).exponent(t.exponent())},ln.apply(t,arguments)}function ER(){return Bh.apply(null,arguments).exponent(.5)}function lt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const $R=lt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),DR=lt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),LR=lt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),MR=lt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),RR=lt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),IR=lt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),CR=lt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),NR=lt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),kR=lt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),GR=lt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),OR=lt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),_t=t=>ly(t[t.length-1]);var Ov=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(lt);const FR=_t(Ov);var Fv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(lt);const BR=_t(Fv);var Bv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(lt);const zR=_t(Bv);var zv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(lt);const HR=_t(zv);var Hv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(lt);const jR=_t(Hv);var jv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(lt);const UR=_t(jv);var Uv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(lt);const VR=_t(Uv);var Vv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(lt);const YR=_t(Vv);var Yv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(lt);const WR=_t(Yv);var Wv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(lt);const XR=_t(Wv);var Xv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(lt);const qR=_t(Xv);var qv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(lt);const ZR=_t(qv);var Zv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(lt);const QR=_t(Zv);var Qv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(lt);const JR=_t(Qv);var Jv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(lt);const KR=_t(Jv);var Kv=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(lt);const t9=_t(Kv);var t_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(lt);const e9=_t(t_);var e_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(lt);const n9=_t(e_);var n_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(lt);const r9=_t(n_);var r_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(lt);const i9=_t(r_);var i_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(lt);const a9=_t(i_);var a_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(lt);const o9=_t(a_);var o_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(lt);const s9=_t(o_);var s_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(lt);const u9=_t(s_);var u_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(lt);const l9=_t(u_);var l_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(lt);const c9=_t(l_);var c_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(lt);const f9=_t(c_);function h9(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const d9=iu(De(300,.5,0),De(-240,.5,1));var p9=iu(De(-100,.75,.35),De(80,1.5,.8)),g9=iu(De(260,.75,.35),De(80,1.5,.8)),uo=De();function m9(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return uo.h=360*t-100,uo.s=1.5-1.5*e,uo.l=.8-.9*e,uo+""}var lo=zr(),y9=Math.PI/3,b9=Math.PI*2/3;function v9(t){var e;return t=(.5-t)*Math.PI,lo.r=255*(e=Math.sin(t))*e,lo.g=255*(e=Math.sin(t+y9))*e,lo.b=255*(e=Math.sin(t+b9))*e,lo+""}function _9(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Eu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const x9=Eu(lt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var S9=Eu(lt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),A9=Eu(lt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),P9=Eu(lt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ut(t){return function(){return t}}const Wg=Math.abs,zt=Math.atan2,Qe=Math.cos,w9=Math.max,Mr=Math.min,ie=Math.sin,xt=Math.sqrt,Ht=1e-12,xn=Math.PI,Ms=xn/2,yn=2*xn;function T9(t){return t>1?0:t<-1?xn:Math.acos(t)}function Xg(t){return t>=1?Ms:t<=-1?-Ms:Math.asin(t)}function Ia(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Aa(e)}function E9(t){return t.innerRadius}function $9(t){return t.outerRadius}function D9(t){return t.startAngle}function L9(t){return t.endAngle}function M9(t){return t&&t.padAngle}function R9(t,e,n,r,i,a,o,s){var l=n-t,u=r-e,c=o-i,h=s-a,f=h*l-c*u;if(!(f*f<Ht))return f=(c*(e-a)-h*(t-i))/f,[t+f*l,e+f*u]}function co(t,e,n,r,i,a,o){var s=t-n,l=e-r,u=(o?a:-a)/xt(s*s+l*l),c=u*l,h=-u*s,f=t+c,d=e+h,p=n+c,g=r+h,m=(f+p)/2,y=(d+g)/2,_=p-f,v=g-d,b=_*_+v*v,A=i-a,$=f*g-p*d,x=(v<0?-1:1)*xt(w9(0,A*A*b-$*$)),S=($*v-_*x)/b,E=(-$*_-v*x)/b,D=($*v+_*x)/b,w=(-$*_+v*x)/b,O=S-m,N=E-y,P=D-m,L=w-y;return O*O+N*N>P*P+L*L&&(S=D,E=w),{cx:S,cy:E,x01:-c,y01:-h,x11:S*(i/A-1),y11:E*(i/A-1)}}function $u(){var t=E9,e=$9,n=ut(0),r=null,i=D9,a=L9,o=M9,s=null,l=Ia(u);function u(){var c,h,f=+t.apply(this,arguments),d=+e.apply(this,arguments),p=i.apply(this,arguments)-Ms,g=a.apply(this,arguments)-Ms,m=Wg(g-p),y=g>p;if(s||(s=c=l()),d<f&&(h=d,d=f,f=h),!(d>Ht))s.moveTo(0,0);else if(m>yn-Ht)s.moveTo(d*Qe(p),d*ie(p)),s.arc(0,0,d,p,g,!y),f>Ht&&(s.moveTo(f*Qe(g),f*ie(g)),s.arc(0,0,f,g,p,y));else{var _=p,v=g,b=p,A=g,$=m,x=m,S=o.apply(this,arguments)/2,E=S>Ht&&(r?+r.apply(this,arguments):xt(f*f+d*d)),D=Mr(Wg(d-f)/2,+n.apply(this,arguments)),w=D,O=D,N,P;if(E>Ht){var L=Xg(E/f*ie(S)),T=Xg(E/d*ie(S));($-=L*2)>Ht?(L*=y?1:-1,b+=L,A-=L):($=0,b=A=(p+g)/2),(x-=T*2)>Ht?(T*=y?1:-1,_+=T,v-=T):(x=0,_=v=(p+g)/2)}var G=d*Qe(_),z=d*ie(_),M=f*Qe(A),I=f*ie(A);if(D>Ht){var R=d*Qe(v),k=d*ie(v),H=f*Qe(b),J=f*ie(b),B;if(m<xn)if(B=R9(G,z,H,J,R,k,M,I)){var V=G-B[0],W=z-B[1],ft=R-B[0],X=k-B[1],tt=1/ie(T9((V*ft+W*X)/(xt(V*V+W*W)*xt(ft*ft+X*X)))/2),st=xt(B[0]*B[0]+B[1]*B[1]);w=Mr(D,(f-st)/(tt-1)),O=Mr(D,(d-st)/(tt+1))}else w=O=0}x>Ht?O>Ht?(N=co(H,J,G,z,d,O,y),P=co(R,k,M,I,d,O,y),s.moveTo(N.cx+N.x01,N.cy+N.y01),O<D?s.arc(N.cx,N.cy,O,zt(N.y01,N.x01),zt(P.y01,P.x01),!y):(s.arc(N.cx,N.cy,O,zt(N.y01,N.x01),zt(N.y11,N.x11),!y),s.arc(0,0,d,zt(N.cy+N.y11,N.cx+N.x11),zt(P.cy+P.y11,P.cx+P.x11),!y),s.arc(P.cx,P.cy,O,zt(P.y11,P.x11),zt(P.y01,P.x01),!y))):(s.moveTo(G,z),s.arc(0,0,d,_,v,!y)):s.moveTo(G,z),!(f>Ht)||!($>Ht)?s.lineTo(M,I):w>Ht?(N=co(M,I,R,k,f,-w,y),P=co(G,z,H,J,f,-w,y),s.lineTo(N.cx+N.x01,N.cy+N.y01),w<D?s.arc(N.cx,N.cy,w,zt(N.y01,N.x01),zt(P.y01,P.x01),!y):(s.arc(N.cx,N.cy,w,zt(N.y01,N.x01),zt(N.y11,N.x11),!y),s.arc(0,0,f,zt(N.cy+N.y11,N.cx+N.x11),zt(P.cy+P.y11,P.cx+P.x11),y),s.arc(P.cx,P.cy,w,zt(P.y11,P.x11),zt(P.y01,P.x01),!y))):s.arc(0,0,f,A,b,y)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-xn/2;return[Qe(h)*c,ie(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ut(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ut(+c),u):e},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ut(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ut(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ut(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:ut(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ut(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var I9=Array.prototype.slice;function Du(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function f_(t){this._context=t}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lu(t){return new f_(t)}function zh(t){return t[0]}function Hh(t){return t[1]}function Mu(t,e){var n=ut(!0),r=null,i=Lu,a=null,o=Ia(s);t=typeof t=="function"?t:t===void 0?zh:ut(t),e=typeof e=="function"?e:e===void 0?Hh:ut(e);function s(l){var u,c=(l=Du(l)).length,h,f=!1,d;for(r==null&&(a=i(d=o())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,l),+e(h,u,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ut(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ut(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ut(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function jh(t,e,n){var r=null,i=ut(!0),a=null,o=Lu,s=null,l=Ia(u);t=typeof t=="function"?t:t===void 0?zh:ut(+t),e=typeof e=="function"?e:ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Hh:ut(+n);function u(h){var f,d,p,g=(h=Du(h)).length,m,y=!1,_,v=new Array(g),b=new Array(g);for(a==null&&(s=o(_=l())),f=0;f<=g;++f){if(!(f<g&&i(m=h[f],f,h))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=f-1;p>=d;--p)s.point(v[p],b[p]);s.lineEnd(),s.areaEnd()}y&&(v[f]=+t(m,f,h),b[f]=+e(m,f,h),s.point(r?+r(m,f,h):v[f],n?+n(m,f,h):b[f]))}if(_)return s=null,_+""||null}function c(){return Mu().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:ut(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:ut(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ut(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:ut(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ut(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ut(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:ut(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),u):a},u}function C9(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function N9(t){return t}function h_(){var t=N9,e=C9,n=null,r=ut(0),i=ut(yn),a=ut(0);function o(s){var l,u=(s=Du(s)).length,c,h,f=0,d=new Array(u),p=new Array(u),g=+r.apply(this,arguments),m=Math.min(yn,Math.max(-yn,i.apply(this,arguments)-g)),y,_=Math.min(Math.abs(m)/u,a.apply(this,arguments)),v=_*(m<0?-1:1),b;for(l=0;l<u;++l)(b=p[d[l]=l]=+t(s[l],l,s))>0&&(f+=b);for(e!=null?d.sort(function(A,$){return e(p[A],p[$])}):n!=null&&d.sort(function(A,$){return n(s[A],s[$])}),l=0,h=f?(m-u*v)/f:0;l<u;++l,g=y)c=d[l],b=p[c],y=g+(b>0?b*h:0)+v,p[c]={data:s[c],index:l,value:b,startAngle:g,endAngle:y,padAngle:_};return p}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:ut(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:ut(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:ut(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:ut(+s),o):a},o}var d_=Uh(Lu);function p_(t){this._curve=t}p_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Uh(t){function e(n){return new p_(t(n))}return e._curve=t,e}function Li(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Uh(n)):e()._curve},t}function qg(){return Li(Mu().curve(d_))}function Zg(){var t=jh().curve(d_),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Li(n())},delete t.lineX0,t.lineEndAngle=function(){return Li(r())},delete t.lineX1,t.lineInnerRadius=function(){return Li(i())},delete t.lineY0,t.lineOuterRadius=function(){return Li(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(Uh(o)):e()._curve},t}function Mi(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class g_{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class k9{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=Mi(this._x0,this._y0),i=Mi(this._x0,this._y0=(this._y0+n)/2),a=Mi(e,this._y0),o=Mi(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...a,...o)}this._x0=e,this._y0=n}}function m_(t){return new g_(t,!0)}function y_(t){return new g_(t,!1)}function G9(t){return new k9(t)}function O9(t){return t.source}function F9(t){return t.target}function Ru(t){let e=O9,n=F9,r=zh,i=Hh,a=null,o=null,s=Ia(l);function l(){let u;const c=I9.call(arguments),h=e.apply(this,c),f=n.apply(this,c);if(a==null&&(o=t(u=s())),o.lineStart(),c[0]=h,o.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,o.point(+r.apply(this,c),+i.apply(this,c)),o.lineEnd(),u)return o=null,u+""||null}return l.source=function(u){return arguments.length?(e=u,l):e},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:ut(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:ut(+u),l):i},l.context=function(u){return arguments.length?(u==null?a=o=null:o=t(a=u),l):a},l}function B9(){return Ru(m_)}function z9(){return Ru(y_)}function H9(){const t=Ru(G9);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const j9=xt(3),b_={draw(t,e){const n=xt(e+Mr(e/28,.75))*.59436,r=n/2,i=r*j9;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Iu={draw(t,e){const n=xt(e/xn);t.moveTo(n,0),t.arc(0,0,n,0,yn)}},v_={draw(t,e){const n=xt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},__=xt(1/3),U9=__*2,x_={draw(t,e){const n=xt(e/U9),r=n*__;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},S_={draw(t,e){const n=xt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},A_={draw(t,e){const n=xt(e-Mr(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},P_={draw(t,e){const n=xt(e),r=-n/2;t.rect(r,r,n,n)}},w_={draw(t,e){const n=xt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},V9=.8908130915292852,T_=ie(xn/10)/ie(7*xn/10),Y9=ie(yn/10)*T_,W9=-Qe(yn/10)*T_,E_={draw(t,e){const n=xt(e*V9),r=Y9*n,i=W9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=yn*a/5,s=Qe(o),l=ie(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},$l=xt(3),$_={draw(t,e){const n=-xt(e/($l*3));t.moveTo(0,n*2),t.lineTo(-$l*n,-n),t.lineTo($l*n,-n),t.closePath()}},X9=xt(3),D_={draw(t,e){const n=xt(e)*.6824,r=n/2,i=n*X9/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},he=-.5,de=xt(3)/2,Vc=1/xt(12),q9=(Vc/2+1)*3,L_={draw(t,e){const n=xt(e/q9),r=n/2,i=n*Vc,a=r,o=n*Vc+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(he*r-de*i,de*r+he*i),t.lineTo(he*a-de*o,de*a+he*o),t.lineTo(he*s-de*l,de*s+he*l),t.lineTo(he*r+de*i,he*i-de*r),t.lineTo(he*a+de*o,he*o-de*a),t.lineTo(he*s+de*l,he*l-de*s),t.closePath()}},Yc={draw(t,e){const n=xt(e-Mr(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},Qg=[Iu,v_,x_,P_,E_,$_,L_],Z9=[Iu,A_,Yc,D_,b_,w_,S_];function Q9(t,e){let n=null,r=Ia(i);t=typeof t=="function"?t:ut(t||Iu),e=typeof e=="function"?e:ut(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ut(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Sn(){}function Rs(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Cu(t){this._context=t}Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J9(t){return new Cu(t)}function M_(t){this._context=t}M_.prototype={areaStart:Sn,areaEnd:Sn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Rs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K9(t){return new M_(t)}function R_(t){this._context=t}R_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tI(t){return new R_(t)}function I_(t,e){this._basis=new Cu(t),this._beta=e}I_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+l*a),this._beta*e[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const eI=function t(e){function n(r){return e===1?new Cu(r):new I_(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Is(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Vh(t,e){this._context=t,this._k=(1-e)/6}Vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Is(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Is(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const nI=function t(e){function n(r){return new Vh(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Yh(t,e){this._context=t,this._k=(1-e)/6}Yh.prototype={areaStart:Sn,areaEnd:Sn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Is(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const rI=function t(e){function n(r){return new Yh(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Wh(t,e){this._context=t,this._k=(1-e)/6}Wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Is(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const iI=function t(e){function n(r){return new Wh(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Xh(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Ht){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Ht){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function C_(t,e){this._context=t,this._alpha=e}C_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Xh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const aI=function t(e){function n(r){return e?new C_(r,e):new Vh(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function N_(t,e){this._context=t,this._alpha=e}N_.prototype={areaStart:Sn,areaEnd:Sn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Xh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const oI=function t(e){function n(r){return e?new N_(r,e):new Yh(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function k_(t,e){this._context=t,this._alpha=e}k_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xh(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const sI=function t(e){function n(r){return e?new k_(r,e):new Wh(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function G_(t){this._context=t}G_.prototype={areaStart:Sn,areaEnd:Sn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uI(t){return new G_(t)}function Jg(t){return t<0?-1:1}function Kg(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Jg(a)+Jg(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function t0(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Dl(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Cs(t){this._context=t}Cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dl(this,this._t0,t0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Dl(this,t0(this,n=Kg(this,t,e)),n);break;default:Dl(this,this._t0,n=Kg(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O_(t){this._context=new F_(t)}(O_.prototype=Object.create(Cs.prototype)).point=function(t,e){Cs.prototype.point.call(this,e,t)};function F_(t){this._context=t}F_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function lI(t){return new Cs(t)}function cI(t){return new O_(t)}function B_(t){this._context=t}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=e0(t),i=e0(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function e0(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fI(t){return new B_(t)}function Nu(t,e){this._context=t,this._t=e}Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hI(t){return new Nu(t,.5)}function dI(t){return new Nu(t,0)}function pI(t){return new Nu(t,1)}function Jr(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Kr(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gI(t,e){return t[e]}function mI(t){const e=[];return e.key=t,e}function yI(){var t=ut([]),e=Kr,n=Jr,r=gI;function i(a){var o=Array.from(t.apply(this,arguments),mI),s,l=o.length,u=-1,c;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(h,o[s].key,u,a)]).data=h;for(s=0,c=Du(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ut(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ut(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Kr:typeof a=="function"?a:ut(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Jr,i):n},i}function bI(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Jr(t,e)}}function vI(t,e){if((l=t.length)>0)for(var n,r=0,i,a,o,s,l,u=t[e[0]].length;r<u;++r)for(o=s=0,n=0;n<l;++n)(a=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function _I(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Jr(t,e)}}function xI(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],h=c[r][1]||0,f=c[r-1][1]||0,d=(h-f)/2,p=0;p<s;++p){var g=t[e[p]],m=g[r][1]||0,y=g[r-1][1]||0;d+=m-y}l+=h,u+=d*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Jr(t,e)}}function z_(t){var e=t.map(SI);return Kr(t).sort(function(n,r){return e[n]-e[r]})}function SI(t){for(var e=-1,n=0,r=t.length,i,a=-1/0;++e<r;)(i=+t[e][1])>a&&(a=i,n=e);return n}function H_(t){var e=t.map(j_);return Kr(t).sort(function(n,r){return e[n]-e[r]})}function j_(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function AI(t){return H_(t).reverse()}function PI(t){var e=t.length,n,r,i=t.map(j_),a=z_(t),o=0,s=0,l=[],u=[];for(n=0;n<e;++n)r=a[n],o<s?(o+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function wI(t){return Kr(t).reverse()}const fo=t=>()=>t;function TI(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ke(t,e,n){this.k=t,this.x=e,this.y=n}ke.prototype={constructor:ke,scale:function(t){return t===1?this:new ke(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ke(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ku=new ke(1,0,0);U_.prototype=ke.prototype;function U_(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ku;return t.__zoom}function Ll(t){t.stopImmediatePropagation()}function mi(t){t.preventDefault(),t.stopImmediatePropagation()}function EI(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function $I(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function n0(){return this.__zoom||ku}function DI(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function LI(){return navigator.maxTouchPoints||"ontouchstart"in this}function MI(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function V_(){var t=EI,e=$I,n=MI,r=DI,i=LI,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=vy,u=nr("start","zoom","end"),c,h,f,d=500,p=150,g=0,m=10;function y(P){P.property("__zoom",n0).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",w).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(P,L,T,G){var z=P.selection?P.selection():P;z.property("__zoom",n0),P!==z?A(P,L,T,G):z.interrupt().each(function(){$(this,arguments).event(G).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},y.scaleBy=function(P,L,T,G){y.scaleTo(P,function(){var z=this.__zoom.k,M=typeof L=="function"?L.apply(this,arguments):L;return z*M},T,G)},y.scaleTo=function(P,L,T,G){y.transform(P,function(){var z=e.apply(this,arguments),M=this.__zoom,I=T==null?b(z):typeof T=="function"?T.apply(this,arguments):T,R=M.invert(I),k=typeof L=="function"?L.apply(this,arguments):L;return n(v(_(M,k),I,R),z,o)},T,G)},y.translateBy=function(P,L,T,G){y.transform(P,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),o)},null,G)},y.translateTo=function(P,L,T,G,z){y.transform(P,function(){var M=e.apply(this,arguments),I=this.__zoom,R=G==null?b(M):typeof G=="function"?G.apply(this,arguments):G;return n(ku.translate(R[0],R[1]).scale(I.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof T=="function"?-T.apply(this,arguments):-T),M,o)},G,z)};function _(P,L){return L=Math.max(a[0],Math.min(a[1],L)),L===P.k?P:new ke(L,P.x,P.y)}function v(P,L,T){var G=L[0]-T[0]*P.k,z=L[1]-T[1]*P.k;return G===P.x&&z===P.y?P:new ke(P.k,G,z)}function b(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function A(P,L,T,G){P.on("start.zoom",function(){$(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(G).end()}).tween("zoom",function(){var z=this,M=arguments,I=$(z,M).event(G),R=e.apply(z,M),k=T==null?b(R):typeof T=="function"?T.apply(z,M):T,H=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),J=z.__zoom,B=typeof L=="function"?L.apply(z,M):L,V=l(J.invert(k).concat(H/J.k),B.invert(k).concat(H/B.k));return function(W){if(W===1)W=B;else{var ft=V(W),X=H/ft[2];W=new ke(X,k[0]-ft[0]*X,k[1]-ft[1]*X)}I.zoom(null,W)}})}function $(P,L,T){return!T&&P.__zooming||new x(P,L)}function x(P,L){this.that=P,this.args=L,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,L),this.taps=0}x.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,L){return this.mouse&&P!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var L=q(this.that).datum();u.call(P,this.that,new TI(P,{sourceEvent:this.sourceEvent,target:y,type:P,transform:this.that.__zoom,dispatch:u}),L)}};function S(P,...L){if(!t.apply(this,arguments))return;var T=$(this,L).event(P),G=this.__zoom,z=Math.max(a[0],Math.min(a[1],G.k*Math.pow(2,r.apply(this,arguments)))),M=ue(P);if(T.wheel)(T.mouse[0][0]!==M[0]||T.mouse[0][1]!==M[1])&&(T.mouse[1]=G.invert(T.mouse[0]=M)),clearTimeout(T.wheel);else{if(G.k===z)return;T.mouse=[M,G.invert(M)],Fn(this),T.start()}mi(P),T.wheel=setTimeout(I,p),T.zoom("mouse",n(v(_(G,z),T.mouse[0],T.mouse[1]),T.extent,o));function I(){T.wheel=null,T.end()}}function E(P,...L){if(f||!t.apply(this,arguments))return;var T=P.currentTarget,G=$(this,L,!0).event(P),z=q(P.view).on("mousemove.zoom",k,!0).on("mouseup.zoom",H,!0),M=ue(P,T),I=P.clientX,R=P.clientY;Js(P.view),Ll(P),G.mouse=[M,this.__zoom.invert(M)],Fn(this),G.start();function k(J){if(mi(J),!G.moved){var B=J.clientX-I,V=J.clientY-R;G.moved=B*B+V*V>g}G.event(J).zoom("mouse",n(v(G.that.__zoom,G.mouse[0]=ue(J,T),G.mouse[1]),G.extent,o))}function H(J){z.on("mousemove.zoom mouseup.zoom",null),Ks(J.view,G.moved),mi(J),G.event(J).end()}}function D(P,...L){if(t.apply(this,arguments)){var T=this.__zoom,G=ue(P.changedTouches?P.changedTouches[0]:P,this),z=T.invert(G),M=T.k*(P.shiftKey?.5:2),I=n(v(_(T,M),G,z),e.apply(this,L),o);mi(P),s>0?q(this).transition().duration(s).call(A,I,G,P):q(this).call(y.transform,I,G,P)}}function w(P,...L){if(t.apply(this,arguments)){var T=P.touches,G=T.length,z=$(this,L,P.changedTouches.length===G).event(P),M,I,R,k;for(Ll(P),I=0;I<G;++I)R=T[I],k=ue(R,this),k=[k,this.__zoom.invert(k),R.identifier],z.touch0?!z.touch1&&z.touch0[2]!==k[2]&&(z.touch1=k,z.taps=0):(z.touch0=k,M=!0,z.taps=1+!!c);c&&(c=clearTimeout(c)),M&&(z.taps<2&&(h=k[0],c=setTimeout(function(){c=null},d)),Fn(this),z.start())}}function O(P,...L){if(this.__zooming){var T=$(this,L).event(P),G=P.changedTouches,z=G.length,M,I,R,k;for(mi(P),M=0;M<z;++M)I=G[M],R=ue(I,this),T.touch0&&T.touch0[2]===I.identifier?T.touch0[0]=R:T.touch1&&T.touch1[2]===I.identifier&&(T.touch1[0]=R);if(I=T.that.__zoom,T.touch1){var H=T.touch0[0],J=T.touch0[1],B=T.touch1[0],V=T.touch1[1],W=(W=B[0]-H[0])*W+(W=B[1]-H[1])*W,ft=(ft=V[0]-J[0])*ft+(ft=V[1]-J[1])*ft;I=_(I,Math.sqrt(W/ft)),R=[(H[0]+B[0])/2,(H[1]+B[1])/2],k=[(J[0]+V[0])/2,(J[1]+V[1])/2]}else if(T.touch0)R=T.touch0[0],k=T.touch0[1];else return;T.zoom("touch",n(v(I,R,k),T.extent,o))}}function N(P,...L){if(this.__zooming){var T=$(this,L).event(P),G=P.changedTouches,z=G.length,M,I;for(Ll(P),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),M=0;M<z;++M)I=G[M],T.touch0&&T.touch0[2]===I.identifier?delete T.touch0:T.touch1&&T.touch1[2]===I.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(I=ue(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<m)){var R=q(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return y.wheelDelta=function(P){return arguments.length?(r=typeof P=="function"?P:fo(+P),y):r},y.filter=function(P){return arguments.length?(t=typeof P=="function"?P:fo(!!P),y):t},y.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:fo(!!P),y):i},y.extent=function(P){return arguments.length?(e=typeof P=="function"?P:fo([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),y):e},y.scaleExtent=function(P){return arguments.length?(a[0]=+P[0],a[1]=+P[1],y):[a[0],a[1]]},y.translateExtent=function(P){return arguments.length?(o[0][0]=+P[0][0],o[1][0]=+P[1][0],o[0][1]=+P[0][1],o[1][1]=+P[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(P){return arguments.length?(n=P,y):n},y.duration=function(P){return arguments.length?(s=+P,y):s},y.interpolate=function(P){return arguments.length?(l=P,y):l},y.on=function(){var P=u.on.apply(u,arguments);return P===u?y:P},y.clickDistance=function(P){return arguments.length?(g=(P=+P)*P,y):Math.sqrt(g)},y.tapDistance=function(P){return arguments.length?(m=+P,y):m},y}const qh=Object.freeze(Object.defineProperty({__proto__:null,Adder:Rt,Delaunay:nh,FormatSpecifier:fu,InternMap:Xi,InternSet:Hn,Node:Zn,Path:Aa,Voronoi:Oy,ZoomTransform:ke,active:N3,arc:$u,area:jh,areaRadial:Zg,ascending:Pt,autoType:a4,axisBottom:EE,axisLeft:C1,axisRight:TE,axisTop:I1,bin:Hd,bisect:er,bisectCenter:AT,bisectLeft:ST,bisectRight:c1,bisector:Ys,blob:u4,blur:PT,blur2:f1,blurImage:wT,brush:X3,brushSelection:V3,brushX:Y3,brushY:W3,buffer:c4,chord:Z3,chordDirected:J3,chordTranspose:Q3,cluster:S7,color:vn,contourDensity:PD,contours:mc,count:Ws,create:u$,creator:Zs,cross:RT,csv:d4,csvFormat:XD,csvFormatBody:qD,csvFormatRow:QD,csvFormatRows:ZD,csvFormatValue:JD,csvParse:By,csvParseRows:WD,cubehelix:De,cumsum:IT,curveBasis:J9,curveBasisClosed:K9,curveBasisOpen:tI,curveBumpX:m_,curveBumpY:y_,curveBundle:eI,curveCardinal:nI,curveCardinalClosed:rI,curveCardinalOpen:iI,curveCatmullRom:aI,curveCatmullRomClosed:oI,curveCatmullRomOpen:sI,curveLinear:Lu,curveLinearClosed:uI,curveMonotoneX:lI,curveMonotoneY:cI,curveNatural:fI,curveStep:hI,curveStepAfter:pI,curveStepBefore:dI,descending:u1,deviation:p1,difference:pE,disjoint:gE,dispatch:nr,drag:V1,dragDisable:Js,dragEnable:Ks,dsv:h4,dsvFormat:uu,easeBack:hp,easeBackIn:E3,easeBackInOut:hp,easeBackOut:$3,easeBounce:ia,easeBounceIn:w3,easeBounceInOut:T3,easeBounceOut:ia,easeCircle:fp,easeCircleIn:g3,easeCircleInOut:fp,easeCircleOut:m3,easeCubic:ra,easeCubicIn:s3,easeCubicInOut:ra,easeCubicOut:u3,easeElastic:aa,easeElasticIn:D3,easeElasticInOut:L3,easeElasticOut:aa,easeExp:cp,easeExpIn:d3,easeExpInOut:cp,easeExpOut:p3,easeLinear:i3,easePoly:up,easePolyIn:l3,easePolyInOut:up,easePolyOut:c3,easeQuad:sp,easeQuadIn:a3,easeQuadInOut:sp,easeQuadOut:o3,easeSin:lp,easeSinIn:f3,easeSinInOut:lp,easeSinOut:h3,every:uE,extent:Ri,fcumsum:NT,filter:cE,flatGroup:kT,flatRollup:GT,forceCenter:x4,forceCollide:Uy,forceLink:z4,forceManyBody:Yy,forceRadial:q4,forceSimulation:Vy,forceX:Wy,forceY:Xy,get format(){return wa},formatDefaultLocale:Qy,formatLocale:Zy,get formatPrefix(){return ah},formatSpecifier:Vr,fsum:CT,geoAlbers:Nb,geoAlbersUsa:t7,geoArea:a8,geoAzimuthalEqualArea:e7,geoAzimuthalEqualAreaRaw:gh,geoAzimuthalEquidistant:n7,geoAzimuthalEquidistantRaw:mh,geoBounds:l8,geoCentroid:g8,geoCircle:m8,geoClipAntimeridian:Dc,geoClipCircle:vb,geoClipExtent:A8,geoClipRectangle:hu,geoConicConformal:i7,geoConicConformalRaw:Ob,geoConicEqualArea:$s,geoConicEqualAreaRaw:Cb,geoConicEquidistant:o7,geoConicEquidistantRaw:Fb,geoContains:L8,geoDistance:_s,geoEqualEarth:u7,geoEqualEarthRaw:yh,geoEquirectangular:a7,geoEquirectangularRaw:fa,geoGnomonic:l7,geoGnomonicRaw:bh,geoGraticule:Sb,geoGraticule10:M8,geoIdentity:c7,geoInterpolate:R8,geoLength:_b,geoMercator:r7,geoMercatorRaw:Da,geoNaturalEarth1:f7,geoNaturalEarth1Raw:vh,geoOrthographic:h7,geoOrthographicRaw:_h,geoPath:U8,geoProjection:Ye,geoProjectionMutator:dh,geoRotation:db,geoStereographic:d7,geoStereographicRaw:xh,geoStream:we,geoTransform:V8,geoTransverseMercator:p7,geoTransverseMercatorRaw:Sh,gray:$$,greatest:w1,greatestIndex:rE,group:b1,groupSort:BT,groups:v1,hcl:es,hierarchy:pu,histogram:Hd,hsl:Jo,html:v4,image:g4,index:OT,indexes:FT,interpolate:un,interpolateArray:C$,interpolateBasis:ay,interpolateBasisClosed:oy,interpolateBlues:o9,interpolateBrBG:FR,interpolateBuGn:XR,interpolateBuPu:qR,interpolateCividis:h9,interpolateCool:g9,interpolateCubehelix:q$,interpolateCubehelixDefault:d9,interpolateCubehelixLong:iu,interpolateDate:hy,interpolateDiscrete:G$,interpolateGnBu:ZR,interpolateGreens:s9,interpolateGreys:u9,interpolateHcl:W$,interpolateHclLong:X$,interpolateHsl:U$,interpolateHslLong:V$,interpolateHue:O$,interpolateInferno:A9,interpolateLab:Y$,interpolateMagma:S9,interpolateNumber:pe,interpolateNumberArray:Vf,interpolateObject:dy,interpolateOrRd:QR,interpolateOranges:f9,interpolatePRGn:BR,interpolatePiYG:zR,interpolatePlasma:P9,interpolatePuBu:KR,interpolatePuBuGn:JR,interpolatePuOr:HR,interpolatePuRd:t9,interpolatePurples:l9,interpolateRainbow:m9,interpolateRdBu:jR,interpolateRdGy:UR,interpolateRdPu:e9,interpolateRdYlBu:VR,interpolateRdYlGn:YR,interpolateReds:c9,interpolateRgb:ta,interpolateRgbBasis:ly,interpolateRgbBasisClosed:I$,interpolateRound:ru,interpolateSinebow:v9,interpolateSpectral:WR,interpolateString:Yf,interpolateTransformCss:yy,interpolateTransformSvg:by,interpolateTurbo:_9,interpolateViridis:x9,interpolateWarm:p9,interpolateYlGn:r9,interpolateYlGnBu:n9,interpolateYlOrBr:i9,interpolateYlOrRd:a9,interpolateZoom:vy,interrupt:Fn,intersection:mE,interval:t5,isoFormat:bR,isoParse:xR,json:y4,lab:ts,lch:D$,least:nE,leastIndex:$1,line:Mu,lineRadial:qg,link:Ru,linkHorizontal:B9,linkRadial:H9,linkVertical:z9,local:j1,map:fE,matcher:Of,max:qi,maxIndex:Cf,mean:XT,median:qT,medianIndex:ZT,merge:kf,min:qo,minIndex:Nf,mode:JT,namespace:_a,namespaces:rc,nice:Rf,now:Sa,pack:J7,packEnclose:Y7,packSiblings:Z7,pairs:KT,partition:K7,path:eh,pathRound:eD,permute:P1,pie:h_,piecewise:Ay,pointRadial:Mi,pointer:ue,pointers:c$,polygonArea:pL,polygonCentroid:gL,polygonContains:vL,polygonHull:bL,polygonLength:_L,precisionFixed:Jy,precisionPrefix:Ky,precisionRound:tb,quadtree:cu,quantile:Zi,quantileIndex:E1,quantileSorted:T1,quantize:Z$,quickselect:Xs,radialArea:Zg,radialLine:qg,randomBates:PL,randomBernoulli:EL,randomBeta:Jb,randomBinomial:Kb,randomCauchy:DL,randomExponential:wL,randomGamma:Th,randomGeometric:Qb,randomInt:SL,randomIrwinHall:Zb,randomLcg:CL,randomLogNormal:AL,randomLogistic:LL,randomNormal:wh,randomPareto:TL,randomPoisson:ML,randomUniform:xL,randomWeibull:$L,range:dn,rank:eE,reduce:hE,reverse:dE,rgb:zr,ribbon:lD,ribbonArrow:cD,rollup:x1,rollups:S1,scaleBand:$h,scaleDiverging:Nv,scaleDivergingLog:kv,scaleDivergingPow:Bh,scaleDivergingSqrt:ER,scaleDivergingSymlog:Gv,scaleIdentity:nv,scaleImplicit:jc,scaleLinear:yu,scaleLog:iv,scaleOrdinal:Eh,scalePoint:Dh,scalePow:ii,scaleQuantile:sv,scaleQuantize:uv,scaleRadial:ov,scaleSequential:Mv,scaleSequentialLog:Rv,scaleSequentialPow:Fh,scaleSequentialQuantile:Cv,scaleSequentialSqrt:TR,scaleSequentialSymlog:Iv,scaleSqrt:YL,scaleSymlog:av,scaleThreshold:lv,scaleTime:PR,scaleUtc:wR,scan:iE,schemeAccent:DR,schemeBlues:a_,schemeBrBG:Ov,schemeBuGn:Wv,schemeBuPu:Xv,schemeCategory10:$R,schemeDark2:LR,schemeGnBu:qv,schemeGreens:o_,schemeGreys:s_,schemeObservable10:MR,schemeOrRd:Zv,schemeOranges:c_,schemePRGn:Fv,schemePaired:RR,schemePastel1:IR,schemePastel2:CR,schemePiYG:Bv,schemePuBu:Jv,schemePuBuGn:Qv,schemePuOr:zv,schemePuRd:Kv,schemePurples:u_,schemeRdBu:Hv,schemeRdGy:jv,schemeRdPu:t_,schemeRdYlBu:Uv,schemeRdYlGn:Vv,schemeReds:l_,schemeSet1:NR,schemeSet2:kR,schemeSet3:GR,schemeSpectral:Yv,schemeTableau10:OR,schemeYlGn:n_,schemeYlGnBu:e_,schemeYlOrBr:r_,schemeYlOrRd:i_,select:q,selectAll:f$,selection:rr,selector:Qs,selectorAll:Gf,shuffle:aE,shuffler:D1,some:lE,sort:tc,stack:yI,stackOffsetDiverging:vI,stackOffsetExpand:bI,stackOffsetNone:Jr,stackOffsetSilhouette:_I,stackOffsetWiggle:xI,stackOrderAppearance:z_,stackOrderAscending:H_,stackOrderDescending:AI,stackOrderInsideOut:PI,stackOrderNone:Kr,stackOrderReverse:wI,stratify:rL,style:Vn,subset:bE,sum:L1,superset:R1,svg:_4,symbol:Q9,symbolAsterisk:b_,symbolCircle:Iu,symbolCross:v_,symbolDiamond:x_,symbolDiamond2:S_,symbolPlus:A_,symbolSquare:P_,symbolSquare2:w_,symbolStar:E_,symbolTimes:Yc,symbolTriangle:$_,symbolTriangle2:D_,symbolWye:L_,symbolX:Yc,symbols:Qg,symbolsFill:Qg,symbolsStroke:Z9,text:lu,thresholdFreedmanDiaconis:YT,thresholdScott:WT,thresholdSturges:If,tickFormat:ev,tickIncrement:Un,tickStep:Xo,ticks:jn,timeDay:ai,timeDays:JL,get timeFormat(){return kh},timeFormatDefaultLocale:Dv,timeFormatLocale:Av,timeFriday:hv,timeFridays:aM,timeHour:_u,timeHours:ZL,timeInterval:$t,timeMillisecond:qr,timeMilliseconds:Rg,timeMinute:bu,timeMinutes:XL,timeMonday:ha,timeMondays:eM,timeMonth:Su,timeMonths:dM,get timeParse(){return $v},timeSaturday:dv,timeSaturdays:oM,timeSecond:nn,timeSeconds:Cg,timeSunday:Zr,timeSundays:Ng,timeThursday:Qn,timeThursdays:iM,timeTickInterval:Sv,timeTicks:xv,timeTuesday:cv,timeTuesdays:nM,timeWednesday:fv,timeWednesdays:rM,timeWeek:Zr,timeWeeks:Ng,timeYear:ze,timeYears:gM,timeout:uc,timer:ou,timerFlush:Ty,transition:Ly,transpose:M1,tree:cL,treemap:qb,treemapBinary:fL,treemapDice:La,treemapResquarify:dL,treemapSlice:gu,treemapSliceDice:hL,treemapSquarify:Ph,tsv:p4,tsvFormat:t4,tsvFormatBody:e4,tsvFormatRow:r4,tsvFormatRows:n4,tsvFormatValue:i4,tsvParse:zy,tsvParseRows:KD,union:vE,unixDay:Nh,unixDays:tM,utcDay:Ra,utcDays:KL,get utcFormat(){return Pu},utcFriday:mv,utcFridays:fM,utcHour:xu,utcHours:QL,utcMillisecond:qr,utcMilliseconds:Rg,utcMinute:vu,utcMinutes:qL,utcMonday:da,utcMondays:sM,utcMonth:Au,utcMonths:pM,get utcParse(){return Gh},utcSaturday:yv,utcSaturdays:hM,utcSecond:nn,utcSeconds:Cg,utcSunday:Qr,utcSundays:kg,utcThursday:Jn,utcThursdays:cM,utcTickInterval:_v,utcTicks:vv,utcTuesday:pv,utcTuesdays:uM,utcWednesday:gv,utcWednesdays:lM,utcWeek:Qr,utcWeeks:kg,utcYear:He,utcYears:mM,variance:d1,window:Ff,xml:b4,zip:sE,zoom:V_,zoomIdentity:ku,zoomTransform:U_},Symbol.toStringTag,{value:"Module"}));function r0(t){try{return t.node().getBBox()}catch(e){throw new Error(e)}}function RI(t,e){function n(i){var a;const o=document.createElementNS("http://www.w3.org/1999/xhtml","div");o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+i+"</svg>";const s=document.createDocumentFragment();for(;s&&(a=o==null?void 0:o.firstChild)!=null&&a.firstChild;)s.appendChild(o.firstChild.firstChild);return s}const r=t.node();for(;r.hasChildNodes();)r.removeChild(r.firstChild);t.node().appendChild(n(e))}function Ca(t){return t.substring(0,4)!=="ease"?ra:qh[t]??ra}function Ns({axisWidth:t,innerRadius:e,outerRadius:n,padAngle:r,cornerRadius:i}){const a=yu().domain([0,1]).range([0,t/2]),o=a(n);return $u().innerRadius(a(e)).outerRadius(o).padAngle(r).padRadius(o).cornerRadius(i)}const Zh=(t,e)=>e instanceof Function?e(t):wa(e)(t);function Y_(t,e=10){var n;const r=document.createElement("canvas").getContext("2d");return(((n=r==null?void 0:r.measureText(t))==null?void 0:n.width)??0)*e/10}function II(t){const e=[0,0];return t.length?t.reduce((n,r)=>[r<n[0]?r:n[0],r>n[1]?r:n[1]],[t[0],t[0]]):e}function CI(t){const e=t.filter(n=>n.value!=null&&n.visible!=!1).map(n=>n.value);return II(e)}function Mt(t,e){const n=e.colors[e.colorScheme];return t==="series"?n.series[0]:t=="none"?"none":n[t]!=null?n[t]:n.primary}function ks({datum:t,colorType:e,fullChartParams:n}){return e==="series"?t.color?t.color:n.colors[n.colorScheme].series[0]:e=="none"?"none":n.colors[n.colorScheme][e]!=null?n.colors[n.colorScheme][e]:n.colors[n.colorScheme].primary}function at(t,e,n){const r=n?`--${n}`:"";return`orbcharts-${t}__${e}${r}`}function An(t,e){const n=Math.random().toString(36).substr(2,5);return at(t,e,n)}const ur=({selection:t,pluginName:e,clipPathID:n,seriesLabels$:r,gridContainerPosition$:i,gridAxesTransform$:a,gridGraphicTransform$:o})=>{const s=at(e,"series"),l=at(e,"axes"),u=at(e,"graphic"),c=r.pipe(F((p,g)=>t.selectAll(`g.${s}`).data(p,m=>m).join(m=>m.append("g").classed(s,!0).each((y,_,v)=>{q(v[_]).selectAll(`g.${l}`).data([_]).join(b=>b.append("g").classed(l,!0).attr("clip-path",`url(#${n})`).each((A,$,x)=>{q(x[$]).selectAll("defs").data([$]).join("defs"),q(x[$]).selectAll("g").data([$]).join("g").classed(u,!0)}),b=>b,b=>b.remove())}),m=>m,m=>m.remove())),Dt(1));j({seriesSelection:c,gridContainerPosition:i}).pipe(U(async p=>p)).subscribe(p=>{p.seriesSelection.transition().attr("transform",(g,m)=>{const y=p.gridContainerPosition[m]??p.gridContainerPosition[0],_=y.translate,v=y.scale;return`translate(${_[0]}, ${_[1]}) scale(${v[0]}, ${v[1]})`})});const h=j({seriesSelection:c,gridAxesTransform:a}).pipe(U(async p=>p),F(p=>p.seriesSelection.select(`g.${l}`).style("transform",p.gridAxesTransform.value)),Dt(1)),f=h.pipe(F(p=>p.select("defs")),Dt(1)),d=j({axesSelection:h,gridGraphicTransform:o}).pipe(U(async p=>p),F(p=>{const g=p.axesSelection.select(`g.${u}`);return g.transition().duration(50).style("transform",p.gridGraphicTransform.value),g}),Dt(1));return{seriesSelection$:c,axesSelection$:h,defsSelection$:f,graphicGSelection$:d}},Qh=({fullDataFormatter$:t,gridAxesSize$:e,computedData$:n,fullChartParams$:r})=>{const i=new et,a=new dt(o=>{j({dataFormatter:t,computedData:n}).pipe(C(i),U(async s=>s)).subscribe(s=>{const l=s.computedData[0]?s.computedData[0].length-1:0,u=s.dataFormatter.grid.groupAxis.scaleDomain[0]==="auto"?0-s.dataFormatter.grid.groupAxis.scalePadding:s.dataFormatter.grid.groupAxis.scaleDomain[0]-s.dataFormatter.grid.groupAxis.scalePadding,c=s.dataFormatter.grid.groupAxis.scaleDomain[1]==="auto"?l+s.dataFormatter.grid.groupAxis.scalePadding:s.dataFormatter.grid.groupAxis.scaleDomain[1]+s.dataFormatter.grid.groupAxis.scalePadding,h=(s.dataFormatter.grid.seriesDirection==="row"?(s.computedData[0]??[]).map(f=>f.groupLabel):s.computedData.map(f=>f[0].groupLabel)).filter((f,d)=>d>=u&&d<=c);o.next(h)})});return new dt(o=>{j({dataFormatter:t,axisSize:e,fullChartParams:r,scaleRangeGroupLabels:a}).pipe(C(i),U(async s=>s)).subscribe(s=>{const l=s.dataFormatter.grid.valueAxis.position==="right"||s.dataFormatter.grid.valueAxis.position==="bottom",u=bT({axisLabels:s.scaleRangeGroupLabels,axisWidth:s.axisSize.width,reverse:l}),c=f=>s.dataFormatter.grid.groupAxis.position==="bottom"||s.dataFormatter.grid.groupAxis.position==="top"?f.offsetX-s.fullChartParams.padding.left:f.offsetY-s.fullChartParams.padding.top,h=f=>{const d=c(f),p=u(d);return{groupIndex:p,groupLabel:s.scaleRangeGroupLabels[p]??""}};return o.next(h),function(){i.next(void 0)}})})};function NI(t="curveLinear"){return Mu().x(e=>e.axisX).y(e=>e.axisY).curve(qh[t])}function kI(t){let e=[[]],n=0;for(let r in t){if(t[r].visible==!1||t[r].value===void 0||t[r].value===null){e[n].length&&(n++,e[n]=[]);continue}e[n].push(t[r])}return e}function GI({selection:t,pathClassName:e,segmentData:n,linePath:r,params:i}){return t.selectAll("path").data(n,(a,o)=>a.length?`${a[0].id}_${a[a.length-1].id}`:o).join(a=>a.append("path").classed(e,!0).attr("fill","none").attr("pointer-events","visibleStroke").style("vector-effect","non-scaling-stroke").style("cursor","pointer"),a=>a,a=>a.remove()).attr("stroke-width",i.lineWidth).attr("stroke",(a,o)=>a[0]&&a[0].color).attr("d",a=>r(a))}function OI({selection:t,seriesLabel:e,fullChartParams:n}){if(t.interrupt("highlight"),!e){t.transition("highlight").duration(200).style("opacity",1);return}t.each((r,i,a)=>{r===e?q(a[i]).style("opacity",1):q(a[i]).style("opacity",n.styles.unhighlightedOpacity)})}function FI({defsSelection:t,clipPathData:e,transitionDuration:n,transitionEase:r}){t.selectAll("clipPath").data(e).join(i=>i.append("clipPath"),i=>i,i=>i.remove()).attr("id",i=>i.id).each((i,a,o)=>{q(o[a]).selectAll("rect").data([i]).join(s=>{const l=s.append("rect");return l.transition().duration(n).ease(Ca(r)).tween("tween",(u,c,h)=>f=>{const d=u.width*f;l.attr("x",0).attr("y",0).attr("width",p=>d).attr("height",p=>p.height)}),l},s=>s.attr("x",0).attr("y",0).attr("width",l=>l.width).attr("height",l=>l.height),s=>s.remove())})}const W_=(t,{selection:e,computedData$:n,computedLayoutData$:r,visibleComputedData$:i,visibleComputedLayoutData$:a,seriesLabels$:o,SeriesDataMap$:s,GroupDataMap$:l,fullParams$:u,fullDataFormatter$:c,fullChartParams$:h,gridAxesTransform$:f,gridGraphicTransform$:d,gridAxesSize$:p,gridHighlight$:g,gridContainerPosition$:m,event$:y})=>{const _=new et,v=An(t,"clipPath-box"),b=at(t,"path"),{seriesSelection$:A,axesSelection$:$,defsSelection$:x,graphicGSelection$:S}=ur({selection:e,pluginName:t,clipPathID:v,seriesLabels$:o,gridContainerPosition$:m,gridAxesTransform$:f,gridGraphicTransform$:d}),E=new dt(T=>{const G=u.pipe(C(_)).subscribe(z=>{if(!z)return;const M=NI(z.lineCurve);T.next(M)});return()=>{G.unsubscribe()}}),D=h.pipe(F(T=>T.transitionDuration),nt()),w=h.pipe(F(T=>T.transitionEase),nt());j({defsSelection:x,seriesLabels:o,axisSize:p,transitionDuration:D,transitionEase:w}).pipe(C(_),U(async T=>T)).subscribe(T=>{const G=[{id:v,width:T.axisSize.width,height:T.axisSize.height}].concat(T.seriesLabels.map(z=>({id:`orbcharts__clipPath_${z}`,width:T.axisSize.width,height:T.axisSize.height})));FI({defsSelection:T.defsSelection,clipPathData:G,transitionDuration:T.transitionDuration,transitionEase:T.transitionEase})});const O=n.pipe(F(T=>{const G=new Map;return T.flat().forEach(z=>G.set(z.id,z)),G})),N=Qh({fullDataFormatter$:c,gridAxesSize$:p,computedData$:n,fullChartParams$:h}),P=h.pipe(C(_),F(T=>T.highlightTarget),nt()),L=j({graphicGSelection:S,visibleComputedLayoutData:a,linePath:E,params:u}).pipe(C(_),U(async T=>T),F(T=>{let G=[];return T.graphicGSelection.each((z,M,I)=>{const R=kI(T.visibleComputedLayoutData[M]??[]);G[M]=GI({selection:q(I[M]),pathClassName:b,linePath:T.linePath,segmentData:R,params:T.params})}),G}));return j({pathSelectionArr:L,computedData:n,SeriesDataMap:s,GroupDataMap:l,highlightTarget:P,gridGroupPositionFn:N}).pipe(C(_),U(async T=>T)).subscribe(T=>{T.pathSelectionArr.forEach(G=>{G.on("mouseover",(z,M)=>{z.stopPropagation();const I=M[0]?M[0].seriesLabel:"",{groupIndex:R,groupLabel:k}=T.gridGroupPositionFn(z),H=T.GroupDataMap.get(k).find(J=>J.seriesLabel===I)??M[0];y.next({type:"grid",eventName:"mouseover",pluginName:t,highlightTarget:T.highlightTarget,datum:H,gridIndex:H.gridIndex,series:T.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:T.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:z,data:T.computedData})}).on("mousemove",(z,M)=>{z.stopPropagation();const I=M[0]?M[0].seriesLabel:"",{groupIndex:R,groupLabel:k}=T.gridGroupPositionFn(z),H=T.GroupDataMap.get(k).find(J=>J.seriesLabel===I)??M[0];y.next({type:"grid",eventName:"mousemove",pluginName:t,highlightTarget:T.highlightTarget,datum:H,gridIndex:H.gridIndex,series:T.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:T.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:z,data:T.computedData})}).on("mouseout",(z,M)=>{z.stopPropagation();const I=M[0]?M[0].seriesLabel:"",{groupIndex:R,groupLabel:k}=T.gridGroupPositionFn(z),H=T.GroupDataMap.get(k).find(J=>J.seriesLabel===I)??M[0];y.next({type:"grid",eventName:"mouseout",pluginName:t,highlightTarget:T.highlightTarget,datum:H,gridIndex:H.gridIndex,series:T.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:T.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:z,data:T.computedData})}).on("click",(z,M)=>{z.stopPropagation();const I=M[0]?M[0].seriesLabel:"",{groupIndex:R,groupLabel:k}=T.gridGroupPositionFn(z),H=T.GroupDataMap.get(k).find(J=>J.seriesLabel===I)??M[0];y.next({type:"grid",eventName:"click",pluginName:t,highlightTarget:T.highlightTarget,datum:H,gridIndex:H.gridIndex,series:T.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:T.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:z,data:T.computedData})})})}),h.pipe(C(_),Bi(T=>T.highlightTarget==="series"),U(T=>j({graphicGSelection:S,gridHighlight:g,DataMap:O,fullChartParams:h}).pipe(C(_),U(async G=>G)))).subscribe(T=>{const G=T.gridHighlight[0]?T.gridHighlight[0].seriesLabel:null;OI({selection:T.graphicGSelection,seriesLabel:G,fullChartParams:T.fullChartParams})}),()=>{_.next(void 0)}},i0="Lines",BI=fe(i0,B0)(({selection:t,name:e,observer:n,subject:r})=>{const i=new et,a=W_(i0,{selection:t,computedData$:n.computedData$,computedLayoutData$:n.computedLayoutData$,visibleComputedData$:n.visibleComputedData$,visibleComputedLayoutData$:n.visibleComputedLayoutData$,seriesLabels$:n.seriesLabels$,SeriesDataMap$:n.SeriesDataMap$,GroupDataMap$:n.GroupDataMap$,fullParams$:n.fullParams$,fullDataFormatter$:n.fullDataFormatter$,fullChartParams$:n.fullChartParams$,gridAxesTransform$:n.gridAxesTransform$,gridGraphicTransform$:n.gridGraphicTransform$,gridAxesSize$:n.gridAxesSize$,gridHighlight$:n.gridHighlight$,gridContainerPosition$:n.gridContainerPosition$,event$:r.event$});return()=>{i.next(void 0),a()}});function zI(t="curveLinear",e){return jh().x(n=>n.axisX).y0(n=>e).y1(n=>n.axisY).curve(qh[t])}function HI(t){let e=[[]],n=0;for(let r in t){if(t[r].visible==!1||t[r].value===void 0||t[r].value===null){e[n].length&&(n++,e[n]=[]);continue}e[n].push(t[r])}return e}function jI({selection:t,pathClassName:e,segmentData:n,areaPath:r,linearGradientIds:i,params:a}){return t.selectAll("path").data(n,(o,s)=>o.length?`${o[0].id}_${o[o.length-1].id}`:s).join(o=>o.append("path").classed(e,!0).attr("fill","none").style("vector-effect","non-scaling-stroke").style("cursor","pointer"),o=>o,o=>o.remove()).attr("fill",(o,s)=>o[0]?`url(#${i[o[0].seriesIndex]})`:"").attr("d",o=>r(o))}function UI({selection:t,seriesLabel:e,fullChartParams:n}){if(t.interrupt("highlight"),!e){t.transition("highlight").duration(200).style("opacity",1);return}t.each((r,i,a)=>{r===e?q(a[i]).style("opacity",1):q(a[i]).style("opacity",n.styles.unhighlightedOpacity)})}function VI({defsSelection:t,computedData:e,linearGradientIds:n,params:r}){t.selectAll("linearGradient").data(e??[]).join(i=>i.append("linearGradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%").attr("spreadMethod","pad"),i=>i,i=>i.remove()).attr("id",(i,a)=>i[0]?n[i[0].seriesIndex]:"").html((i,a)=>{const o=i[0]?i[0].color:"";return`
        <stop offset="0%"   stop-color="${o}" stop-opacity="${r.linearGradientOpacity[0]}"/>
        <stop offset="100%" stop-color="${o}" stop-opacity="${r.linearGradientOpacity[1]}"/>
      `})}function YI({defsSelection:t,clipPathData:e,transitionDuration:n,transitionEase:r}){t.selectAll("clipPath").data(e).join(i=>i.append("clipPath"),i=>i,i=>i.remove()).attr("id",i=>i.id).each((i,a,o)=>{q(o[a]).selectAll("rect").data([i]).join(s=>{const l=s.append("rect");return l.transition().duration(n).ease(Ca(r)).tween("tween",(u,c,h)=>f=>{const d=u.width*f;l.attr("x",0).attr("y",0).attr("width",p=>d).attr("height",p=>p.height)}),l},s=>s.attr("x",0).attr("y",0).attr("width",l=>l.width).attr("height",l=>l.height),s=>s.remove())})}const X_=(t,{selection:e,computedData$:n,computedLayoutData$:r,visibleComputedData$:i,visibleComputedLayoutData$:a,seriesLabels$:o,SeriesDataMap$:s,GroupDataMap$:l,fullParams$:u,fullDataFormatter$:c,fullChartParams$:h,gridAxesTransform$:f,gridGraphicTransform$:d,gridAxesSize$:p,gridHighlight$:g,gridContainerPosition$:m,layout$:y,event$:_})=>{const v=new et,b=An(t,"clipPath-box"),A=at(t,"path"),{seriesSelection$:$,axesSelection$:x,defsSelection$:S,graphicGSelection$:E}=ur({selection:e,pluginName:t,clipPathID:b,seriesLabels$:o,gridContainerPosition$:m,gridAxesTransform$:f,gridGraphicTransform$:d}),D=d.pipe(C(v),F(M=>-M.translate[1]/M.scale[1])),w=new dt(M=>{const I=j({fullParams:u,valueAxisStart:D}).pipe(C(v)).subscribe(R=>{const k=zI(R.fullParams.lineCurve,R.valueAxisStart);M.next(k)});return()=>{I.unsubscribe()}}),O=h.pipe(F(M=>M.transitionDuration),nt()),N=h.pipe(F(M=>M.transitionEase),nt());j({defsSelection:S,seriesLabels:o,axisSize:p,transitionDuration:O,transitionEase:N}).pipe(C(v),U(async M=>M)).subscribe(M=>{const I=[{id:b,width:M.axisSize.width,height:M.axisSize.height}].concat(M.seriesLabels.map(R=>({id:`orbcharts__clipPath_${R}`,width:M.axisSize.width,height:M.axisSize.height})));YI({defsSelection:M.defsSelection,clipPathData:I,transitionDuration:M.transitionDuration,transitionEase:M.transitionEase})});const P=n.pipe(F(M=>{const I=new Map;return M.flat().forEach(R=>I.set(R.id,R)),I})),L=Qh({fullDataFormatter$:c,gridAxesSize$:p,computedData$:n,fullChartParams$:h}),T=h.pipe(C(v),F(M=>M.highlightTarget),nt()),G=o.pipe(C(v),F(M=>M.map((I,R)=>An(t,`lineargradient-${I}`)))),z=j({graphicGSelection:E,defsSelection:S,visibleComputedLayoutData:a,linearGradientIds:G,areaPath:w,params:u}).pipe(C(v),U(async M=>M),F(M=>{let I=[];return M.graphicGSelection.each((R,k,H)=>{const J=HI(M.visibleComputedLayoutData[k]??[]);I[k]=jI({selection:q(H[k]),pathClassName:A,areaPath:M.areaPath,segmentData:J,linearGradientIds:M.linearGradientIds,params:M.params}),VI({defsSelection:M.defsSelection,computedData:M.visibleComputedLayoutData,linearGradientIds:M.linearGradientIds,params:M.params})}),I}));return j({pathSelectionArr:z,computedData:n,SeriesDataMap:s,GroupDataMap:l,highlightTarget:T,gridGroupPositionFn:L}).pipe(C(v),U(async M=>M)).subscribe(M=>{M.pathSelectionArr.forEach(I=>{I.on("mouseover",(R,k)=>{const H=k[0]?k[0].seriesLabel:"",{groupIndex:J,groupLabel:B}=M.gridGroupPositionFn(R),V=M.GroupDataMap.get(B).find(W=>W.seriesLabel===H)??k[0];_.next({type:"grid",eventName:"mouseover",pluginName:t,highlightTarget:M.highlightTarget,datum:V,gridIndex:V.gridIndex,series:M.SeriesDataMap.get(V.seriesLabel),seriesIndex:V.seriesIndex,seriesLabel:V.seriesLabel,groups:M.GroupDataMap.get(V.groupLabel),groupIndex:V.groupIndex,groupLabel:V.groupLabel,event:R,data:M.computedData})}).on("mousemove",(R,k)=>{const H=k[0]?k[0].seriesLabel:"",{groupIndex:J,groupLabel:B}=M.gridGroupPositionFn(R),V=M.GroupDataMap.get(B).find(W=>W.seriesLabel===H)??k[0];_.next({type:"grid",eventName:"mousemove",pluginName:t,highlightTarget:M.highlightTarget,datum:V,gridIndex:V.gridIndex,series:M.SeriesDataMap.get(V.seriesLabel),seriesIndex:V.seriesIndex,seriesLabel:V.seriesLabel,groups:M.GroupDataMap.get(V.groupLabel),groupIndex:V.groupIndex,groupLabel:V.groupLabel,event:R,data:M.computedData})}).on("mouseout",(R,k)=>{const H=k[0]?k[0].seriesLabel:"",{groupIndex:J,groupLabel:B}=M.gridGroupPositionFn(R),V=M.GroupDataMap.get(B).find(W=>W.seriesLabel===H)??k[0];_.next({type:"grid",eventName:"mouseout",pluginName:t,highlightTarget:M.highlightTarget,datum:V,gridIndex:V.gridIndex,series:M.SeriesDataMap.get(V.seriesLabel),seriesIndex:V.seriesIndex,seriesLabel:V.seriesLabel,groups:M.GroupDataMap.get(V.groupLabel),groupIndex:V.groupIndex,groupLabel:V.groupLabel,event:R,data:M.computedData})}).on("click",(R,k)=>{const H=k[0]?k[0].seriesLabel:"",{groupIndex:J,groupLabel:B}=M.gridGroupPositionFn(R),V=M.GroupDataMap.get(B).find(W=>W.seriesLabel===H)??k[0];_.next({type:"grid",eventName:"click",pluginName:t,highlightTarget:M.highlightTarget,datum:V,gridIndex:V.gridIndex,series:M.SeriesDataMap.get(V.seriesLabel),seriesIndex:V.seriesIndex,seriesLabel:V.seriesLabel,groups:M.GroupDataMap.get(V.groupLabel),groupIndex:V.groupIndex,groupLabel:V.groupLabel,event:R,data:M.computedData})})})}),h.pipe(C(v),Bi(M=>M.highlightTarget==="series"),U(M=>j({graphicGSelection:E,gridHighlight:g,DataMap:P,fullChartParams:h}).pipe(C(v),U(async I=>I)))).subscribe(M=>{const I=M.gridHighlight[0]?M.gridHighlight[0].seriesLabel:null;UI({selection:M.graphicGSelection,seriesLabel:I,fullChartParams:M.fullChartParams})}),()=>{v.next(void 0)}},a0="LineAreas",WI=fe(a0,z0)(({selection:t,name:e,observer:n,subject:r})=>{const i=new et,a=X_(a0,{selection:t,computedData$:n.computedData$,visibleComputedData$:n.visibleComputedData$,computedLayoutData$:n.computedLayoutData$,visibleComputedLayoutData$:n.visibleComputedLayoutData$,seriesLabels$:n.seriesLabels$,SeriesDataMap$:n.SeriesDataMap$,GroupDataMap$:n.GroupDataMap$,fullParams$:n.fullParams$,fullDataFormatter$:n.fullDataFormatter$,fullChartParams$:n.fullChartParams$,gridAxesTransform$:n.gridAxesTransform$,gridGraphicTransform$:n.gridGraphicTransform$,gridAxesSize$:n.gridAxesSize$,gridHighlight$:n.gridHighlight$,gridContainerPosition$:n.gridContainerPosition$,layout$:n.layout$,event$:r.event$});return()=>{i.next(void 0),a()}}),q_=.3;function o0({axisWidth:t,groupAmount:e,barAmountOfGroup:n,barPadding:r=0,barGroupPadding:i=0}){const a=((e>1?t/(e-1):t)-i)/n-r;return a>1?a:1}function XI(t,e,n){const r=t/2,i=t*e.length+n.barPadding*e.length;return Dh().domain(e).range([-i/2+r,i/2-r])}function qI(t,e){return t<=1?0:e/(t-1)*q_}function ZI(t,e){return t<=1?e:e*(1-q_)}function QI({graphicGSelection:t,rectClassName:e,visibleComputedLayoutData:n,zeroYArr:r,groupLabels:i,barScale:a,params:o,chartParams:s,barWidth:l,transformedBarRadius:u,delayGroup:c,transitionItem:h,isSeriesSeprate:f}){const d=l/2;return t.each((p,g,m)=>{q(m[g]).selectAll(`rect.${e}`).data(n[g]??[],y=>y.id).join(y=>y.append("rect").classed(e,!0).attr("cursor","pointer").attr("height",_=>0),y=>y,y=>y.remove()).attr("transform",(y,_)=>`translate(${(y?y.axisX:0)-d}, 0)`).attr("fill",y=>y.color).attr("y",y=>y.axisY<r[g]?y.axisY:r[g]).attr("x",y=>f?0:a(y.seriesLabel)).attr("width",l).attr("rx",u[g][0]??1).attr("ry",u[g][1]??1).transition().duration(h).ease(Ca(s.transitionEase)).delay((y,_)=>y.groupIndex*c).attr("height",y=>Math.abs(y.axisYFromZero))}),t.selectAll(`rect.${e}`)}function JI({defsSelection:t,clipPathData:e}){t.selectAll("clipPath").data(e).join(n=>n.append("clipPath"),n=>n,n=>n.remove()).attr("id",n=>n.id).each((n,r,i)=>{q(i[r]).selectAll("rect").data([n]).join(a=>a.append("rect"),a=>a,a=>a.remove()).attr("x",0).attr("y",0).attr("width",a=>a.width).attr("height",a=>a.height)})}function KI({selection:t,ids:e,fullChartParams:n}){if(t.interrupt("highlight"),!e.length){t.transition("highlight").duration(200).style("opacity",1);return}t.each((r,i,a)=>{e.includes(r.id)?q(a[i]).style("opacity",1):q(a[i]).style("opacity",n.styles.unhighlightedOpacity)})}const Jh=(t,{selection:e,computedData$:n,computedLayoutData$:r,visibleComputedData$:i,visibleComputedLayoutData$:a,seriesLabels$:o,SeriesDataMap$:s,GroupDataMap$:l,fullParams$:u,fullChartParams$:c,gridAxesTransform$:h,gridGraphicTransform$:f,gridGraphicReverseScale$:d,gridAxesSize$:p,gridHighlight$:g,gridContainerPosition$:m,isSeriesSeprate$:y,event$:_})=>{const v=new et,b=An(t,"clipPath-box"),A=at(t,"rect"),{seriesSelection$:$,axesSelection$:x,defsSelection$:S,graphicGSelection$:E}=ur({selection:e,pluginName:t,clipPathID:b,seriesLabels$:o,gridContainerPosition$:m,gridAxesTransform$:h,gridGraphicTransform$:f}),D=a.pipe(C(v),F(I=>I.map(R=>R[0]?R[0].axisY-R[0].axisYFromZero:0)),nt()),w=j({computedData:n,visibleComputedData:i,params:u,gridAxesSize:p,isSeriesSeprate:y}).pipe(C(v),U(async I=>I),F(I=>I.params.barWidth?I.params.barWidth:I.isSeriesSeprate?o0({axisWidth:I.gridAxesSize.width,groupAmount:I.computedData[0]?I.computedData[0].length:0,barAmountOfGroup:1,barPadding:I.params.barPadding,barGroupPadding:I.params.barGroupPadding}):o0({axisWidth:I.gridAxesSize.width,groupAmount:I.computedData[0]?I.computedData[0].length:0,barAmountOfGroup:I.visibleComputedData.length,barPadding:I.params.barPadding,barGroupPadding:I.params.barGroupPadding})),nt()),O=j({computedData:n,barWidth:w,params:u,gridGraphicReverseScale:d}).pipe(C(v),U(async I=>I),F(I=>{const R=I.barWidth/2,k=I.params.barRadius===!0?R:I.params.barRadius===!1?0:typeof I.params.barRadius=="number"?I.params.barRadius:0;return I.computedData.map((H,J)=>{const B=I.gridGraphicReverseScale[J]??I.gridGraphicReverseScale[0];let V=k*B[0],W=k*B[1];if(V>R){const ft=R/V;V=V*ft,W=W*ft}return[V,W]})})),N=i.pipe(C(v),F(I=>{const R=new Set;return I.forEach(k=>{k.forEach(H=>{R.add(H.groupLabel)})}),Array.from(R)})),P=j({seriesLabels:o,barWidth:w,params:u}).pipe(C(v),U(async I=>I),F(I=>XI(I.barWidth,I.seriesLabels,I.params))),L=c.pipe(C(v),F(I=>I.transitionDuration),nt()),T=new dt(I=>{j({groupLabels:N,transitionDuration:L}).pipe(U(async R=>R)).subscribe(R=>{const k=qI(R.groupLabels.length,R.transitionDuration);I.next(k)})}).pipe(C(v),nt()),G=new dt(I=>{j({groupLabels:N,transitionDuration:L}).pipe(U(async R=>R)).subscribe(R=>{const k=ZI(R.groupLabels.length,R.transitionDuration);I.next(k)})}).pipe(C(v),nt());j({defsSelection:S,gridAxesSize:p}).pipe(C(v),U(async I=>I)).subscribe(I=>{const R=[{id:b,width:I.gridAxesSize.width,height:I.gridAxesSize.height}];JI({defsSelection:I.defsSelection,clipPathData:R})});const z=c.pipe(C(v),F(I=>I.highlightTarget),nt()),M=j({graphicGSelection:E,visibleComputedLayoutData:a,zeroYArr:D,groupLabels:N,barScale:P,params:u,chartParams:c,highlightTarget:z,barWidth:w,transformedBarRadius:O,delayGroup:T,transitionItem:G,isSeriesSeprate:y}).pipe(C(v),U(async I=>I),F(I=>QI({graphicGSelection:I.graphicGSelection,rectClassName:A,visibleComputedLayoutData:I.visibleComputedLayoutData,zeroYArr:I.zeroYArr,groupLabels:I.groupLabels,barScale:I.barScale,params:I.params,chartParams:I.chartParams,barWidth:I.barWidth,transformedBarRadius:I.transformedBarRadius,delayGroup:I.delayGroup,transitionItem:I.transitionItem,isSeriesSeprate:I.isSeriesSeprate})));return j({barSelection:M,computedData:n,highlightTarget:z,SeriesDataMap:s,GroupDataMap:l}).pipe(C(v),U(async I=>I)).subscribe(I=>{I.barSelection.on("mouseover",(R,k)=>{R.stopPropagation(),_.next({type:"grid",eventName:"mouseover",pluginName:t,highlightTarget:I.highlightTarget,datum:k,gridIndex:k.gridIndex,series:I.SeriesDataMap.get(k.seriesLabel),seriesIndex:k.seriesIndex,seriesLabel:k.seriesLabel,groups:I.GroupDataMap.get(k.groupLabel),groupIndex:k.groupIndex,groupLabel:k.groupLabel,event:R,data:I.computedData})}).on("mousemove",(R,k)=>{R.stopPropagation(),_.next({type:"grid",eventName:"mousemove",pluginName:t,highlightTarget:I.highlightTarget,datum:k,gridIndex:k.gridIndex,series:I.SeriesDataMap.get(k.seriesLabel),seriesIndex:k.seriesIndex,seriesLabel:k.seriesLabel,groups:I.GroupDataMap.get(k.groupLabel),groupIndex:k.groupIndex,groupLabel:k.groupLabel,event:R,data:I.computedData})}).on("mouseout",(R,k)=>{R.stopPropagation(),_.next({type:"grid",eventName:"mouseout",pluginName:t,highlightTarget:I.highlightTarget,datum:k,gridIndex:k.gridIndex,series:I.SeriesDataMap.get(k.seriesLabel),seriesIndex:k.seriesIndex,seriesLabel:k.seriesLabel,groups:I.GroupDataMap.get(k.groupLabel),groupIndex:k.groupIndex,groupLabel:k.groupLabel,event:R,data:I.computedData})}).on("click",(R,k)=>{R.stopPropagation(),_.next({type:"grid",eventName:"click",pluginName:t,highlightTarget:I.highlightTarget,datum:k,gridIndex:k.gridIndex,series:I.SeriesDataMap.get(k.seriesLabel),seriesIndex:k.seriesIndex,seriesLabel:k.seriesLabel,groups:I.GroupDataMap.get(k.groupLabel),groupIndex:k.groupIndex,groupLabel:k.groupLabel,event:R,data:I.computedData})})}),j({barSelection:M,highlight:g.pipe(F(I=>I.map(R=>R.id))),fullChartParams:c}).pipe(C(v),U(async I=>I)).subscribe(I=>{KI({selection:I.barSelection,ids:I.highlight,fullChartParams:I.fullChartParams})}),()=>{v.next(void 0)}},s0="Bars",tC=fe(s0,Gs)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=Jh(s0,{selection:t,computedData$:r.computedData$,computedLayoutData$:r.computedLayoutData$,visibleComputedData$:r.visibleComputedData$,visibleComputedLayoutData$:r.visibleComputedLayoutData$,seriesLabels$:r.seriesLabels$,SeriesDataMap$:r.SeriesDataMap$,GroupDataMap$:r.GroupDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:r.gridAxesTransform$,gridGraphicTransform$:r.gridGraphicTransform$,gridGraphicReverseScale$:r.gridGraphicReverseScale$,gridAxesSize$:r.gridAxesSize$,gridHighlight$:r.gridHighlight$,gridContainerPosition$:r.gridContainerPosition$,isSeriesSeprate$:r.isSeriesSeprate$,event$:n.event$});return()=>{i.next(void 0),a()}}),u0="BarsPN",eC=fe(u0,Gs)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=Jh(u0,{selection:t,computedData$:r.computedData$,computedLayoutData$:r.computedLayoutData$,visibleComputedData$:r.visibleComputedData$,visibleComputedLayoutData$:r.visibleComputedLayoutData$,seriesLabels$:r.seriesLabels$,SeriesDataMap$:r.SeriesDataMap$,GroupDataMap$:r.GroupDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:r.gridAxesTransform$,gridGraphicTransform$:r.gridGraphicTransform$,gridGraphicReverseScale$:r.gridGraphicReverseScale$,gridAxesSize$:r.gridAxesSize$,gridHighlight$:r.gridHighlight$,gridContainerPosition$:r.gridContainerPosition$,isSeriesSeprate$:Bs(!0),event$:n.event$});return()=>{i.next(void 0),a()}}),Z_=.3;function nC({axisWidth:t,groupAmount:e,barGroupPadding:n=0}){const r=t/(e-1)-n;return r>1?r:1}function rC(t,e){return t<=1?0:e/(t-1)*Z_}function iC(t,e){return t<=1?e:e*(1-Z_)}function aC({graphicGSelection:t,rectClassName:e,barData:n,zeroY:r,groupLabels:i,params:a,chartParams:o,barWidth:s,transformedBarRadius:l,delayGroup:u,transitionItem:c,isSeriesSeprate:h}){const f=s/2;return t.each((d,p,g)=>{q(g[p]).selectAll(`rect.${e}`).data(n[p]??[],m=>m.id).join(m=>m.append("rect").classed(e,!0).attr("cursor","pointer").attr("height",y=>0),m=>m,m=>m.remove()).attr("transform",(m,y)=>`translate(${(m?m.axisX:0)-f}, 0)`).attr("fill",m=>m.color).attr("y",m=>r).attr("x",m=>0).attr("width",s).attr("rx",l[p][0]??1).attr("ry",l[p][1]??1).transition().duration(c).ease(Ca(o.transitionEase)).delay((m,y)=>m.groupIndex*u).attr("y",m=>m._barStartY).attr("height",m=>Math.abs(m._barHeight))}),t.selectAll(`rect.${e}`)}function oC({defsSelection:t,clipPathData:e}){t.selectAll("clipPath").data(e).join(n=>n.append("clipPath"),n=>n,n=>n.remove()).attr("id",n=>n.id).each((n,r,i)=>{q(i[r]).selectAll("rect").data([n]).join(a=>a.append("rect"),a=>a,a=>a.remove()).attr("x",0).attr("y",0).attr("width",a=>a.width).attr("height",a=>a.height)})}function sC({selection:t,ids:e,fullChartParams:n}){if(t.interrupt("highlight"),!e.length){t.transition("highlight").duration(200).style("opacity",1);return}t.each((r,i,a)=>{e.includes(r.id)?q(a[i]).style("opacity",1):q(a[i]).style("opacity",n.styles.unhighlightedOpacity)})}const Q_=(t,{selection:e,computedData$:n,computedLayoutData$:r,visibleComputedData$:i,visibleComputedLayoutData$:a,seriesLabels$:o,SeriesDataMap$:s,GroupDataMap$:l,fullParams$:u,fullDataFormatter$:c,fullChartParams$:h,gridAxesTransform$:f,gridGraphicTransform$:d,gridGraphicReverseScale$:p,gridAxesSize$:g,gridHighlight$:m,gridContainerPosition$:y,isSeriesSeprate$:_,event$:v})=>{const b=new et,A=An(t,"clipPath-box"),$=at(t,"rect"),{seriesSelection$:x,axesSelection$:S,defsSelection$:E,graphicGSelection$:D}=ur({selection:e,pluginName:t,clipPathID:A,seriesLabels$:o,gridContainerPosition$:y,gridAxesTransform$:f,gridGraphicTransform$:d}),w=a.pipe(C(b),F(B=>B[0]&&B[0][0]?B[0][0].axisY-B[0][0].axisYFromZero:0),nt()),O=j({computedData:n,params:u,axisSize:g,isSeriesSeprate:_}).pipe(C(b),U(async B=>B),F(B=>B.params.barWidth?B.params.barWidth:nC({axisWidth:B.axisSize.width,groupAmount:B.computedData[0]?B.computedData[0].length:0,barGroupPadding:B.params.barGroupPadding})),nt()),N=j({computedData:n,barWidth:O,params:u,gridGraphicReverseScale:p}).pipe(C(b),U(async B=>B),F(B=>{const V=B.barWidth/2,W=B.params.barRadius===!0?V:B.params.barRadius===!1?0:typeof B.params.barRadius=="number"?B.params.barRadius:0;return B.computedData.map((ft,X)=>{const tt=B.gridGraphicReverseScale[X]??B.gridGraphicReverseScale[0],st=W*tt[0],Y=W*tt[1];return[st,Y]})})),P=i.pipe(C(b),F(B=>{const V=new Set;return B.forEach(W=>{W.forEach(ft=>{V.add(ft.groupLabel)})}),Array.from(V)}),Dt(1)),L=h.pipe(C(b),F(B=>B.transitionDuration),nt()),T=new dt(B=>{j({groupLabels:P,transitionDuration:L}).pipe(U(async V=>V)).subscribe(V=>{const W=rC(V.groupLabels.length,V.transitionDuration);B.next(W)})}).pipe(C(b),nt()),G=new dt(B=>{j({groupLabels:P,transitionDuration:L}).pipe(U(async V=>V)).subscribe(V=>{const W=iC(V.groupLabels.length,V.transitionDuration);B.next(W)})}).pipe(C(b),nt()),z=j({computedData:n,dataFormatter:c}).pipe(C(b),U(async B=>B),F(B=>{const V=B.computedData[0]?B.computedData[0].length-1:0,W=B.dataFormatter.grid.groupAxis.scaleDomain[0]==="auto"?0:B.dataFormatter.grid.groupAxis.scaleDomain[0],ft=B.dataFormatter.grid.groupAxis.scaleDomain[1]==="auto"?V:B.dataFormatter.grid.groupAxis.scaleDomain[1];return[W,ft]})),M=j({visibleComputedLayoutData:a,groupScaleDomain:z}).pipe(C(b),U(async B=>B),F(B=>{const V=B.groupScaleDomain[0],W=B.groupScaleDomain[1],ft=B.visibleComputedLayoutData.map(Y=>Y.filter((mt,yt)=>mt.groupIndex>=V&&mt.groupIndex<=W)).flat();if(ft.length<=1)return 1;const X=ft.reduce((Y,mt)=>mt.value>Y.value?mt:Y,ft[0]),tt=X.groupIndex,st=ft.filter(Y=>Y.groupIndex===tt).reduce((Y,mt)=>Y+mt.value,0);return X.value/st})),I=j({computedLayoutData:r,yRatio:M,zeroY:w}).pipe(C(b),F(B=>{let V=B.computedLayoutData[0]?B.computedLayoutData[0].map(()=>B.zeroY):[];return B.computedLayoutData.map((W,ft)=>W.map((X,tt)=>{const st=V[tt];let Y=0;return X.visible&&(Y=X.axisYFromZero*B.yRatio,V[tt]=V[tt]+Y),{...X,_barStartY:st,_barHeight:Y}}))})),R=j({computedLayoutData:r,zeroY:w}).pipe(C(b),F(B=>B.computedLayoutData.map((V,W)=>V.map((ft,X)=>({...ft,_barStartY:B.zeroY,_barHeight:ft.axisYFromZero}))))),k=_.pipe(U(B=>x2(()=>B,R,I)));j({defsSelection:E,gridAxesSize:g}).pipe(C(b),U(async B=>B)).subscribe(B=>{const V=[{id:A,width:B.gridAxesSize.width,height:B.gridAxesSize.height}];oC({defsSelection:B.defsSelection,clipPathData:V})});const H=h.pipe(C(b),F(B=>B.highlightTarget),nt()),J=j({graphicGSelection:D,graphicData:k,zeroY:w,groupLabels:P,params:u,chartParams:h,highlightTarget:H,barWidth:O,transformedBarRadius:N,delayGroup:T,transitionItem:G,isSeriesSeprate:_}).pipe(C(b),U(async B=>B),F(B=>aC({graphicGSelection:B.graphicGSelection,rectClassName:$,barData:B.graphicData,zeroY:B.zeroY,groupLabels:B.groupLabels,params:B.params,chartParams:B.chartParams,barWidth:B.barWidth,transformedBarRadius:B.transformedBarRadius,delayGroup:B.delayGroup,transitionItem:B.transitionItem,isSeriesSeprate:B.isSeriesSeprate})));return j({barSelection:J,computedData:n,highlightTarget:H,SeriesDataMap:s,GroupDataMap:l}).subscribe(B=>{B.barSelection.on("mouseover",(V,W)=>{V.stopPropagation(),v.next({type:"grid",eventName:"mouseover",pluginName:t,highlightTarget:B.highlightTarget,datum:W,gridIndex:W.gridIndex,series:B.SeriesDataMap.get(W.seriesLabel),seriesIndex:W.seriesIndex,seriesLabel:W.seriesLabel,groups:B.GroupDataMap.get(W.groupLabel),groupIndex:W.groupIndex,groupLabel:W.groupLabel,event:V,data:B.computedData})}).on("mousemove",(V,W)=>{V.stopPropagation(),v.next({type:"grid",eventName:"mousemove",pluginName:t,highlightTarget:B.highlightTarget,datum:W,gridIndex:W.gridIndex,series:B.SeriesDataMap.get(W.seriesLabel),seriesIndex:W.seriesIndex,seriesLabel:W.seriesLabel,groups:B.GroupDataMap.get(W.groupLabel),groupIndex:W.groupIndex,groupLabel:W.groupLabel,event:V,data:B.computedData})}).on("mouseout",(V,W)=>{V.stopPropagation(),v.next({type:"grid",eventName:"mouseout",pluginName:t,highlightTarget:B.highlightTarget,datum:W,gridIndex:W.gridIndex,series:B.SeriesDataMap.get(W.seriesLabel),seriesIndex:W.seriesIndex,seriesLabel:W.seriesLabel,groups:B.GroupDataMap.get(W.groupLabel),groupIndex:W.groupIndex,groupLabel:W.groupLabel,event:V,data:B.computedData})}).on("click",(V,W)=>{V.stopPropagation(),v.next({type:"grid",eventName:"click",pluginName:t,highlightTarget:B.highlightTarget,datum:W,gridIndex:W.gridIndex,series:B.SeriesDataMap.get(W.seriesLabel),seriesIndex:W.seriesIndex,seriesLabel:W.seriesLabel,groups:B.GroupDataMap.get(W.groupLabel),groupIndex:W.groupIndex,groupLabel:W.groupLabel,event:V,data:B.computedData})})}),j({barSelection:J,highlight:m.pipe(F(B=>B.map(V=>V.id))),fullChartParams:h}).pipe(C(b),U(async B=>B)).subscribe(B=>{sC({selection:B.barSelection,ids:B.highlight,fullChartParams:B.fullChartParams})}),()=>{b.next(void 0)}},l0="BarStack",uC=fe(l0,j0)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=Q_(l0,{selection:t,computedData$:r.computedData$,computedLayoutData$:r.computedLayoutData$,visibleComputedData$:r.visibleComputedData$,visibleComputedLayoutData$:r.visibleComputedLayoutData$,seriesLabels$:r.seriesLabels$,SeriesDataMap$:r.SeriesDataMap$,GroupDataMap$:r.GroupDataMap$,fullParams$:r.fullParams$,fullDataFormatter$:r.fullDataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:r.gridAxesTransform$,gridGraphicTransform$:r.gridGraphicTransform$,gridGraphicReverseScale$:r.gridGraphicReverseScale$,gridAxesSize$:r.gridAxesSize$,gridHighlight$:r.gridHighlight$,gridContainerPosition$:r.gridContainerPosition$,isSeriesSeprate$:r.isSeriesSeprate$,event$:n.event$});return()=>{i.next(void 0),a()}}),J_=.3;function c0({axisWidth:t,groupAmount:e,barAmountOfGroup:n,barPadding:r=0,barGroupPadding:i=0}){const a=(t/(e-1)-i)/n-r;return a>1?a:1}function lC(t,e,n){const r=t/2,i=t*e.length+n.barPadding*e.length;return Dh().domain(e).range([-i/2+r,i/2-r])}function cC(t,e){return t<=1?0:e/(t-1)*J_}function fC(t,e){return t<=1?e:e*(1-J_)}function hC({graphicGSelection:t,pathGClassName:e,pathClassName:n,visibleComputedLayoutData:r,linearGradientIds:i,zeroYArr:a,groupLabels:o,barScale:s,params:l,chartParams:u,barWidth:c,delayGroup:h,transitionItem:f,isSeriesSeprate:d}){const p=c/2;return t.each((g,m,y)=>{q(y[m]).selectAll(`g.${e}`).data(r[m]??[]).join(_=>{const v=_.append("g").classed(e,!0).attr("cursor","pointer");return v.append("path").classed(n,!0).style("vector-effect","non-scaling-stroke").attr("d",b=>{const A=-p,$=a[m],x=a[m];return`M${A},${$} L${A+c/2},${x} ${A+c},${$}`}),v},_=>_,_=>_.remove()).attr("transform",_=>`translate(${d?0:s(_.seriesLabel)}, 0)`).select(`path.${n}`).attr("height",_=>Math.abs(_.axisYFromZero)).attr("y",_=>_.axisY<a[m]?_.axisY:a[m]).attr("x",_=>d?0:s(_.seriesLabel)).style("fill",_=>`url(#${i[_.seriesIndex]})`).attr("stroke",_=>_.color).attr("transform",_=>`translate(${_?_.axisX:0}, 0)`).transition().duration(f).ease(Ca(u.transitionEase)).delay((_,v)=>_.groupIndex*h).attr("d",_=>{const v=-p,b=a[m],A=_.axisY;return`M${v},${b} L${v+c/2},${A} ${v+c},${b}`})}),t.selectAll(`path.${n}`)}function dC({defsSelection:t,computedData:e,linearGradientIds:n,params:r}){t.selectAll("linearGradient").data(e??[]).join(i=>i.append("linearGradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%").attr("spreadMethod","pad"),i=>i,i=>i.remove()).attr("id",(i,a)=>i[0]?n[i[0].seriesIndex]:"").html((i,a)=>{const o=i[0]?i[0].color:"";return`
        <stop offset="0%"   stop-color="${o}" stop-opacity="${r.linearGradientOpacity[0]}"/>
        <stop offset="100%" stop-color="${o}" stop-opacity="${r.linearGradientOpacity[1]}"/>
      `})}function pC({defsSelection:t,clipPathData:e}){t.selectAll("clipPath").data(e).join(n=>n.append("clipPath"),n=>n,n=>n.remove()).attr("id",n=>n.id).each((n,r,i)=>{q(i[r]).selectAll("rect").data([n]).join(a=>a.append("rect"),a=>a,a=>a.remove()).attr("x",0).attr("y",0).attr("width",a=>a.width).attr("height",a=>a.height)})}function gC({selection:t,ids:e,fullChartParams:n}){t.interrupt("highlight");const r=()=>{t.transition("highlight").duration(200).style("opacity",1)};if(!e.length){r();return}t.each((i,a,o)=>{e.includes(i.id)?q(o[a]).style("opacity",1):q(o[a]).style("opacity",n.styles.unhighlightedOpacity)})}const K_=(t,{selection:e,computedData$:n,computedLayoutData$:r,visibleComputedData$:i,visibleComputedLayoutData$:a,fullDataFormatter$:o,seriesLabels$:s,SeriesDataMap$:l,GroupDataMap$:u,fullParams$:c,fullChartParams$:h,gridAxesTransform$:f,gridGraphicTransform$:d,gridAxesSize$:p,gridHighlight$:g,gridContainerPosition$:m,isSeriesSeprate$:y,event$:_})=>{const v=new et,b=An(t,"clipPath-box"),A=at(t,"pathG"),$=at(t,"path"),{seriesSelection$:x,axesSelection$:S,defsSelection$:E,graphicGSelection$:D}=ur({selection:e,pluginName:t,clipPathID:b,seriesLabels$:s,gridContainerPosition$:m,gridAxesTransform$:f,gridGraphicTransform$:d});d.pipe(C(v),F(R=>-R.translate[1]/R.scale[1]));const w=a.pipe(F(R=>R.map(k=>k[0]?k[0].axisY-k[0].axisYFromZero:0)),nt()),O=j({computedData:n,visibleComputedData:i,params:c,gridAxesSize:p,isSeriesSeprate:y}).pipe(C(v),U(async R=>R),F(R=>R.params.barWidth?R.params.barWidth:R.isSeriesSeprate?c0({axisWidth:R.gridAxesSize.width,groupAmount:R.computedData[0]?R.computedData[0].length:0,barAmountOfGroup:1,barPadding:R.params.barPadding,barGroupPadding:R.params.barGroupPadding}):c0({axisWidth:R.gridAxesSize.width,groupAmount:R.computedData[0]?R.computedData[0].length:0,barAmountOfGroup:R.visibleComputedData.length,barPadding:R.params.barPadding,barGroupPadding:R.params.barGroupPadding}))),N=i.pipe(C(v),F(R=>{const k=new Set;return R.forEach(H=>{H.forEach(J=>{k.add(J.groupLabel)})}),Array.from(k)})),P=new dt(R=>{j({seriesLabels:s,barWidth:O,params:c}).pipe(C(v),U(async k=>k)).subscribe(k=>{const H=lC(k.barWidth,k.seriesLabels,k.params);R.next(H)})}),L=h.pipe(C(v),F(R=>R.transitionDuration),nt()),T=new dt(R=>{j({groupLabels:N,transitionDuration:L}).pipe(U(async k=>k)).subscribe(k=>{const H=cC(k.groupLabels.length,k.transitionDuration);R.next(H)})}).pipe(C(v),nt()),G=new dt(R=>{j({groupLabels:N,transitionDuration:L}).pipe(U(async k=>k)).subscribe(k=>{const H=fC(k.groupLabels.length,k.transitionDuration);R.next(H)})}).pipe(C(v),nt());j({defsSelection:E,gridAxesSize:p}).pipe(C(v),U(async R=>R)).subscribe(R=>{const k=[{id:b,width:R.gridAxesSize.width,height:R.gridAxesSize.height}];pC({defsSelection:R.defsSelection,clipPathData:k})});const z=h.pipe(C(v),F(R=>R.highlightTarget),nt()),M=s.pipe(C(v),F(R=>R.map((k,H)=>An(t,`lineargradient-${k}`)))),I=j({graphicGSelection:D,defsSelection:E,computedData:n,visibleComputedLayoutData:a,linearGradientIds:M,zeroYArr:w,groupLabels:N,barScale:P,params:c,chartParams:h,barWidth:O,delayGroup:T,transitionItem:G,isSeriesSeprate:y}).pipe(C(v),U(async R=>R),F(R=>(dC({defsSelection:R.defsSelection,computedData:R.computedData,linearGradientIds:R.linearGradientIds,params:R.params}),hC({graphicGSelection:R.graphicGSelection,pathGClassName:A,pathClassName:$,visibleComputedLayoutData:R.visibleComputedLayoutData,linearGradientIds:R.linearGradientIds,zeroYArr:R.zeroYArr,groupLabels:R.groupLabels,barScale:R.barScale,params:R.params,chartParams:R.chartParams,barWidth:R.barWidth,delayGroup:R.delayGroup,transitionItem:R.transitionItem,isSeriesSeprate:R.isSeriesSeprate}))));return j({barSelection:I,computedData:n,highlightTarget:z,SeriesDataMap:l,GroupDataMap:u}).subscribe(R=>{R.barSelection.on("mouseover",(k,H)=>{k.stopPropagation(),_.next({type:"grid",eventName:"mouseover",pluginName:t,highlightTarget:R.highlightTarget,datum:H,gridIndex:H.gridIndex,series:R.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:R.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:k,data:R.computedData})}).on("mousemove",(k,H)=>{k.stopPropagation(),_.next({type:"grid",eventName:"mousemove",pluginName:t,highlightTarget:R.highlightTarget,datum:H,gridIndex:H.gridIndex,series:R.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:R.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:k,data:R.computedData})}).on("mouseout",(k,H)=>{k.stopPropagation(),_.next({type:"grid",eventName:"mouseout",pluginName:t,highlightTarget:R.highlightTarget,datum:H,gridIndex:H.gridIndex,series:R.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:R.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:k,data:R.computedData})}).on("click",(k,H)=>{k.stopPropagation(),_.next({type:"grid",eventName:"click",pluginName:t,highlightTarget:R.highlightTarget,datum:H,gridIndex:H.gridIndex,series:R.SeriesDataMap.get(H.seriesLabel),seriesIndex:H.seriesIndex,seriesLabel:H.seriesLabel,groups:R.GroupDataMap.get(H.groupLabel),groupIndex:H.groupIndex,groupLabel:H.groupLabel,event:k,data:R.computedData})})}),j({barSelection:I,highlight:g.pipe(F(R=>R.map(k=>k.id))),fullChartParams:h}).pipe(C(v),U(async R=>R)).subscribe(R=>{gC({selection:R.barSelection,ids:R.highlight,fullChartParams:R.fullChartParams})}),()=>{v.next(void 0)}},f0="BarsTriangle",mC=fe(f0,U0)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=K_(f0,{selection:t,computedData$:r.computedData$,computedLayoutData$:r.computedLayoutData$,visibleComputedData$:r.visibleComputedData$,visibleComputedLayoutData$:r.visibleComputedLayoutData$,fullDataFormatter$:r.fullDataFormatter$,seriesLabels$:r.seriesLabels$,SeriesDataMap$:r.SeriesDataMap$,GroupDataMap$:r.GroupDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:r.gridAxesTransform$,gridGraphicTransform$:r.gridGraphicTransform$,gridAxesSize$:r.gridAxesSize$,gridHighlight$:r.gridHighlight$,gridContainerPosition$:r.gridContainerPosition$,isSeriesSeprate$:r.isSeriesSeprate$,event$:n.event$});return()=>{i.next(void 0),a()}});function yC({graphicGSelection:t,circleGClassName:e,circleClassName:n,visibleComputedLayoutData:r,fullParams:i,fullChartParams:a,graphicReverseScale:o}){const s=u=>{const c=u.size();return a.transitionDuration/c};let l=0;return t.each((u,c,h)=>{q(h[c]).selectAll("g").data(r[c],f=>f.id).join(f=>(l=s(f),f.append("g").classed(e,!0)),f=>f,f=>f.remove()).attr("transform",f=>`translate(${f.axisX}, ${f.axisY})`).each((f,d,p)=>{q(p[d]).selectAll("circle").data([f]).join(g=>g.append("circle").style("cursor","pointer").style("vector-effect","non-scaling-stroke").classed(n,!0).attr("opacity",0).transition().delay((m,y)=>d*l).attr("opacity",1),g=>g.transition().duration(50).attr("opacity",1),g=>g.remove()).attr("r",i.radius).attr("fill",(g,m)=>ks({datum:g,colorType:i.fillColorType,fullChartParams:a})).attr("stroke",(g,m)=>ks({datum:g,colorType:i.strokeColorType,fullChartParams:a})).attr("stroke-width",i.strokeWidth).attr("transform",`scale(${o[c][0]??1}, ${o[c][1]??1})`)})}),t.selectAll(`circle.${n}`)}function bC({selection:t,ids:e,onlyShowHighlighted:n,fullChartParams:r}){if(t.interrupt("highlight"),!e.length){t.transition("highlight").duration(200).style("opacity",n===!0?0:1);return}t.each((i,a,o)=>{e.includes(i.id)?q(o[a]).style("opacity",1).transition("highlight").duration(200):q(o[a]).style("opacity",n===!0?0:r.styles.unhighlightedOpacity).transition("highlight").duration(200)})}function vC({defsSelection:t,clipPathData:e}){t.selectAll("clipPath").data(e).join(n=>n.append("clipPath"),n=>n,n=>n.remove()).attr("id",n=>n.id).each((n,r,i)=>{q(i[r]).selectAll("rect").data([n]).join("rect").attr("x",0).attr("y",0).attr("width",a=>a.width).attr("height",a=>a.height)})}const tx=(t,{selection:e,computedData$:n,computedLayoutData$:r,visibleComputedData$:i,visibleComputedLayoutData$:a,seriesLabels$:o,SeriesDataMap$:s,GroupDataMap$:l,fullParams$:u,fullChartParams$:c,gridAxesTransform$:h,gridGraphicTransform$:f,gridGraphicReverseScale$:d,gridAxesSize$:p,gridHighlight$:g,gridContainerPosition$:m,event$:y})=>{const _=new et,v=An(t,"clipPath-box"),b=at(t,"circleG"),A=at(t,"circle"),{seriesSelection$:$,axesSelection$:x,defsSelection$:S,graphicGSelection$:E}=ur({selection:e,pluginName:t,clipPathID:v,seriesLabels$:o,gridContainerPosition$:m,gridAxesTransform$:h,gridGraphicTransform$:f}),D=j({computedData:n,gridGraphicReverseScale:d}).pipe(C(_),U(async P=>P),F(P=>P.computedData.map((L,T)=>P.gridGraphicReverseScale[T])));j({defsSelection:S,gridAxesSize:p}).pipe(C(_),U(async P=>P)).subscribe(P=>{const L=[{id:v,width:P.gridAxesSize.width,height:P.gridAxesSize.height}];vC({defsSelection:P.defsSelection,clipPathData:L})});const w=c.pipe(C(_),F(P=>P.highlightTarget),nt()),O=j({graphicGSelection:E,visibleComputedLayoutData:a,graphicReverseScale:D,fullChartParams:c,fullParams:u}).pipe(C(_),U(async P=>P),F(P=>yC({graphicGSelection:P.graphicGSelection,circleGClassName:b,circleClassName:A,visibleComputedLayoutData:P.visibleComputedLayoutData,fullParams:P.fullParams,fullChartParams:P.fullChartParams,graphicReverseScale:P.graphicReverseScale})));j({graphicSelection:O,computedData:n,SeriesDataMap:s,GroupDataMap:l,highlightTarget:w}).pipe(C(_),U(async P=>P)).subscribe(P=>{P.graphicSelection.on("mouseover",(L,T)=>{L.stopPropagation(),y.next({type:"grid",eventName:"mouseover",pluginName:t,highlightTarget:P.highlightTarget,datum:T,gridIndex:T.gridIndex,series:P.SeriesDataMap.get(T.seriesLabel),seriesIndex:T.seriesIndex,seriesLabel:T.seriesLabel,groups:P.GroupDataMap.get(T.groupLabel),groupIndex:T.groupIndex,groupLabel:T.groupLabel,event:L,data:P.computedData})}).on("mousemove",(L,T)=>{L.stopPropagation(),y.next({type:"grid",eventName:"mousemove",pluginName:t,highlightTarget:P.highlightTarget,data:P.computedData,datum:T,gridIndex:T.gridIndex,series:P.SeriesDataMap.get(T.seriesLabel),seriesIndex:T.seriesIndex,seriesLabel:T.seriesLabel,groups:P.GroupDataMap.get(T.groupLabel),groupIndex:T.groupIndex,groupLabel:T.groupLabel,event:L})}).on("mouseout",(L,T)=>{L.stopPropagation(),y.next({type:"grid",eventName:"mouseout",pluginName:t,highlightTarget:P.highlightTarget,datum:T,gridIndex:T.gridIndex,series:P.SeriesDataMap.get(T.seriesLabel),seriesIndex:T.seriesIndex,seriesLabel:T.seriesLabel,groups:P.GroupDataMap.get(T.groupLabel),groupIndex:T.groupIndex,groupLabel:T.groupLabel,event:L,data:P.computedData})}).on("click",(L,T)=>{L.stopPropagation(),y.next({type:"grid",eventName:"click",pluginName:t,highlightTarget:P.highlightTarget,datum:T,gridIndex:T.gridIndex,series:P.SeriesDataMap.get(T.seriesLabel),seriesIndex:T.seriesIndex,seriesLabel:T.seriesLabel,groups:P.GroupDataMap.get(T.groupLabel),groupIndex:T.groupIndex,groupLabel:T.groupLabel,event:L,data:P.computedData})})});const N=u.pipe(C(_),F(P=>P.onlyShowHighlighted),nt());return j({graphicSelection:O,highlight:g.pipe(F(P=>P.map(L=>L.id))),onlyShowHighlighted:N,fullChartParams:c}).pipe(C(_),U(async P=>P)).subscribe(P=>{bC({selection:P.graphicSelection,ids:P.highlight,onlyShowHighlighted:P.onlyShowHighlighted,fullChartParams:P.fullChartParams})}),()=>{_.next(void 0)}},h0="Dots",_C=fe(h0,H0)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=tx(h0,{selection:t,computedData$:r.computedData$,computedLayoutData$:r.computedLayoutData$,visibleComputedData$:r.visibleComputedData$,visibleComputedLayoutData$:r.visibleComputedLayoutData$,seriesLabels$:r.seriesLabels$,SeriesDataMap$:r.SeriesDataMap$,GroupDataMap$:r.GroupDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:r.gridAxesTransform$,gridGraphicTransform$:r.gridGraphicTransform$,gridGraphicReverseScale$:r.gridGraphicReverseScale$,gridAxesSize$:r.gridAxesSize$,gridHighlight$:r.gridHighlight$,gridContainerPosition$:r.gridContainerPosition$,event$:n.event$});return()=>{i.next(void 0),a()}}),xC={listRectWidth:14,listRectHeight:14,listRectRadius:0};function d0(t,e){const n=t<e.colors[e.colorScheme].series.length?t:t%e.colors[e.colorScheme].series.length;return e.colors[e.colorScheme].series[n]}const Gu=(t,{rootSelection:e,seriesLabels$:n,fullParams$:r,layout$:i,fullChartParams$:a,textSizePx$:o})=>{const s=at(t,"root-position"),l=at(t,"legend-card"),u=at(t,"legend-list"),c=at(t,"legend-item"),h=new et,f=j({seriesLabels:n,fullChartParams:a}).pipe(C(h),U(async x=>x),F(x=>{const S=new Map;let E=0;return x.seriesLabels.forEach((D,w)=>{if(!S.has(D)){const O=d0(E,x.fullChartParams);S.set(D,O),E++}}),S})),d=n.pipe(C(h),F(x=>{const S=new Set;let E=[];return x.forEach(D=>{S.has(D)?E.push(!1):E.push(!0),S.add(D)}),E})),p=r.pipe(C(h),F(x=>x.position==="bottom"||x.position==="top"?"row":"column")),g=j({fullParams:r,layout:i}).pipe(C(h),U(async x=>x),F(x=>{const S=x.fullParams.padding*2+x.fullParams.gap*2;return x.fullParams.position==="bottom"||x.fullParams.position==="top"?x.layout.rootWidth-S:x.layout.rootHeight-S})),m=j({layout:i,fullParams:r}).pipe(C(h),U(async x=>x),F(x=>{let S=0,E=0;return x.fullParams.position==="bottom"?(E=x.layout.rootHeight,x.fullParams.justify==="start"?S=0:x.fullParams.justify==="center"?S=x.layout.rootWidth/2:x.fullParams.justify==="end"&&(S=x.layout.rootWidth)):x.fullParams.position==="right"?(S=x.layout.rootWidth,x.fullParams.justify==="start"?E=0:x.fullParams.justify==="center"?E=x.layout.rootHeight/2:x.fullParams.justify==="end"&&(E=x.layout.rootHeight)):x.fullParams.position==="top"?(E=0,x.fullParams.justify==="start"?S=0:x.fullParams.justify==="center"?S=x.layout.rootWidth/2:x.fullParams.justify==="end"&&(S=x.layout.rootWidth)):x.fullParams.position==="left"&&(S=0,x.fullParams.justify==="start"?E=0:x.fullParams.justify==="center"?E=x.layout.rootHeight/2:x.fullParams.justify==="end"&&(E=x.layout.rootHeight)),{x:S,y:E}})).pipe(C(h),F(x=>e.selectAll(`g.${s}`).data([x]).join(S=>S.append("g").classed(s,!0).attr("transform",E=>`translate(${E.x}, ${E.y})`),S=>S.transition().attr("transform",E=>`translate(${E.x}, ${E.y})`),S=>S.remove()))),y=r.pipe(C(h),F(x=>x.seriesList[0]?x.seriesList[0]:xC)),_=j({visibleList:d,fullParams:r,fullChartParams:a,seriesLabels:n,lineDirection:p,lineMaxSize:g,defaultListStyle:y,SeriesLabelColorMap:f,textSizePx:o}).pipe(C(h),U(async x=>x),F(x=>x.seriesLabels.reduce((S,E,D)=>{if(!x.visibleList[D])return S;const w=Y_(E,x.textSizePx),O=x.textSizePx*1.5+w,N=x.SeriesLabelColorMap.get(E),P=S[0]&&S[0][0]?S[S.length-1][S[S.length-1].length-1]:null,{translateX:L,translateY:T,lineIndex:G,itemIndex:z}=((I,R,k)=>{let H=0,J=0,B=0,V=0;if(I.lineDirection==="column"){let W=k?k.translateY+I.textSizePx+I.fullParams.gap:0;if(W+I.textSizePx>I.lineMaxSize){B=k.lineIndex+1,V=0,J=0;const ft=R[R.length-1].reduce((X,tt)=>tt.itemWidth>X?tt.itemWidth:X,0);H=k.translateX+ft+I.fullParams.gap}else B=k?k.lineIndex:0,V=k?k.itemIndex+1:0,J=W,H=k?k.translateX:0}else{let W=k?k.translateX+k.itemWidth+I.fullParams.gap:0;W+O>I.lineMaxSize?(B=k.lineIndex+1,V=0,H=0):(B=k?k.lineIndex:0,V=k?k.itemIndex+1:0,H=W),J=(I.textSizePx+I.fullParams.gap)*B}return{translateX:H,translateY:J,lineIndex:B,itemIndex:V}})(x,S,P);S[G]||(S[G]=[]);const M=x.fullParams.seriesList[z]?x.fullParams.seriesList[z]:x.defaultListStyle;return S[G].push({id:E,seriesLabel:E,seriesIndex:D,lineIndex:G,itemIndex:z,text:E,itemWidth:O,translateX:L,translateY:T,color:N,listRectWidth:M.listRectWidth,listRectHeight:M.listRectHeight,listRectRadius:M.listRectRadius}),S},[])),Dt(1)),v=j({fullParams:r,fullChartParams:a,lineDirection:p,lengendItems:_,textSizePx:o}).pipe(C(h),U(async x=>x),F(x=>{const{width:S,height:E}=((D,w)=>{let O=0,N=0;if(!w.length||!w[0].length)return{width:O,height:N};const P=w[0][w[0].length-1];return D.lineDirection==="column"?(O=w.reduce((L,T)=>{const G=T.reduce((z,M)=>M.itemWidth>z?M.itemWidth:z,0);return L+G},0),O+=D.fullParams.gap*(w.length-1),N=P.translateY+D.textSizePx):(O=P.translateX+P.itemWidth,N=D.textSizePx*w.length+D.fullParams.gap*(w.length-1)),{width:O,height:N}})(x,x.lengendItems);return{direction:x.lineDirection,width:S,height:E,translateX:x.fullParams.gap,translateY:x.fullParams.gap}}),Dt(1)),b=j({fullParams:r,lengendList:v}).pipe(C(h),U(async x=>x),F(x=>{const S=x.lengendList.width+x.fullParams.gap*2,E=x.lengendList.height+x.fullParams.gap*2;let D=0,w=0;return x.fullParams.position==="left"?x.fullParams.justify==="start"?(D=x.fullParams.padding,w=x.fullParams.padding):x.fullParams.justify==="center"?(D=x.fullParams.padding,w=-E/2):x.fullParams.justify==="end"&&(D=x.fullParams.padding,w=-E-x.fullParams.padding):x.fullParams.position==="right"?x.fullParams.justify==="start"?(D=-S-x.fullParams.padding,w=x.fullParams.padding):x.fullParams.justify==="center"?(D=-S-x.fullParams.padding,w=-E/2):x.fullParams.justify==="end"&&(D=-S-x.fullParams.padding,w=-E-x.fullParams.padding):x.fullParams.position==="top"?x.fullParams.justify==="start"?(D=x.fullParams.padding,w=x.fullParams.padding):x.fullParams.justify==="center"?(D=-S/2,w=x.fullParams.padding):x.fullParams.justify==="end"&&(D=-S-x.fullParams.padding,w=x.fullParams.padding):x.fullParams.justify==="start"?(D=x.fullParams.padding,w=-E-x.fullParams.padding):x.fullParams.justify==="center"?(D=-S/2,w=-E-x.fullParams.padding):x.fullParams.justify==="end"&&(D=-S-x.fullParams.padding,w=-E-x.fullParams.padding),{width:S,height:E,translateX:D,translateY:w}})),A=j({rootPositionSelection:m,fullParams:r,fullChartParams:a,legendCard:b}).pipe(C(h),U(async x=>x),F(x=>x.rootPositionSelection.selectAll("g").data([x.legendCard]).join(S=>S.append("g").classed(l,!0).attr("transform",E=>`translate(${E.translateX}, ${E.translateY})`),S=>S.transition().attr("transform",E=>`translate(${E.translateX}, ${E.translateY})`),S=>S.remove()).each((S,E,D)=>{q(D[E]).selectAll("rect").data([S]).join("rect").attr("width",w=>w.width).attr("height",w=>w.height).attr("fill",Mt(x.fullParams.backgroundFill,x.fullChartParams)).attr("stroke",Mt(x.fullParams.backgroundStroke,x.fullChartParams))}))),$=j({lengendCardSelection:A,fullParams:r,lengendList:v}).pipe(C(h),U(async x=>x),F(x=>x.lengendCardSelection.selectAll("g").data([x.lengendList]).join(S=>S.append("g").classed(u,!0).attr("transform",E=>`translate(${E.translateX}, ${E.translateY})`),S=>S.transition().attr("transform",E=>`translate(${E.translateX}, ${E.translateY})`),S=>S.remove())));return j({lengendListSelection:$,fullParams:r,fullChartParams:a,lengendItems:_,textSizePx:o}).pipe(C(h),U(async x=>x),F(x=>{const S=x.lengendItems[0]?x.lengendItems.flat():[];return x.lengendListSelection.selectAll(`g.${c}`).data(S).join(E=>E.append("g").classed(c,!0).attr("cursor","default"),E=>E,E=>E.remove()).attr("transform",(E,D)=>`translate(${E.translateX}, ${E.translateY})`).each((E,D,w)=>{const O=x.textSizePx/2,N=-E.listRectWidth/2,P=-E.listRectHeight/2;q(w[D]).selectAll("rect").data([E]).join("rect").attr("x",O).attr("y",O).attr("width",L=>L.listRectWidth).attr("height",L=>L.listRectHeight).attr("transform",L=>`translate(${N}, ${P})`).attr("fill",L=>L.color).attr("rx",L=>L.listRectRadius),q(w[D]).selectAll("text").data([E]).join(L=>L.append("text").attr("dominant-baseline","hanging"),L=>L,L=>L.remove()).attr("x",x.textSizePx*1.5).attr("font-size",x.fullChartParams.styles.textSize).attr("fill",L=>x.fullParams.textColorType==="series"?d0(L.seriesIndex,x.fullChartParams):Mt(x.fullParams.textColorType,x.fullChartParams)).text(L=>L.text)})})).subscribe(),()=>{h.next(void 0)}},p0="GridLegend",SC=fe(p0,W0)(({selection:t,rootSelection:e,observer:n,subject:r})=>{const i=new et,a=n.SeriesDataMap$.pipe(C(i),F(l=>Array.from(l.keys()))),o=n.fullParams$.pipe(C(i),F(l=>{const u=[{listRectWidth:l.listRectWidth,listRectHeight:l.listRectHeight,listRectRadius:l.listRectRadius}];return{...l,seriesList:u}})),s=Gu(p0,{rootSelection:e,seriesLabels$:a,fullParams$:o,layout$:n.layout$,fullChartParams$:n.fullChartParams$,textSizePx$:n.textSizePx$});return()=>{i.next(void 0),s()}}),Ml=6;function AC({selection:t,xAxisClassName:e,groupingLabelClassName:n,params:r,tickTextAlign:i,axisLabelAlign:a,gridAxesSize:o,fullDataFormatter:s,chartParams:l,groupScale:u,groupScaleDomain:c,groupLabels:h,textTransform:f}){const d=t.selectAll(`g.${e}`).data([r]).join("g").classed(e,!0);t.selectAll(`g.${n}`).data([r]).join("g").classed(n,!0).each((y,_,v)=>{q(v[_]).selectAll("text").data([y]).join(b=>b.append("text").style("font-weight","bold"),b=>b,b=>b.remove()).attr("text-anchor",a.textAnchor).attr("dominant-baseline",a.dominantBaseline).attr("font-size",l.styles.textSize).style("fill",Mt(r.labelColorType,l)).style("transform",f).text(b=>s.grid.groupAxis.label)}).attr("transform",y=>`translate(${o.width+y.tickPadding+r.labelOffset[0]}, ${-y.tickPadding-Ml-r.labelOffset[1]})`);const p=Math.floor(c[1])-Math.ceil(c[0])+1,g=I1(u).scale(u).ticks(r.ticks==="all"||r.ticks>p?p:r.ticks).tickSize(r.tickFullLine==!0?-o.height:Ml).tickSizeOuter(0).tickFormat(y=>{const _=h[y]??"";return Zh(_,r.tickFormat)}).tickPadding(r.tickPadding),m=d.transition().duration(100).call(g);return m.selectAll("line").style("fill","none").style("stroke",r.tickLineVisible==!0?Mt(r.tickColorType,l):"none").style("stroke-dasharray",r.tickFullLineDasharray).attr("pointer-events","none"),m.selectAll("path").style("fill","none").style("stroke",r.axisLineVisible==!0?Mt(r.axisLineColorType,l):"none").style("shape-rendering","crispEdges"),d.selectAll("text").attr("font-size",l.styles.textSize).style("color",Mt(r.tickTextColorType,l)).attr("text-anchor",i.textAnchor).attr("dominant-baseline",i.dominantBaseline).attr("transform-origin",`0 -${r.tickPadding+Ml}`).style("transform",f),d}const ex=(t,{selection:e,computedData$:n,fullParams$:r,fullDataFormatter$:i,fullChartParams$:a,gridAxesTransform$:o,gridAxesReverseTransform$:s,gridAxesSize$:l,gridContainerPosition$:u,isSeriesSeprate$:c})=>{const h=new et,f=at(t,"container"),d=at(t,"xAxisG"),p=at(t,"xAxis"),g=at(t,"groupingLabel"),m=j({computedData:n.pipe(nt((S,E)=>S.length===E.length)),isSeriesSeprate:c}).pipe(C(h),U(async S=>S),F(S=>S.isSeriesSeprate?S.computedData:[S.computedData[0]]),F((S,E)=>e.selectAll(`g.${f}`).data(S,D=>D[0]?D[0].seriesIndex:E).join("g").classed(f,!0))),y=m.pipe(C(h),F((S,E)=>S.selectAll(`g.${d}`).data([d]).join("g").classed(d,!0)));j({containerSelection:m,gridContainerPosition:u}).pipe(C(h),U(async S=>S)).subscribe(S=>{S.containerSelection.attr("transform",(E,D)=>{const w=S.gridContainerPosition[D]??S.gridContainerPosition[0],O=w.translate,N=w.scale;return`translate(${O[0]}, ${O[1]}) scale(${N[0]}, ${N[1]})`})}),j({axisSelection:y,gridAxesTransform:o}).pipe(C(h),U(async S=>S)).subscribe(S=>{S.axisSelection.style("transform",S.gridAxesTransform.value)});const _=j({fullParams:r,fullDataFormatter:i,gridAxesReverseTransform:s,gridContainerPosition:u}).pipe(C(h),U(async S=>S),F(S=>{const E=`translate(${S.gridAxesReverseTransform.translate[0]}px, ${S.gridAxesReverseTransform.translate[1]}px)`,D=`rotate(${S.gridAxesReverseTransform.rotate}deg) rotateX(${S.gridAxesReverseTransform.rotateX}deg) rotateY(${S.gridAxesReverseTransform.rotateY}deg)`,w=`scale(${1/S.gridContainerPosition[0].scale[0]}, ${1/S.gridContainerPosition[0].scale[1]})`,O=`rotate(${S.fullDataFormatter.grid.groupAxis.position==="left"&&S.fullDataFormatter.grid.valueAxis.position==="top"||S.fullDataFormatter.grid.groupAxis.position==="right"&&S.fullDataFormatter.grid.valueAxis.position==="bottom"?S.fullParams.tickTextRotate+180:S.fullParams.tickTextRotate}deg)`;return`${E} ${D} ${w} ${O}`}),nt()),v=j({fullDataFormatter:i,gridAxesSize:l,computedData:n}).pipe(C(h),U(async S=>S),F(S=>{const E=S.computedData[0]?S.computedData[0].length-1:0,D=S.fullDataFormatter.grid.groupAxis.scaleDomain[0]==="auto"?0-S.fullDataFormatter.grid.groupAxis.scalePadding:S.fullDataFormatter.grid.groupAxis.scaleDomain[0]-S.fullDataFormatter.grid.groupAxis.scalePadding,w=S.fullDataFormatter.grid.groupAxis.scaleDomain[1]==="auto"?E+S.fullDataFormatter.grid.groupAxis.scalePadding:S.fullDataFormatter.grid.groupAxis.scaleDomain[1]+S.fullDataFormatter.grid.groupAxis.scalePadding;return[D,w]}),Dt(1)),b=j({groupScaleDomain:v,gridAxesSize:l}).pipe(C(h),U(async S=>S),F(S=>yu().domain(S.groupScaleDomain).range([0,S.gridAxesSize.width]))),A=n.pipe(F(S=>(S[0]??[]).map(E=>E.groupLabel))),$=j({fullDataFormatter:i,fullParams:r}).pipe(C(h),U(async S=>S),F(S=>{let E="middle",D="hanging";return S.fullDataFormatter.grid.groupAxis.position==="bottom"?(E=S.fullParams.tickTextRotate?"end":"middle",D="hanging"):S.fullDataFormatter.grid.groupAxis.position==="top"?(E=S.fullParams.tickTextRotate?"end":"middle",D="auto"):S.fullDataFormatter.grid.groupAxis.position==="left"?(E="end",D="middle"):S.fullDataFormatter.grid.groupAxis.position==="right"&&(E="start",D="middle"),{textAnchor:E,dominantBaseline:D}})),x=i.pipe(C(h),F(S=>{let E="start",D="hanging";return S.grid.groupAxis.position==="bottom"?D="hanging":S.grid.groupAxis.position==="top"?D="auto":S.grid.groupAxis.position==="left"?E="end":S.grid.groupAxis.position==="right"&&(E="start"),S.grid.valueAxis.position==="left"?E="start":S.grid.valueAxis.position==="right"?E="end":S.grid.valueAxis.position==="bottom"?D="auto":S.grid.valueAxis.position==="top"&&(D="hanging"),{textAnchor:E,dominantBaseline:D}}));return j({axisSelection:y,params:r,tickTextAlign:$,axisLabelAlign:x,gridAxesSize:l,fullDataFormatter:i,chartParams:a,groupScale:b,groupScaleDomain:v,groupLabels:A,textTransform:_}).pipe(C(h),U(async S=>S)).subscribe(S=>{AC({selection:S.axisSelection,xAxisClassName:p,groupingLabelClassName:g,params:S.params,tickTextAlign:S.tickTextAlign,axisLabelAlign:S.axisLabelAlign,gridAxesSize:S.gridAxesSize,fullDataFormatter:S.fullDataFormatter,chartParams:S.chartParams,groupScale:S.groupScale,groupScaleDomain:S.groupScaleDomain,groupLabels:S.groupLabels,textTransform:S.textTransform})}),()=>{h.next(void 0)}},g0="GroupAxis",PC=fe(g0,uf)(({selection:t,name:e,observer:n,subject:r})=>{const i=new et,a=ex(g0,{selection:t,computedData$:n.computedData$,fullParams$:n.fullParams$,fullDataFormatter$:n.fullDataFormatter$,fullChartParams$:n.fullChartParams$,gridAxesTransform$:n.gridAxesTransform$,gridAxesReverseTransform$:n.gridAxesReverseTransform$,gridAxesSize$:n.gridAxesSize$,gridContainerPosition$:n.gridContainerPosition$,isSeriesSeprate$:n.isSeriesSeprate$});return()=>{i.next(void 0),a()}}),m0=6;function wC({selection:t,yAxisClassName:e,textClassName:n,fullParams:r,tickTextAlign:i,axisLabelAlign:a,gridAxesSize:o,fullDataFormatter:s,fullChartParams:l,valueScale:u,textTransform:c,minAndMax:h}){const f=t.selectAll(`g.${e}`).data([r]).join("g").classed(e,!0);t.selectAll(`g.${n}`).data([r]).join("g").classed(n,!0).each((m,y,_)=>{q(_[y]).selectAll("text").data([m]).join(v=>v.append("text").style("font-weight","bold"),v=>v,v=>v.remove()).attr("text-anchor",a.textAnchor).attr("dominant-baseline",a.dominantBaseline).attr("font-size",l.styles.textSize).style("fill",Mt(r.labelColorType,l)).style("transform",c).text(v=>s.grid.valueAxis.label)}).attr("transform",m=>`translate(${-m.tickPadding+r.labelOffset[0]}, ${o.height+m.tickPadding+r.labelOffset[1]})`);const d=h[1]-h[0],p=C1(u).scale(u).ticks(d>r.ticks?r.ticks:h[0]===0&&h[1]===0?1:Math.ceil(d)).tickFormat(m=>Zh(m,r.tickFormat)).tickSize(r.tickFullLine==!0?-o.width:m0).tickPadding(r.tickPadding),g=f.transition().duration(100).call(p);return g.selectAll("line").style("fill","none").style("stroke",r.tickLineVisible==!0?Mt(r.tickColorType,l):"none").style("stroke-dasharray",r.tickFullLineDasharray).attr("pointer-events","none"),g.selectAll("path").style("fill","none").style("stroke",r.axisLineVisible==!0?Mt(r.axisLineColorType,l):"none").style("shape-rendering","crispEdges"),f.selectAll("text").attr("font-size",l.styles.textSize).style("color",Mt(r.tickTextColorType,l)).attr("text-anchor",i.textAnchor).attr("dominant-baseline",i.dominantBaseline).attr("transform-origin",`-${r.tickPadding+m0} 0`).style("transform",c),f}const oi=(t,{selection:e,computedData$:n,fullParams$:r,fullDataFormatter$:i,fullChartParams$:a,gridAxesTransform$:o,gridAxesReverseTransform$:s,gridAxesSize$:l,gridContainerPosition$:u,isSeriesSeprate$:c})=>{const h=new et,f=at(t,"container"),d=at(t,"yAxisG"),p=at(t,"yAxis"),g=at(t,"text"),m=j({computedData:n.pipe(nt((x,S)=>x.length===S.length)),isSeriesSeprate:c}).pipe(C(h),U(async x=>x),F(x=>x.isSeriesSeprate?x.computedData:[x.computedData[0]]),F((x,S)=>e.selectAll(`g.${f}`).data(x,E=>E[0]?E[0].seriesIndex:S).join("g").classed(f,!0))),y=m.pipe(C(h),F((x,S)=>x.selectAll(`g.${d}`).data([d]).join("g").classed(d,!0)));j({containerSelection:m,gridContainerPosition:u}).pipe(C(h),U(async x=>x)).subscribe(x=>{x.containerSelection.attr("transform",(S,E)=>{const D=x.gridContainerPosition[E]??x.gridContainerPosition[0],w=D.translate,O=D.scale;return`translate(${w[0]}, ${w[1]}) scale(${O[0]}, ${O[1]})`})}),j({axisSelection:y,gridAxesTransform:o}).pipe(C(h),U(async x=>x)).subscribe(x=>{x.axisSelection.style("transform",x.gridAxesTransform.value)});const _=j({fullParams:r,fullDataFormatter:i,gridAxesReverseTransform:s,gridContainerPosition:u}).pipe(C(h),U(async x=>x),F(x=>{const S=`translate(${x.gridAxesReverseTransform.translate[0]}px, ${x.gridAxesReverseTransform.translate[1]}px)`,E=`rotate(${x.gridAxesReverseTransform.rotate}deg) rotateX(${x.gridAxesReverseTransform.rotateX}deg) rotateY(${x.gridAxesReverseTransform.rotateY}deg)`,D=`scale(${1/x.gridContainerPosition[0].scale[0]}, ${1/x.gridContainerPosition[0].scale[1]})`,w=`rotate(${x.fullDataFormatter.grid.groupAxis.position==="left"&&x.fullDataFormatter.grid.valueAxis.position==="top"||x.fullDataFormatter.grid.groupAxis.position==="right"&&x.fullDataFormatter.grid.valueAxis.position==="bottom"?x.fullParams.tickTextRotate+180:x.fullParams.tickTextRotate}deg)`;return`${S} ${E} ${D} ${w}`}),nt()),v=new dt(x=>{j({fullDataFormatter:i,gridAxesSize:l,computedData:n}).pipe(C(h),U(async S=>S)).subscribe(S=>{const E=S.computedData[0]?S.computedData[0].length-1:0,D=S.fullDataFormatter.grid.groupAxis.scaleDomain[0]==="auto"?0-S.fullDataFormatter.grid.groupAxis.scalePadding:S.fullDataFormatter.grid.groupAxis.scaleDomain[0]-S.fullDataFormatter.grid.groupAxis.scalePadding,w=S.fullDataFormatter.grid.groupAxis.scaleDomain[1]==="auto"?E+S.fullDataFormatter.grid.groupAxis.scalePadding:S.fullDataFormatter.grid.groupAxis.scaleDomain[1]+S.fullDataFormatter.grid.groupAxis.scalePadding,O=S.computedData.map((P,L)=>P.filter((T,G)=>G>=D&&G<=w)),N=CI(O.flat());x.next(N)})}),b=new dt(x=>{j({fullDataFormatter:i,gridAxesSize:l,minAndMax:v}).pipe(C(h),U(async S=>S)).subscribe(S=>{const E=a1({maxValue:S.minAndMax[1],minValue:S.minAndMax[0],axisWidth:S.gridAxesSize.height,scaleDomain:S.fullDataFormatter.grid.valueAxis.scaleDomain,scaleRange:S.fullDataFormatter.grid.valueAxis.scaleRange});x.next(E)})}),A=i.pipe(C(h),F(x=>{let S="start",E="hanging";return x.grid.valueAxis.position==="left"?(S="end",E="middle"):x.grid.valueAxis.position==="right"?(S="start",E="middle"):x.grid.valueAxis.position==="bottom"?(S="middle",E="hanging"):x.grid.valueAxis.position==="top"&&(S="middle",E="auto"),{textAnchor:S,dominantBaseline:E}})),$=i.pipe(C(h),F(x=>{let S="start",E="hanging";return x.grid.groupAxis.position==="bottom"?E="auto":x.grid.groupAxis.position==="top"?E="hanging":x.grid.groupAxis.position==="left"?S="start":x.grid.groupAxis.position==="right"&&(S="end"),x.grid.valueAxis.position==="left"?S="end":x.grid.valueAxis.position==="right"?S="start":x.grid.valueAxis.position==="bottom"?E="hanging":x.grid.valueAxis.position==="top"&&(E="auto"),{textAnchor:S,dominantBaseline:E}}));return j({axisSelection:y,fullParams:r,tickTextAlign:A,axisLabelAlign:$,computedData:n,gridAxesSize:l,fullDataFormatter:i,fullChartParams:a,valueScale:b,textTransform:_,minAndMax:v}).pipe(C(h),U(async x=>x)).subscribe(x=>{wC({selection:x.axisSelection,yAxisClassName:p,textClassName:g,fullParams:x.fullParams,tickTextAlign:x.tickTextAlign,axisLabelAlign:x.axisLabelAlign,gridAxesSize:x.gridAxesSize,fullDataFormatter:x.fullDataFormatter,fullChartParams:x.fullChartParams,valueScale:x.valueScale,textTransform:x.textTransform,minAndMax:x.minAndMax})}),()=>{h.next(void 0)}},y0="ValueAxis",TC=fe(y0,lf)(({selection:t,name:e,observer:n,subject:r})=>{const i=new et,a=oi(y0,{selection:t,computedData$:n.computedData$,fullParams$:n.fullParams$,fullDataFormatter$:n.fullDataFormatter$,fullChartParams$:n.fullChartParams$,gridAxesTransform$:n.gridAxesTransform$,gridAxesReverseTransform$:n.gridAxesReverseTransform$,gridAxesSize$:n.gridAxesSize$,gridContainerPosition$:n.gridContainerPosition$,isSeriesSeprate$:n.isSeriesSeprate$});return()=>{i.next(void 0),a()}}),b0="ValueStackAxis",EC=fe(b0,V0)(({selection:t,name:e,observer:n,subject:r})=>{const i=new et,a=oi(b0,{selection:t,computedData$:n.computedStackedData$,fullParams$:n.fullParams$,fullDataFormatter$:n.fullDataFormatter$,fullChartParams$:n.fullChartParams$,gridAxesTransform$:n.gridAxesTransform$,gridAxesReverseTransform$:n.gridAxesReverseTransform$,gridAxesSize$:n.gridAxesSize$,gridContainerPosition$:n.gridContainerPosition$,isSeriesSeprate$:n.isSeriesSeprate$});return()=>{i.next(void 0),a()}}),nx="ScalingArea",$C=at(nx,"rect"),DC=fe(nx,Y0)(({selection:t,rootSelection:e,name:n,observer:r,subject:i})=>{const a=new et,o=e.insert("rect","g").classed($C,!0).attr("opacity",0);let s={k:1,x:0,y:0};r.layout$.pipe(C(a)).subscribe(u=>{o.attr("width",u.width).attr("height",u.height).attr("x",u.left).attr("y",u.top)});const l=r.computedData$.pipe(F(u=>u[0]?u[0].length-1:0),nt());return j({initGroupAxis:r.fullDataFormatter$.pipe(F(u=>u.grid.groupAxis),E2()),fullDataFormatter:r.fullDataFormatter$,groupMaxIndex:l,layout:r.layout$,axisSize:r.gridAxesSize$}).pipe(C(a),U(async u=>u)).subscribe(u=>{const c=u.groupMaxIndex,h=u.initGroupAxis.scaleDomain[0]==="auto"?0-u.initGroupAxis.scalePadding:u.initGroupAxis.scaleDomain[0]-u.initGroupAxis.scalePadding,f=u.initGroupAxis.scaleDomain[1]==="auto"?c+u.initGroupAxis.scalePadding:u.initGroupAxis.scaleDomain[1]+u.initGroupAxis.scalePadding,d=a1({maxValue:u.groupMaxIndex,minValue:0,axisWidth:u.axisSize.width,scaleDomain:[h,f],scaleRange:[0,1]}).copy(),p=V_().on("zoom",function(g){const m=g.transform,y=b=>{const A=Math.round(b);return Math.min(c,Math.max(0,A))},_=u.fullDataFormatter.grid.groupAxis.position==="bottom"||u.fullDataFormatter.grid.groupAxis.position==="top"?m.rescaleX(d).domain().map(y):m.rescaleY(d).domain().map(y);_[0]<=0&&_[1]>=c?m.k<s.k&&(m.k=s.k,m.x=s.x,m.y=s.y):_[1]-_[0]<=1&&m.k>s.k&&(m.k=s.k,m.x=s.x,m.y=s.y),s.k=m.k,s.x=m.x,s.y=m.y;const v={...u.fullDataFormatter,grid:{...u.fullDataFormatter.grid,groupAxis:{...u.fullDataFormatter.grid.groupAxis,scaleDomain:_}}};i.dataFormatter$.next(v)});e.call(p)}),()=>{a.next(void 0),o.remove()}});function v0(t,e){let n=new dt(()=>{});return t.each(function(){const r=Fl(this,e);n=Bl(n,r)}),n}const Mo="GroupAux",Wc=at(Mo,"label-box");function LC({groupLabel:t,axisX:e,axisHeight:n,fullParams:r}){return r.showLine&&t?[{id:t,x1:e,x2:e,y1:0,y2:n}]:[]}function MC({selection:t,pluginName:e,lineData:n,fullParams:r,fullChartParams:i}){const a=at(e,"auxline"),o=t.selectAll(`line.${a}`).data(n),s=o.enter().append("line").classed(a,!0).style("stroke",u=>Mt(r.lineColorType,i)).style("stroke-width",1).style("stroke-dasharray",r.lineDashArray??"none").style("pointer-events","none"),l=o.merge(s);return o.exit().remove(),s.attr("x1",u=>u.x1).attr("y1",u=>u.y1).attr("x2",u=>u.x2).attr("y2",u=>u.y2),o.transition().duration(50).attr("x1",u=>u.x1).attr("y1",u=>u.y1).attr("x2",u=>u.x2).attr("y2",u=>u.y2),l}function RC(t){t.selectAll("line").data([]).exit().remove()}function IC({groupLabel:t,axisX:e,fullParams:n}){return n.showLabel&&t?[{id:t,x:e,y:-n.labelPadding,text:Zh(t,n.labelTextFormat)}]:[]}function CC({selection:t,labelData:e,fullParams:n,fullDataFormatter:r,fullChartParams:i,labelTransform:a,textSizePx:o}){const s=o+4,l=t.selectAll(`g.${Wc}`).data(e),u=l.enter().append("g").classed(Wc,!0).style("cursor","pointer"),c=u.merge(l);return u.attr("transform",(h,f)=>`translate(${h.x}, ${h.y})`),l.transition().duration(50).attr("transform",(h,f)=>`translate(${h.x}, ${h.y})`),l.exit().remove(),c.each((h,f,d)=>{const p=Y_(h.text,o)+12;let g=-p/2,m=-2;r.grid.groupAxis.position==="bottom"?(g=-p/2,m=2):r.grid.groupAxis.position==="left"?(g=-p+2,m=-s/2):r.grid.groupAxis.position==="right"?(g=-2,m=-s/2):r.grid.groupAxis.position==="top"&&(g=-p/2,m=-s+2);const y=q(d[f]).selectAll("rect").data([h]),_=y.enter().append("rect").attr("height",`${s}px`).attr("fill",A=>Mt(n.labelColorType,i)).attr("x",g).attr("y",m).attr("rx",5).attr("ry",5).style("cursor","pointer");y.merge(_).attr("width",A=>`${p}px`).style("transform",a),y.exit().remove();const v=q(d[f]).selectAll("text").data([h]),b=v.enter().append("text").style("dominant-baseline","hanging").style("cursor","pointer");v.merge(b).text(A=>A.text).style("transform",a).attr("fill",A=>Mt(n.labelTextColorType,i)).attr("font-size",i.styles.textSize).attr("x",g+6).attr("y",m),v.exit().remove()}),c}function NC(t){t.selectAll(`g.${Wc}`).data([]).exit().remove()}const kC=fe(Mo,sf)(({selection:t,rootSelection:e,name:n,subject:r,observer:i})=>{const a=new et;let o=!1;const s=e.insert("rect","g").classed(at(Mo,"rect"),!0).attr("opacity",0),{seriesSelection$:l,axesSelection$:u,defsSelection$:c,graphicGSelection$:h}=ur({selection:t,pluginName:Mo,clipPathID:"test",seriesLabels$:i.seriesLabels$,gridContainerPosition$:i.gridContainerPosition$,gridAxesTransform$:i.gridAxesTransform$,gridGraphicTransform$:i.gridGraphicTransform$});i.layout$.pipe(C(a)).subscribe(b=>{s.attr("width",b.rootWidth).attr("height",b.rootHeight)});const f=new dt(b=>{j({fullDataFormatter:i.fullDataFormatter$,gridAxesSize:i.gridAxesSize$,computedData:i.computedData$}).pipe(C(a),U(async A=>A)).subscribe(A=>{const $=A.computedData[0]?A.computedData[0].length-1:0,x=A.fullDataFormatter.grid.groupAxis.scaleDomain[0]==="auto"?0-A.fullDataFormatter.grid.groupAxis.scalePadding:A.fullDataFormatter.grid.groupAxis.scaleDomain[0]-A.fullDataFormatter.grid.groupAxis.scalePadding,S=A.fullDataFormatter.grid.groupAxis.scaleDomain[1]==="auto"?$+A.fullDataFormatter.grid.groupAxis.scalePadding:A.fullDataFormatter.grid.groupAxis.scaleDomain[1]+A.fullDataFormatter.grid.groupAxis.scalePadding,E=A.computedData[0]?A.computedData[0].length:0;let D=A.fullDataFormatter.grid.seriesDirection==="row"?(A.computedData[0]??[]).map(P=>P.groupLabel):A.computedData.map(P=>P[0].groupLabel);const w=new Array(E).fill(0).map((P,L)=>D[L]!=null?D[L]:String(L)).filter((P,L)=>L>=x&&L<=S),O=A.fullDataFormatter.grid.groupAxis.scalePadding,N=yT({axisLabels:w,axisWidth:A.gridAxesSize.width,padding:O});b.next(N)})}),d=Qh({fullDataFormatter$:i.fullDataFormatter$,gridAxesSize$:i.gridAxesSize$,computedData$:i.computedData$,fullChartParams$:i.fullChartParams$}),p=i.fullChartParams$.pipe(C(a),F(b=>b.highlightTarget),nt()),g=v0(e,"mousemove").pipe(C(a)),m=j({fullParams:i.fullParams$,fullDataFormatter:i.fullDataFormatter$,gridAxesReverseTransform:i.gridAxesReverseTransform$,gridContainerPosition:i.gridContainerPosition$}).pipe(C(a),U(async b=>b),F(b=>{const A=`translate(${b.gridAxesReverseTransform.translate[0]}px, ${b.gridAxesReverseTransform.translate[1]}px)`,$=`rotate(${b.gridAxesReverseTransform.rotate}deg) rotateX(${b.gridAxesReverseTransform.rotateX}deg) rotateY(${b.gridAxesReverseTransform.rotateY}deg)`,x=`scale(${1/b.gridContainerPosition[0].scale[0]}, ${1/b.gridContainerPosition[0].scale[1]})`,S=`rotate(${b.fullDataFormatter.grid.groupAxis.position==="left"&&b.fullDataFormatter.grid.valueAxis.position==="top"||b.fullDataFormatter.grid.groupAxis.position==="right"&&b.fullDataFormatter.grid.valueAxis.position==="bottom"?180:0}deg)`;return`${A} ${$} ${x} ${S}`}),nt()),y=i.gridContainerPosition$.pipe(C(a),F(b=>b.reduce((A,$)=>$.columnIndex>A?$.columnIndex:A,0)+1),nt()),_=i.gridContainerPosition$.pipe(C(a),F(b=>b.reduce((A,$)=>$.rowIndex>A?$.rowIndex:A,0)+1),nt());j({axesSelection:u,columnAmount:y,rowAmount:_,layout:i.layout$,rootMousemove:g,gridGroupPositionFn:d,computedData:i.computedData$,groupScale:f,gridAxesSize:i.gridAxesSize$,fullParams:i.fullParams$,fullDataFormatter:i.fullDataFormatter$,fullChartParams:i.fullChartParams$,highlightTarget:p,labelTransform:m,GroupDataMap:i.GroupDataMap$,textSizePx:i.textSizePx$}).subscribe(b=>{const A={offsetX:b.rootMousemove.offsetX*b.columnAmount%b.layout.rootWidth,offsetY:b.rootMousemove.offsetY*b.rowAmount%b.layout.rootHeight},{groupIndex:$,groupLabel:x}=b.gridGroupPositionFn(A),S=b.groupScale(x)??0,E=LC({groupLabel:x,axisX:S,axisHeight:b.gridAxesSize.height,fullParams:b.fullParams});MC({selection:b.axesSelection,pluginName:n,lineData:E,fullParams:b.fullParams,fullChartParams:b.fullChartParams});const D=IC({groupLabel:x,axisX:S,fullParams:b.fullParams});CC({selection:b.axesSelection,labelData:D,fullParams:b.fullParams,fullDataFormatter:b.fullDataFormatter,fullChartParams:b.fullChartParams,labelTransform:b.labelTransform,textSizePx:b.textSizePx}).on("mouseover",(w,O)=>{w.stopPropagation(),o=!0,r.event$.next({type:"grid",pluginName:n,eventName:"mouseover",highlightTarget:b.highlightTarget,datum:null,gridIndex:0,series:[],seriesIndex:-1,seriesLabel:"",groups:b.GroupDataMap.get(x)??[],groupIndex:$,groupLabel:x,event:w,data:b.computedData})}).on("mousemove",(w,O)=>{w.stopPropagation(),r.event$.next({type:"grid",pluginName:n,eventName:"mousemove",highlightTarget:b.highlightTarget,datum:null,gridIndex:0,series:[],seriesIndex:-1,seriesLabel:"",groups:b.GroupDataMap.get(x)??[],groupIndex:$,groupLabel:x,event:w,data:b.computedData})}).on("mouseout",(w,O)=>{w.stopPropagation(),o=!1,r.event$.next({type:"grid",pluginName:n,eventName:"mouseout",highlightTarget:b.highlightTarget,datum:null,gridIndex:0,series:[],seriesIndex:-1,seriesLabel:"",groups:b.GroupDataMap.get(x)??[],groupIndex:$,groupLabel:x,event:w,data:b.computedData})}).on("click",(w,O)=>{w.stopPropagation(),r.event$.next({type:"grid",pluginName:n,eventName:"click",highlightTarget:b.highlightTarget,datum:null,gridIndex:0,series:[],seriesIndex:-1,seriesLabel:"",groups:b.GroupDataMap.get(x)??[],groupIndex:$,groupLabel:x,event:w,data:b.computedData})})});const v=v0(s,"mouseout").pipe(C(a));return j({rootRectMouseout:v,axesSelection:u}).pipe(C(a),U(async b=>b)).subscribe(b=>{setTimeout(()=>{o!=!0&&(RC(b.axesSelection),NC(b.axesSelection))})}),()=>{a.next(void 0),s.remove()}}),rx={position:"right",justify:"end",padding:28,backgroundFill:"none",backgroundStroke:"none",gap:10,listRectWidth:14,listRectHeight:14,listRectRadius:0,gridList:[{listRectWidth:14,listRectHeight:14,listRectRadius:0}],textColorType:"primary"},Kh={labelOffset:[0,0],labelColorType:"primary",axisLineVisible:!0,axisLineColorType:"primary",ticks:"all",tickFormat:t=>t,tickLineVisible:!0,tickPadding:20,tickFullLine:!1,tickFullLineDasharray:"none",tickColorType:"secondary",tickTextRotate:0,tickTextColorType:"primary",gridIndexes:[0]};Kh.tickFormat.toString=()=>"text => text";const Ou={labelOffset:[0,0],labelColorType:"primary",axisLineVisible:!1,axisLineColorType:"primary",ticks:4,tickFormat:",.0f",tickLineVisible:!0,tickPadding:20,tickFullLine:!0,tickFullLineDasharray:"none",tickColorType:"secondary",tickTextRotate:0,tickTextColorType:"primary",gridIndexes:[0]},GC={...Ou},ix={barWidth:0,barPadding:1,barGroupPadding:40,barRadius:!1,gridIndexes:[0]},ax={barWidth:0,barGroupPadding:10,barRadius:!1,gridIndexes:[0]},ox={barWidth:0,barPadding:1,barGroupPadding:20,linearGradientOpacity:[1,0],gridIndexes:[0]},sx={lineCurve:"curveLinear",lineWidth:2,gridIndexes:[1]},ux={lineCurve:"curveLinear",linearGradientOpacity:[1,0],gridIndexes:[1]},lx={radius:4,fillColorType:"white",strokeColorType:"series",strokeWidth:2,onlyShowHighlighted:!1,gridIndexes:[1]},td={firstAxis:{labelOffset:[0,0],labelColorType:"primary",axisLineVisible:!1,axisLineColorType:"primary",ticks:4,tickFormat:",.0f",tickLineVisible:!0,tickPadding:20,tickFullLine:!0,tickFullLineDasharray:"none",tickColorType:"secondary",tickTextRotate:0,tickTextColorType:"primary"},secondAxis:{labelOffset:[0,0],labelColorType:"primary",axisLineVisible:!1,axisLineColorType:"primary",ticks:4,tickFormat:",.0f",tickLineVisible:!0,tickPadding:20,tickFullLine:!0,tickFullLineDasharray:"none",tickColorType:"secondary",tickTextRotate:0,tickTextColorType:"primary"},gridIndexes:[0,1]},cx={...td},_0="MultiGridLegend",OC=_e(_0,rx)(({selection:t,rootSelection:e,observer:n,subject:r})=>{const i=new et,a=n.multiGridEachDetail$.pipe(C(i),F(u=>u.map((c,h)=>c.SeriesDataMap$.pipe(F(f=>Array.from(f.keys()))))),U(u=>j(u)),F(u=>u.flat())),o=j({fullParams:n.fullParams$,computedData:n.computedData$}).pipe(C(i),U(async u=>u),F(u=>u.computedData.map((c,h)=>{const f=ql(u.fullParams.gridList[h]??{},{listRectWidth:u.fullParams.listRectWidth,listRectHeight:u.fullParams.listRectHeight,listRectRadius:u.fullParams.listRectRadius});return c.map(d=>f)}).flat())),s=j({fullParams:n.fullParams$,seriesList:o}).pipe(C(i),U(async u=>u),F(u=>({...u.fullParams,seriesList:u.seriesList}))),l=Gu(_0,{rootSelection:e,seriesLabels$:a,fullParams$:s,layout$:n.layout$,fullChartParams$:n.fullChartParams$,textSizePx$:n.textSizePx$});return()=>{i.next(void 0),l()}}),Re=t=>{const e=t.fullParams$.pipe(F(n=>n.gridIndexes),nt(),Dt(1));return j({multiGridEachDetail:t.multiGridEachDetail$,gridIndexes:e}).pipe(F(n=>n.gridIndexes==="all"?n.multiGridEachDetail:n.gridIndexes.map(r=>n.multiGridEachDetail[r]??n.multiGridEachDetail[0])))},Xc="MultiBars",x0=at(Xc,"grid"),FC=_e(Xc,ix)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${x0}`).data(o).join("g").attr("class",x0).each((s,l,u)=>{const c=q(u[l]),h=s.dataFormatter$.pipe(C(i),F(f=>f.grid.separateSeries),nt(),Dt(1));a[l]=Jh(Xc,{selection:c,computedData$:s.computedData$,visibleComputedData$:s.visibleComputedData$,computedLayoutData$:s.computedLayoutData$,visibleComputedLayoutData$:s.visibleComputedLayoutData$,seriesLabels$:s.seriesLabels$,SeriesDataMap$:s.SeriesDataMap$,GroupDataMap$:s.GroupDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridGraphicTransform$:s.gridGraphicTransform$,gridGraphicReverseScale$:s.gridGraphicReverseScale$,gridAxesSize$:s.gridAxesSize$,gridHighlight$:s.gridHighlight$,gridContainerPosition$:s.gridContainerPosition$,isSeriesSeprate$:h,event$:n.event$})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),qc="MultiBarStack",S0=at(qc,"grid"),BC=_e(qc,ax)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${S0}`).data(o).join("g").attr("class",S0).each((s,l,u)=>{const c=q(u[l]),h=s.dataFormatter$.pipe(C(i),F(f=>f.grid.separateSeries),nt(),Dt(1));a[l]=Q_(qc,{selection:c,computedData$:s.computedData$,visibleComputedData$:s.visibleComputedData$,computedLayoutData$:s.computedLayoutData$,visibleComputedLayoutData$:s.visibleComputedLayoutData$,seriesLabels$:s.seriesLabels$,SeriesDataMap$:s.SeriesDataMap$,GroupDataMap$:s.GroupDataMap$,fullParams$:r.fullParams$,fullDataFormatter$:s.dataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridGraphicTransform$:s.gridGraphicTransform$,gridGraphicReverseScale$:s.gridGraphicReverseScale$,gridAxesSize$:s.gridAxesSize$,gridHighlight$:s.gridHighlight$,gridContainerPosition$:s.gridContainerPosition$,isSeriesSeprate$:h,event$:n.event$})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),Zc="MultiBarsTriangle",A0=at(Zc,"grid"),zC=_e(Zc,ox)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${A0}`).data(o).join("g").attr("class",A0).each((s,l,u)=>{const c=q(u[l]),h=s.dataFormatter$.pipe(C(i),F(f=>f.grid.separateSeries),nt(),Dt(1));a[l]=K_(Zc,{selection:c,computedData$:s.computedData$,visibleComputedData$:s.visibleComputedData$,computedLayoutData$:s.computedLayoutData$,visibleComputedLayoutData$:s.visibleComputedLayoutData$,seriesLabels$:s.seriesLabels$,SeriesDataMap$:s.SeriesDataMap$,GroupDataMap$:s.GroupDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,fullDataFormatter$:s.dataFormatter$,gridAxesTransform$:s.gridAxesTransform$,gridGraphicTransform$:s.gridGraphicTransform$,gridAxesSize$:s.gridAxesSize$,gridHighlight$:s.gridHighlight$,gridContainerPosition$:s.gridContainerPosition$,isSeriesSeprate$:h,event$:n.event$})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),Qc="MultiLines",P0=at(Qc,"grid"),HC=_e(Qc,sx)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${P0}`).data(o).join("g").attr("class",P0).each((s,l,u)=>{const c=q(u[l]);a[l]=W_(Qc,{selection:c,computedData$:s.computedData$,computedLayoutData$:s.computedLayoutData$,visibleComputedData$:s.visibleComputedData$,visibleComputedLayoutData$:s.visibleComputedLayoutData$,seriesLabels$:s.seriesLabels$,SeriesDataMap$:s.SeriesDataMap$,GroupDataMap$:s.GroupDataMap$,fullDataFormatter$:s.dataFormatter$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridGraphicTransform$:s.gridGraphicTransform$,gridAxesSize$:s.gridAxesSize$,gridHighlight$:s.gridHighlight$,gridContainerPosition$:s.gridContainerPosition$,event$:n.event$})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),Jc="MultiLineAreas",w0=at(Jc,"grid"),jC=_e(Jc,ux)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${w0}`).data(o).join("g").attr("class",w0).each((s,l,u)=>{const c=q(u[l]);a[l]=X_(Jc,{selection:c,computedData$:s.computedData$,computedLayoutData$:s.computedLayoutData$,visibleComputedData$:s.visibleComputedData$,visibleComputedLayoutData$:s.visibleComputedLayoutData$,seriesLabels$:s.seriesLabels$,SeriesDataMap$:s.SeriesDataMap$,GroupDataMap$:s.GroupDataMap$,fullDataFormatter$:s.dataFormatter$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridGraphicTransform$:s.gridGraphicTransform$,gridAxesSize$:s.gridAxesSize$,gridHighlight$:s.gridHighlight$,gridContainerPosition$:s.gridContainerPosition$,layout$:r.layout$,event$:n.event$})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),Kc="MultiDots",T0=at(Kc,"grid"),UC=_e(Kc,lx)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${T0}`).data(o).join("g").attr("class",T0).each((s,l,u)=>{const c=q(u[l]);a[l]=tx(Kc,{selection:c,computedData$:s.computedData$,visibleComputedData$:s.visibleComputedData$,computedLayoutData$:s.computedLayoutData$,visibleComputedLayoutData$:s.visibleComputedLayoutData$,seriesLabels$:s.seriesLabels$,SeriesDataMap$:s.SeriesDataMap$,GroupDataMap$:s.GroupDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridGraphicTransform$:s.gridGraphicTransform$,gridGraphicReverseScale$:s.gridGraphicReverseScale$,gridAxesSize$:s.gridAxesSize$,gridHighlight$:s.gridHighlight$,gridContainerPosition$:s.gridContainerPosition$,event$:n.event$})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),tf="MultiGroupAxis",E0=at(tf,"grid"),VC=_e(tf,Kh)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${E0}`).data(o).join("g").attr("class",E0).each((s,l,u)=>{const c=q(u[l]),h=s.dataFormatter$.pipe(C(i),F(f=>f.grid.separateSeries),nt(),Dt(1));a[l]=ex(tf,{selection:c,computedData$:s.computedData$,fullParams$:r.fullParams$,fullDataFormatter$:s.dataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridAxesReverseTransform$:s.gridAxesReverseTransform$,gridAxesSize$:s.gridAxesSize$,gridContainerPosition$:s.gridContainerPosition$,isSeriesSeprate$:h})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),ef="MultiValueAxis",$0=at(ef,"grid"),YC=_e(ef,Ou)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${$0}`).data(o).join("g").attr("class",$0).each((s,l,u)=>{const c=q(u[l]),h=s.dataFormatter$.pipe(C(i),F(f=>f.grid.separateSeries),nt(),Dt(1));a[l]=oi(ef,{selection:c,computedData$:s.computedData$,fullParams$:r.fullParams$,fullDataFormatter$:s.dataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridAxesReverseTransform$:s.gridAxesReverseTransform$,gridAxesSize$:s.gridAxesSize$,gridContainerPosition$:s.gridContainerPosition$,isSeriesSeprate$:h})})}),()=>{i.next(void 0),a.forEach(o=>o())}}),nf="MultiValueStackAxis",D0=at(nf,"grid"),WC=_e(nf,Ou)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[];return Re(r).pipe(C(i)).subscribe(o=>{a.forEach(s=>s()),t.selectAll(`g.${D0}`).data(o).join("g").attr("class",D0).each((s,l,u)=>{const c=q(u[l]),h=s.dataFormatter$.pipe(C(i),F(f=>f.grid.separateSeries),nt(),Dt(1));a[l]=oi(nf,{selection:c,computedData$:s.computedStackedData$,fullParams$:r.fullParams$,fullDataFormatter$:s.dataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridAxesReverseTransform$:s.gridAxesReverseTransform$,gridAxesSize$:s.gridAxesSize$,gridContainerPosition$:s.gridContainerPosition$,isSeriesSeprate$:h})})}),()=>{i.next(void 0),a.forEach(o=>o())}});function XC(t){let e=Math.floor(Math.sqrt(t)),n=Math.ceil(t/e);for(;e*n<t;)n++;return{rowAmount:e,columnAmount:n}}function L0(t,e,n){const{gap:r}=e,{rowAmount:i,columnAmount:a}=e.rowAmount*e.columnAmount>=n?e:XC(n);return new Array(n).fill(null).map((o,s)=>{const l=s%a,u=Math.floor(s/a),c=(t.width-r*(a-1))/a,h=(t.height-r*(i-1))/i,f=l*c+l*r,d=u*h+u*r,p=[f,d],g=[c/t.width,h/t.height];return{slotIndex:s,rowIndex:u,columnIndex:l,translate:p,scale:g}})}const fx=({fullDataFormatter$:t,layout$:e})=>{const n=new et;function r({xAxis:i,yAxis:a,width:o,height:s}){if(!i||!a)return{translate:[0,0],scale:[1,1],rotate:0,rotateX:0,rotateY:0,value:""};let l=0,u=0,c=0,h=0,f=0;return i.position==="bottom"?a.position==="left"?(h=180,u=s):a.position==="right"?(h=180,f=180,l=o,u=s):(h=180,u=s):i.position==="top"?a.position==="left"||(a.position==="right"?(f=180,l=o):(h=180,u=s)):i.position==="left"?a.position==="bottom"?(c=-90,u=s):a.position==="top"?(c=-90,f=180):(h=180,u=s):i.position==="right"?a.position==="bottom"?(c=-90,h=180,u=s,l=o):a.position==="top"?(c=-90,h=180,f=180,l=o):(h=180,u=s):(h=180,u=s),{translate:[l,u],scale:[1,1],rotate:c,rotateX:h,rotateY:f,value:`translate(${l}px, ${u}px) rotate(${c}deg) rotateX(${h}deg) rotateY(${f}deg)`}}return new dt(i=>(j({fullDataFormatter:t,layout:e}).pipe(C(n),U(async a=>a)).subscribe(a=>{const o=r({xAxis:a.fullDataFormatter.grid.groupAxis,yAxis:a.fullDataFormatter.grid.valueAxis,width:a.layout.width,height:a.layout.height});i.next(o)}),function(){n.next(void 0)}))},hx=({gridAxesTransform$:t})=>t.pipe(F(e=>{const n=[0,0],r=[1/e.scale[0],1/e.scale[1]],i=e.rotate*-1,a=e.rotateX*-1,o=e.rotateY*-1;return{translate:n,scale:r,rotate:i,rotateX:a,rotateY:o,value:`translate(${n[0]}px, ${n[1]}px) rotate(${i}deg) rotateX(${a}deg) rotateY(${o}deg)`}})),dx=({computedData$:t,fullDataFormatter$:e,layout$:n})=>j({computedData:t,fullDataFormatter:e,layout:n}).pipe(U(async r=>r),F(r=>{if(r.fullDataFormatter.grid.separateSeries)return L0(r.layout,r.fullDataFormatter.container,r.computedData.length);{const i=L0(r.layout,r.fullDataFormatter.container,1);return r.computedData.map((a,o)=>i[0])}})),rf="OverlappingValueAxes",M0=at(rf,"grid"),qC=_e(rf,td)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[],o=r.fullParams$.pipe(C(i),F(u=>u.gridIndexes[0])),s=r.fullParams$.pipe(C(i),F(u=>u.gridIndexes[1])),l=j({firstGridIndex:o,secondGridIndex:s,fullDataFormatter:r.fullDataFormatter$}).pipe(C(i),U(async u=>u),F(u=>{u.fullDataFormatter.gridList[u.secondGridIndex]||(u.fullDataFormatter.gridList[u.secondGridIndex]=Object.assign({},u.fullDataFormatter.gridList[u.firstGridIndex]));const c=u.fullDataFormatter.gridList[u.firstGridIndex].valueAxis.position;let h=c;return c==="left"?h="right":c==="bottom"?h="top":c==="top"?h="bottom":c==="right"&&(h="left"),{type:"grid",visibleFilter:u.fullDataFormatter.visibleFilter,grid:{...u.fullDataFormatter.gridList[u.secondGridIndex],valueAxis:{...u.fullDataFormatter.gridList[u.secondGridIndex].valueAxis,position:h}},container:{...u.fullDataFormatter.container}}}));return Bs(r).pipe(C(i),F(u=>({...u,fullParams$:u.fullParams$.pipe(F(c=>(c.gridIndexes.length>2&&(c.gridIndexes.length=2),c)))})),U(u=>Re(u)),F(u=>u.map((c,h)=>{if(h===0)return c;const f=fx({fullDataFormatter$:l,layout$:r.layout$}),d=hx({gridAxesTransform$:f}),p=dx({computedData$:c.computedData$,fullDataFormatter$:l,layout$:r.layout$});return{...c,gridAxesTransform$:f,gridAxesReverseTransform$:d,gridContainerPosition$:p}}))).pipe(C(i)).subscribe(u=>{a.forEach(c=>c()),t.selectAll(`g.${M0}`).data(u).join("g").attr("class",M0).each((c,h,f)=>{if(h>1)return;const d=q(f[h]);a[h]=oi(rf,{selection:d,computedData$:c.computedData$,fullParams$:r.fullParams$.pipe(F(p=>h===0?p.firstAxis:p.secondAxis)),fullDataFormatter$:c.dataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:c.gridAxesTransform$,gridAxesReverseTransform$:c.gridAxesReverseTransform$,gridAxesSize$:c.gridAxesSize$,gridContainerPosition$:c.gridContainerPosition$,isSeriesSeprate$:c.isSeriesSeprate$})})}),()=>{i.next(void 0),a.forEach(u=>u())}}),af="OverlappingValueStackAxes",R0=at(af,"grid"),ZC=_e(af,cx)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=[],o=r.fullParams$.pipe(C(i),F(u=>u.gridIndexes[0])),s=r.fullParams$.pipe(C(i),F(u=>u.gridIndexes[1])),l=j({firstGridIndex:o,secondGridIndex:s,fullDataFormatter:r.fullDataFormatter$}).pipe(C(i),U(async u=>u),F(u=>{u.fullDataFormatter.gridList[u.secondGridIndex]||(u.fullDataFormatter.gridList[u.secondGridIndex]=Object.assign({},u.fullDataFormatter.gridList[u.firstGridIndex]));const c=u.fullDataFormatter.gridList[u.firstGridIndex].valueAxis.position;let h=c;return c==="left"?h="right":c==="bottom"?h="top":c==="top"?h="bottom":c==="right"&&(h="left"),{type:"grid",visibleFilter:u.fullDataFormatter.visibleFilter,grid:{...u.fullDataFormatter.gridList[u.secondGridIndex],valueAxis:{...u.fullDataFormatter.gridList[u.secondGridIndex].valueAxis,position:h}},container:{...u.fullDataFormatter.container}}}));return Bs(r).pipe(C(i),F(u=>({...u,fullParams$:u.fullParams$.pipe(F(c=>(c.gridIndexes.length>2&&(c.gridIndexes.length=2),c)))})),U(u=>Re(u)),F(u=>u.map((c,h)=>{if(h===0)return c;const f=fx({fullDataFormatter$:l,layout$:r.layout$}),d=hx({gridAxesTransform$:f}),p=dx({computedData$:c.computedData$,fullDataFormatter$:l,layout$:r.layout$});return{...c,gridAxesTransform$:f,gridAxesReverseTransform$:d,gridContainerPosition$:p}}))).pipe(C(i)).subscribe(u=>{a.forEach(c=>c()),t.selectAll(`g.${R0}`).data(u).join("g").attr("class",R0).each((c,h,f)=>{if(h>1)return;const d=q(f[h]);a[h]=oi(af,{selection:d,computedData$:h===0?c.computedStackedData$:c.computedData$,fullParams$:r.fullParams$.pipe(F(p=>h===0?p.firstAxis:p.secondAxis)),fullDataFormatter$:c.dataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:c.gridAxesTransform$,gridAxesReverseTransform$:c.gridAxesReverseTransform$,gridAxesSize$:c.gridAxesSize$,gridContainerPosition$:c.gridContainerPosition$,isSeriesSeprate$:c.isSeriesSeprate$})})}),()=>{i.next(void 0),a.forEach(u=>u())}}),px={header:{height:36,text:[],textStyle:[]},footer:{height:0,text:[],textStyle:[]}},ed={backgroundColorType:"background",strokeColorType:"primary",backgroundOpacity:.8,textColorType:"primary",offset:[20,5],padding:10,textRenderFn:t=>{if(t.highlightTarget==="datum"&&t.datum)return[`${t.datum.label}: ${t.datum.value}`];if(t.highlightTarget==="series"){const e=t.seriesLabel,n=t.series.filter(i=>i.visible==!0).map(i=>i.value),r=n.length>5?n.slice(0,5).join(",")+"...":n.join(",");return[e,r]}else if(t.highlightTarget==="group"){const e=t.groupLabel,n=t.series.filter(i=>i.visible==!0).map(i=>i.value),r=n.length>5?n.slice(0,5).join(",")+"...":n.join(",");return[e,r]}else if(t.highlightTarget==="category"){const e=t.categoryLabel,n=t.category.filter(i=>i.visible==!0).map(i=>i.value),r=n.length>5?n.slice(0,5).join(",")+"...":n.join(",");return[e,r]}return[]},svgRenderFn:null};ed.textRenderFn.toString=()=>`(eventData) => {
  if (eventData.highlightTarget === 'datum' && eventData.datum) {
    return [\`\${eventData.datum.label}: \${eventData.datum.value}\`]
  } else if (eventData.highlightTarget === 'series') {
    const label = (eventData as EventBaseSeriesValue<any, any>).seriesLabel
    const valueArr = (eventData as EventBaseSeriesValue<any, any>).series
      .filter(d => d.visible == true)
      .map(d => {
        return d.value
      })
    const value = valueArr.length > 5
      ? valueArr.slice(0, 5).join(',') + '...'
      : valueArr.join(',')
    return [label, value]
  } else if (eventData.highlightTarget === 'group') {
    const label = (eventData as EventBaseGridValue<any, any>).groupLabel
    const valueArr = (eventData as EventBaseGridValue<any, any>).series
      .filter(d => d.visible == true)
      .map(d => {
        return d.value
      })
    const value = valueArr.length > 5
      ? valueArr.slice(0, 5).join(',') + '...'
      : valueArr.join(',')
    return [label, value]
  } else if (eventData.highlightTarget === 'category') {
    const label = (eventData as EventBaseCategoryValue<any, any>).categoryLabel
    const valueArr = (eventData as EventBaseCategoryValue<any, any>).category
      .filter(d => d.visible == true)
      .map(d => {
        return d.value
      })
    const value = valueArr.length > 5
      ? valueArr.slice(0, 5).join(',') + '...'
      : valueArr.join(',')
    return [label, value]
  }
  return []
}`;const QC=o1("Container",px)(({selection:t})=>function(){}),nd="Tooltip",I0=at(nd,"g"),JC=at(nd,"box");function KC(t,e){const n=e.textSizePx*1.5;return t.filter(r=>r!="").map((r,i)=>{const a=i*n;return`<text font-size="${e.textSize}" fill="${e.textColor}" x="0" y="${a}" style="dominant-baseline:text-before-edge">${r}</text>`}).join()}function tN({rootSelection:t,pluginName:e,rootWidth:n,rootHeight:r,svgString:i,tooltipStyle:a,event:o}){t.interrupt("fadeout");const s=5,l=i?[i]:[],u=i?[a]:[],c=t.selectAll(`g.${I0}`).data(l).join(v=>v.append("g").classed(I0,!0).attr("pointer-events","none"),v=>v,v=>v.style("opacity",0).remove()).attr("transform",()=>`translate(${o.offsetX}, ${o.offsetY})`).selectAll(`g.${JC}`).data(u).join(v=>v.append("g").classed(at(e,"box"),!0)),h=c.selectAll("rect").data(u).join(v=>v.append("rect").attr("rx",s).attr("ry",s)).attr("fill",v=>v.backgroundColor).attr("stroke",v=>v.strokeColor).attr("opacity",v=>v.backgroundOpacity),f=c.selectAll("g").data(l).join(v=>v.append("g").classed(at(e,"content"),!0).attr("transform",()=>`translate(${a.padding}, ${a.padding})`));l.length&&RI(f,l[0]);const d=f!=null&&f.node()?r0(f):{width:0,height:0};h.attr("width",d.width+a.padding*2).attr("height",d.height+a.padding*2);const p=c!=null&&c.node()?r0(c):{width:0,height:0},g=n-p.width,m=r-p.height,y=o.offsetX+a.offset[0]>g?g-o.offsetX:a.offset[0],_=o.offsetY+a.offset[1]>m?m-o.offsetY:a.offset[1];c.attr("transform",v=>`translate(${y}, ${_})`),c.attr("transform",v=>`translate(${y}, ${_})`)}const eN=o1(nd,ed)(({selection:t,rootSelection:e,name:n,chartType:r,observer:i,subject:a})=>{const o=new et,s=a.event$.pipe(C(o),Bi(g=>g.eventName==="mouseover"||g.eventName==="mousemove")),l=a.event$.pipe(C(o),Bi(g=>g.eventName==="mouseout")),u=mT(i.fullChartParams$),c=j({fullChartParams:i.fullChartParams$,fullParams:i.fullParams$,textSizePx:u}).pipe(C(o),U(async g=>g),F(g=>({backgroundColor:Mt(g.fullParams.backgroundColorType,g.fullChartParams),backgroundOpacity:g.fullParams.backgroundOpacity,strokeColor:Mt(g.fullParams.strokeColorType,g.fullChartParams),offset:g.fullParams.offset,padding:g.fullParams.padding,textSize:g.fullChartParams.styles.textSize,textSizePx:g.textSizePx,textColor:Mt(g.fullParams.textColorType,g.fullChartParams)}))),h=j({fullParams:i.fullParams$,tooltipStyle:c}).pipe(C(o),U(async g=>g),F(g=>g.fullParams.svgRenderFn?g.fullParams.svgRenderFn:m=>{const y=g.fullParams.textRenderFn(m);return KC(y,g.tooltipStyle)})),f=j({event:s,contentRenderFn:h}).pipe(C(o),U(async g=>g),F(g=>g.contentRenderFn(g.event))),d=l.pipe(C(o),F(g=>"")),p=Bl(s,l).pipe(C(o),F(g=>g.event));return j({svgString:Bl(f,d),event:p,layout:i.layout$,tooltipStyle:c}).pipe(C(o),U(async g=>g)).subscribe(g=>{tN({rootSelection:e,pluginName:n,rootWidth:g.layout.rootWidth,rootHeight:g.layout.rootHeight,svgString:g.svgString,tooltipStyle:g.tooltipStyle,event:g.event})}),function(){o.next(void 0)}}),gx={force:{strength:.08,velocityDecay:.3,collisionSpacing:2},bubbleText:{fillRate:.6,lineHeight:12,lineLengthMin:4},arcScaleType:"area"},mx={outerRadius:.95,innerRadius:0,outerRadiusWhileHighlight:1,startAngle:0,endAngle:Math.PI*2,padAngle:.02,cornerRadius:0},rd={eventFn:(t,e,n)=>e==="mouseover"||e==="mousemove"?[String(t.datum.value)]:[String(Math.round(t.data.reduce((r,i)=>r+i.reduce((a,o)=>a+(o.value??0),0),0)*n))],textAttrs:[{transform:"translate(0, 0)"}],textStyles:[{"font-weight":"bold","text-anchor":"middle","pointer-events":"none","dominant-baseline":"middle","font-size":64,fill:"#000"}]};rd.eventFn.toString=()=>`(eventData: EventSeries, eventName: EventName, t: number) => {
  if (eventName === 'mouseover' || eventName === 'mousemove') {
    return [String(eventData.datum!.value)]
  }
  return [
    String(
      Math.round(
        eventData.data.reduce((acc, seriesData) => {
          return acc + seriesData.reduce((_acc, data) => {
            return _acc + (data.value ?? 0)
          }, 0)
        }, 0) * t
      )
    )
  ]
}`;const id={outerRadius:.95,outerRadiusWhileHighlight:1,startAngle:0,endAngle:Math.PI*2,labelCentroid:2.3,labelColorType:"primary",labelFn:t=>String(t.label)};id.labelFn.toString=()=>"d => String(d.label)";const yx={outerRadius:.95,cornerRadius:0,arcScaleType:"area",mouseoverAngleIncrease:.05},ad={outerRadius:.95,labelCentroid:2.5,labelFn:t=>String(t.label),labelColorType:"primary",arcScaleType:"area"};ad.labelFn.toString=()=>"d => String(d.label)";const bx={position:"right",justify:"end",padding:28,backgroundFill:"none",backgroundStroke:"none",gap:10,listRectWidth:14,listRectHeight:14,listRectRadius:0,textColorType:"primary"};function nN(t,{text:e,radius:n,lineHeight:r,isBreakAll:i=!1,limit:a=0}){if(t==null||e==null){console.error("selection or text is not defined");return}n==null&&(n=t.node().getBBox().width/2);function o(d){let p;return i?p=d.split(""):p=d.split(/\s+/g),p[p.length-1]||p.pop(),p[0]||p.shift(),p}function s(d,p){return d&&p&&d.length>p&&(d=d.substring(0,p)+"..."),d}function l(d){var p;const g=document.createElement("canvas").getContext("2d");return((p=g==null?void 0:g.measureText(d))==null?void 0:p.width)??0}function u(d){const p=l(d.trim());return Math.sqrt(p*r)}function c(d,p){let g={width:0,text:""},m=1/0;const y=[];let _=" ";i&&(_="");for(let v=0,b=d.length;v<b;++v){const A=(g.text?g.text+_:"")+d[v],$=l(A);(m+$)/2<p?(g.width=m=$,g.text=A):(m=l(d[v]),g={width:m,text:d[v]},y.push(g))}return y}function h(d){let p=0;for(let g=0,m=d.length;g<m;++g){const y=(Math.abs(g-m/2+.5)+.5)*r,_=d[g].width/2;p=Math.max(p,Math.sqrt(_**2+y**2))}return p}function f(d,p){a>0&&(p=s(p,a));const g=o(p),m=u(p),y=c(g,m),_=h(y);let v=d.select("text");v.size()||(v=d.append("text")),v.attr("transform",`translate(0,0) scale(${n/_})`);const b=v.selectAll("tspan").data(y),A=b.enter().append("tspan").attr("x",0).merge(b).attr("y",($,x)=>(x-y.length/2+.8)*r).text($=>$.text);return b.exit().remove(),b.merge(A)}return f(t,e)}let gn;function rN(t,e){return Vy().velocityDecay(e.force.velocityDecay).force("collision",Uy().radius(n=>n.r+e.force.collisionSpacing)).force("charge",Yy().strength(n=>-Math.pow(n.r,2)*e.force.strength)).on("tick",()=>{t.attr("transform",n=>`translate(${n.x},${n.y})`)})}function iN({visibleComputedLayoutData:t,LastBubbleDataMap:e,graphicWidth:n,graphicHeight:r,SeriesContainerPositionMap:i,scaleType:a}){const o=Math.min(n,r)/2,s=t.flat(),l=s.reduce((f,d)=>f+d.value,0),u=ii().domain([0,l]).range([0,o]).exponent(a==="area"?.5:1),c=a==="area"?1:(()=>{const f=o*o*Math.PI;return Math.sqrt(f/L1(s,d=>Math.PI*Math.pow(u(d.value),2)))})(),h=.9;return s.map(f=>{const d=f,p=e.get(d.id);if(p)d.x=p.x,d.y=p.y;else{const m=i.get(d.seriesLabel);d.x=Math.random()*m.width,d.y=Math.random()*m.height}const g=u(d.value??0)*c*h;return d.r=g,d._originR=g,d})}function aN({selection:t,bubblesData:e,fullParams:n,sumSeries:r}){const i=t.selectAll("g").data(e,o=>o.id).join(o=>{const s=o.append("g").attr("cursor","pointer").attr("font-size",12).style("fill","#ffffff").attr("text-anchor","middle");return s.append("circle").attr("class","node").attr("cx",0).attr("cy",0).attr("fill",l=>l.color),s.append("text").style("opacity",.8).attr("pointer-events","none"),s},o=>o,o=>o.remove()).attr("transform",o=>`translate(${o.x},${o.y})`),a=r?"seriesLabel":"label";return i.select("circle").transition().duration(200).attr("r",o=>o.r).attr("fill",o=>o.color),i.each((o,s,l)=>{const u=q(l[s]);let c=!0;o[a].length<=n.bubbleText.lineLengthMin&&(c=!1),u.call(nN,{text:o[a],radius:o.r*n.bubbleText.fillRate,lineHeight:n.bubbleText.lineHeight,isBreakAll:c})}),i}function oN(){return V1().on("start",(t,e)=>{t.active||gn.alpha(1).restart(),e.fx=e.x,e.fy=e.y}).on("drag",(t,e)=>{t.active||gn.alphaTarget(0),e.fx=t.x,e.fy=t.y}).on("end",(t,e)=>{e.fx=null,e.fy=null})}function sN({fullParams:t,SeriesContainerPositionMap:e}){gn.force("x",Wy().strength(t.force.strength).x(n=>e.get(n.seriesLabel).centerX)).force("y",Xy().strength(t.force.strength).y(n=>e.get(n.seriesLabel).centerY)),gn.alpha(1).restart()}function uN({bubblesSelection:t,highlightIds:e,fullChartParams:n}){if(t.interrupt("highlight"),!e.length){t.transition("highlight").style("opacity",1);return}t.each((r,i,a)=>{const o=q(a[i]);e.includes(r.id)?o.style("opacity",1).transition("highlight").ease(aa).duration(500):o.style("opacity",n.styles.unhighlightedOpacity)})}const lN=tr("Bubbles",gx)(({selection:t,name:e,observer:n,subject:r})=>{const i=new et;let a=new Map;const o=n.fullDataFormatter$.pipe(F(h=>h.sumSeries),nt()),s=n.fullParams$.pipe(C(i),F(h=>h.arcScaleType),nt()),l=j({layout:n.layout$,SeriesContainerPositionMap:n.SeriesContainerPositionMap$,visibleComputedLayoutData:n.visibleComputedLayoutData$,scaleType:s}).pipe(C(i),U(async h=>h),F(h=>iN({visibleComputedLayoutData:h.visibleComputedLayoutData,LastBubbleDataMap:a,graphicWidth:h.layout.width,graphicHeight:h.layout.height,SeriesContainerPositionMap:h.SeriesContainerPositionMap,scaleType:h.scaleType})),Dt(1));l.subscribe(h=>{a=new Map(h.map(f=>[f.id,f]))});const u=n.fullChartParams$.pipe(C(i),F(h=>h.highlightTarget),nt()),c=j({bubblesData:l,fullParams:n.fullParams$,SeriesContainerPositionMap:n.SeriesContainerPositionMap$,sumSeries:o}).pipe(C(i),U(async h=>h),F(h=>{gn&&gn.stop();const f=aN({selection:t,bubblesData:h.bubblesData,fullParams:h.fullParams,sumSeries:h.sumSeries});return gn=rN(f,h.fullParams),gn.nodes(h.bubblesData),sN({fullParams:h.fullParams,SeriesContainerPositionMap:h.SeriesContainerPositionMap}),f}));return j({bubblesSelection:c,computedData:n.computedData$,SeriesDataMap:n.SeriesDataMap$,highlightTarget:u}).pipe(C(i),U(async h=>h)).subscribe(h=>{h.bubblesSelection.on("mouseover",(f,d)=>{r.event$.next({type:"series",eventName:"mouseover",pluginName:e,highlightTarget:h.highlightTarget,datum:d,series:h.SeriesDataMap.get(d.seriesLabel),seriesIndex:d.seriesIndex,seriesLabel:d.seriesLabel,event:f,data:h.computedData})}).on("mousemove",(f,d)=>{r.event$.next({type:"series",eventName:"mousemove",pluginName:e,highlightTarget:h.highlightTarget,datum:d,series:h.SeriesDataMap.get(d.seriesLabel),seriesIndex:d.seriesIndex,seriesLabel:d.seriesLabel,event:f,data:h.computedData})}).on("mouseout",(f,d)=>{r.event$.next({type:"series",eventName:"mouseout",pluginName:e,highlightTarget:h.highlightTarget,datum:d,series:h.SeriesDataMap.get(d.seriesLabel),seriesIndex:d.seriesIndex,seriesLabel:d.seriesLabel,event:f,data:h.computedData})}).on("click",(f,d)=>{r.event$.next({type:"series",eventName:"click",pluginName:e,highlightTarget:h.highlightTarget,datum:d,series:h.SeriesDataMap.get(d.seriesLabel),seriesIndex:d.seriesIndex,seriesLabel:d.seriesLabel,event:f,data:h.computedData})}).call(oN())}),j({bubblesSelection:c,bubblesData:l,highlight:n.seriesHighlight$.pipe(F(h=>h.map(f=>f.id))),fullChartParams:n.fullChartParams$,fullParams:n.fullParams$,sumSeries:o,SeriesContainerPositionMap:n.SeriesContainerPositionMap$}).pipe(C(i),U(async h=>h)).subscribe(h=>{uN({bubblesSelection:h.bubblesSelection,highlightIds:h.highlight,fullChartParams:h.fullChartParams})}),()=>{i.next(void 0)}});function vx({data:t,startAngle:e,endAngle:n}){return h_().startAngle(e).endAngle(n).value(r=>r.value).sort((r,i)=>r.seq-i.seq)(t).map((r,i)=>{let a=r;return a.id=r.data.id,a})}function cN({selection:t,pluginName:e,separateSeries$:n,seriesLabels$:r}){const i=at(e,"series");return j({seriesLabels:r,separateSeries:n}).pipe(U(async a=>a),F((a,o)=>{const s=a.separateSeries?a.seriesLabels:[a.seriesLabels.join("")];return t.selectAll(`g.${i}`).data(s,l=>l).join(l=>l.append("g").classed(i,!0),l=>l,l=>l.remove())}),Dt(1))}const Na=({selection:t,pluginName:e,separateSeries$:n,seriesLabels$:r,seriesContainerPosition$:i})=>{const a=cN({selection:t,pluginName:e,separateSeries$:n,seriesLabels$:r});return j({seriesCenterSelection:a,seriesContainerPosition:i}).pipe(U(async o=>o),nt((o,s)=>o.seriesContainerPosition.length===s.seriesContainerPosition.length)).subscribe(o=>{o.seriesCenterSelection.attr("transform",(s,l)=>{const u=o.seriesContainerPosition[l]??o.seriesContainerPosition[0];return`translate(${u.centerX}, ${u.centerY})`})}),j({seriesCenterSelection:a,seriesContainerPosition:i}).pipe(U(async o=>o)).subscribe(o=>{o.seriesCenterSelection.transition().attr("transform",(s,l)=>{const u=o.seriesContainerPosition[l]??o.seriesContainerPosition[0];return`translate(${u.centerX}, ${u.centerY})`})}),{seriesCenterSelection$:a}},Rl="Pie";function fN({enter:t,exit:e,data:n,lastTweenData:r,fullParams:i}){return!t.size()&&!e.size()?a=>{const o=n.map((s,l)=>{const u=r[l]??{startAngle:0,endAngle:0,value:0};return{...s,startAngle:s.startAngle*a+u.startAngle*(1-a),endAngle:s.endAngle*a+u.endAngle*(1-a),value:s.value*a+u.value*(1-a)}});return of(o,i.startAngle,i.endAngle,1)}:a=>of(n,i.startAngle,i.endAngle,a)}function of(t,e,n,r){return t.map((i,a)=>{const o=e+(i.startAngle-e)*r,s=o+(i.endAngle-i.startAngle)*r;return{...i,startAngle:o,endAngle:s}})}function C0({selection:t,data:e,arc:n,pathClassName:r}){return t.selectAll("path").data(e,i=>i.id).join("path").classed(r,!0).style("cursor","pointer").attr("fill",(i,a)=>i.data.color).attr("d",(i,a)=>n(i))}function hN({pathSelection:t,ids:e,fullChartParams:n,arc:r,arcHighlight:i}){if(t.interrupt("highlight"),!e.length){t.transition("highlight").style("opacity",1).attr("d",a=>r(a));return}t.each((a,o,s)=>{const l=q(s[o]);e.includes(a.data.id)?l.style("opacity",1).transition("highlight").ease(aa).duration(500).attr("d",u=>i(u)):l.style("opacity",n.styles.unhighlightedOpacity).transition("highlight").attr("d",u=>r(u))})}function dN(t,e){const n=new et,r=at(t,"path");let i=[],a=[];const o=e.seriesContainerPosition$.pipe(C(n),F(f=>f.width<f.height?f.width:f.height),nt()),s=new dt(f=>{j({containerVisibleComputedLayoutData:e.containerVisibleComputedLayoutData$,fullParams:e.fullParams$}).pipe(C(n),U(async d=>d)).subscribe(d=>{const p=vx({data:d.containerVisibleComputedLayoutData,startAngle:d.fullParams.startAngle,endAngle:d.fullParams.endAngle});f.next(p)})}),l=new dt(f=>{j({shorterSideWith:o,fullParams:e.fullParams$}).pipe(C(n),U(async d=>d)).subscribe(d=>{const p=Ns({axisWidth:d.shorterSideWith,innerRadius:d.fullParams.innerRadius,outerRadius:d.fullParams.outerRadius,padAngle:d.fullParams.padAngle,cornerRadius:d.fullParams.cornerRadius});f.next(p)})}),u=new dt(f=>{j({shorterSideWith:o,fullParams:e.fullParams$}).pipe(C(n),U(async d=>d)).subscribe(d=>{const p=Ns({axisWidth:d.shorterSideWith,innerRadius:d.fullParams.innerRadius,outerRadius:d.fullParams.outerRadiusWhileHighlight,padAngle:d.fullParams.padAngle,cornerRadius:d.fullParams.cornerRadius});f.next(p)})}),c=e.fullChartParams$.pipe(C(n),F(f=>f.highlightTarget),nt()),h=new dt(f=>{j({pieData:s,arc:l,computedData:e.computedData$,fullParams:e.fullParams$,fullChartParams:e.fullChartParams$,highlightTarget:c}).pipe(C(n),U(async d=>d)).subscribe(d=>{e.containerSelection.interrupt("graphicMove");const p=e.containerSelection.selectAll("path").data(d.pieData,_=>_.id),g=p.enter(),m=p.exit(),y=fN({enter:g,exit:m,data:d.pieData,lastTweenData:i,fullParams:d.fullParams});e.containerSelection.transition("graphicMove").duration(d.fullChartParams.transitionDuration).tween("move",(_,v)=>b=>{a=y(b),C0({selection:e.containerSelection,data:a,arc:d.arc,pathClassName:r})}).on("end",(_,v)=>{a=of(d.pieData,d.fullParams.startAngle,d.fullParams.endAngle,1);const b=C0({selection:e.containerSelection,data:a,arc:d.arc,pathClassName:r});f.next(b),i=Object.assign([],d.pieData),e.event$.next({type:"series",pluginName:t,eventName:"transitionEnd",event:void 0,highlightTarget:d.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",data:d.computedData})})})}).pipe(Dt(1));return j({pathSelection:h,SeriesDataMap:e.SeriesDataMap$,computedData:e.computedData$,highlightTarget:c}).pipe(C(n),U(async f=>f)).subscribe(f=>{f.pathSelection.on("mouseover",(d,p)=>{d.stopPropagation(),e.event$.next({type:"series",eventName:"mouseover",pluginName:t,highlightTarget:f.highlightTarget,datum:p.data,series:f.SeriesDataMap.get(p.data.seriesLabel),seriesIndex:p.data.seriesIndex,seriesLabel:p.data.seriesLabel,event:d,data:f.computedData})}).on("mousemove",(d,p)=>{d.stopPropagation(),e.event$.next({type:"series",eventName:"mousemove",pluginName:t,highlightTarget:f.highlightTarget,datum:p.data,series:f.SeriesDataMap.get(p.data.seriesLabel),seriesIndex:p.data.seriesIndex,seriesLabel:p.data.seriesLabel,event:d,data:f.computedData})}).on("mouseout",(d,p)=>{d.stopPropagation(),e.event$.next({type:"series",eventName:"mouseout",pluginName:t,highlightTarget:f.highlightTarget,datum:p.data,series:f.SeriesDataMap.get(p.data.seriesLabel),seriesIndex:p.data.seriesIndex,seriesLabel:p.data.seriesLabel,event:d,data:f.computedData})}).on("click",(d,p)=>{d.stopPropagation(),e.event$.next({type:"series",eventName:"click",pluginName:t,highlightTarget:f.highlightTarget,datum:p.data,series:f.SeriesDataMap.get(p.data.seriesLabel),seriesIndex:p.data.seriesIndex,seriesLabel:p.data.seriesLabel,event:d,data:f.computedData})})}),j({pathSelection:h,highlight:e.seriesHighlight$.pipe(F(f=>f.map(d=>d.id))),fullChartParams:e.fullChartParams$,arc:l,arcHighlight:u}).pipe(C(n),U(async f=>f)).subscribe(f=>{hN({pathSelection:f.pathSelection,ids:f.highlight,fullChartParams:f.fullChartParams,arc:f.arc,arcHighlight:f.arcHighlight})}),()=>{n.next(void 0)}}const pN=tr(Rl,mx)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,{seriesCenterSelection$:a}=Na({selection:t,pluginName:Rl,separateSeries$:r.separateSeries$,seriesLabels$:r.seriesLabels$,seriesContainerPosition$:r.seriesContainerPosition$}),o=[];return a.pipe(C(i)).subscribe(s=>{o.forEach(l=>l()),s.each((l,u,c)=>{const h=q(c[u]),f=r.visibleComputedLayoutData$.pipe(C(i),F(p=>p[u]??p[0])),d=r.seriesContainerPosition$.pipe(C(i),F(p=>p[u]??p[0]));o[u]=dN(Rl,{containerSelection:h,computedData$:r.computedData$,containerVisibleComputedLayoutData$:f,SeriesDataMap$:r.SeriesDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,seriesHighlight$:r.seriesHighlight$,seriesContainerPosition$:d,event$:n.event$})})}),()=>{i.next(void 0),o.forEach(s=>s())}}),Ro="PieEventTexts",N0=at(Ro,"text");function Il(t,e){const n=t.selectAll(`text.${N0}`).data(e),r=n.enter().append("text").classed(N0,!0),i=n.merge(r);return i.each((a,o,s)=>{const l=q(s[o]).text(a.text);Object.keys(a.attr).forEach(u=>{l.attr(u,a.attr[u])}),Object.keys(a.style).forEach(u=>{l.style(u,a.style[u])})}),n.exit().remove(),i}function Cl({eventData:t,eventName:e,t:n,eventFn:r,textAttrs:i,textStyles:a}){return r(t,e,n).map((o,s)=>({text:o,attr:i[s],style:a[s]}))}function gN(t,e){const n=new et;let r;const i=e.fullChartParams$.pipe(C(n),F(a=>a.highlightTarget),nt());return j({computedData:e.computedData$,fullParams:e.fullParams$,fullChartParams:e.fullChartParams$,highlightTarget:i}).pipe(C(n),U(async a=>a)).subscribe(a=>{e.containerSelection.transition("move").duration(a.fullChartParams.transitionDuration).tween("move",(o,s)=>l=>{const u=Cl({eventData:{type:"series",pluginName:t,eventName:"transitionMove",event:o,highlightTarget:a.highlightTarget,data:a.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:l,eventFn:a.fullParams.eventFn,textAttrs:a.fullParams.textAttrs,textStyles:a.fullParams.textStyles});Il(e.containerSelection,u)}).on("end",(o,s)=>{const l=Cl({eventData:{type:"series",pluginName:t,eventName:"transitionEnd",event:o,highlightTarget:a.highlightTarget,data:a.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:1,eventFn:a.fullParams.eventFn,textAttrs:a.fullParams.textAttrs,textStyles:a.fullParams.textStyles});Il(e.containerSelection,l),r&&r.unsubscribe(),r=e.event$.subscribe(u=>{const c=Cl({eventData:u,eventName:u.eventName,t:1,eventFn:a.fullParams.eventFn,textAttrs:a.fullParams.textAttrs,textStyles:a.fullParams.textStyles});Il(e.containerSelection,c)})})}),()=>{n.next(void 0)}}const mN=tr(Ro,rd)(({selection:t,name:e,observer:n,subject:r})=>{const i=new et,{seriesCenterSelection$:a}=Na({selection:t,pluginName:Ro,separateSeries$:n.separateSeries$,seriesLabels$:n.seriesLabels$,seriesContainerPosition$:n.seriesContainerPosition$}),o=[];return a.pipe(C(i)).subscribe(s=>{o.forEach(l=>l()),s.each((l,u,c)=>{const h=q(c[u]),f=n.computedLayoutData$.pipe(C(i),F(p=>p[u]??p[0])),d=n.seriesContainerPosition$.pipe(C(i),F(p=>p[u]??p[0]));o[u]=gN(Ro,{containerSelection:h,computedData$:n.computedData$,containerComputedLayoutData$:f,SeriesDataMap$:n.SeriesDataMap$,fullParams$:n.fullParams$,fullChartParams$:n.fullChartParams$,seriesHighlight$:n.seriesHighlight$,seriesContainerPosition$:d,event$:r.event$})})}),()=>{i.next(void 0),o.forEach(s=>s())}}),Io="PieLabels",yN=at(Io,"text");function bN(t,e,n,r){return t.map((i,a)=>{const[o,s]=e.centroid(i),[l,u]=n.centroid(i);return{pieDatum:i,arcIndex:a,arcLabel:i.data.label,x:o*r,y:s*r,mouseoverX:l*r,mouseoverY:u*r}}).filter(i=>i.pieDatum.data.visible)}function vN(t,e,n,r){let i=t.selectAll("text").data(e,l=>l.pieDatum.id),a=i.enter().append("text").classed(yN,!0),o=i.exit();a.append("text");const s=i.merge(a);return s.attr("font-weight","bold").attr("text-anchor","middle").style("dominant-baseline","middle").style("cursor",l=>r.highlightTarget&&r.highlightTarget!="none"?"pointer":"none").text(l=>n.labelFn(l.pieDatum.data)).attr("font-size",r.styles.textSize).attr("fill",(l,u)=>ks({datum:l.pieDatum.data,colorType:n.labelColorType,fullChartParams:r})).transition().attr("transform",l=>"translate("+l.x+","+l.y+")"),o.remove(),s}function _N({labelSelection:t,ids:e,fullChartParams:n}){if(t.interrupt("highlight"),!e.length){t.transition().duration(200).attr("transform",r=>"translate("+r.x+","+r.y+")").style("opacity",1);return}t.each((r,i,a)=>{const o=q(a[i]);e.includes(r.pieDatum.id)?o.style("opacity",1).transition().duration(200).attr("transform",s=>"translate("+s.mouseoverX+","+s.mouseoverY+")"):o.style("opacity",n.styles.unhighlightedOpacity).transition().duration(200).attr("transform",s=>"translate("+s.x+","+s.y+")")})}function xN(t,e){const n=new et;let r=new et,i=[];const a=e.seriesContainerPosition$.pipe(C(n),F(o=>o.width<o.height?o.width:o.height),nt());return j({shorterSideWith:a,containerVisibleComputedLayoutData:e.containerVisibleComputedLayoutData$,fullParams:e.fullParams$,fullChartParams:e.fullChartParams$}).pipe(C(n),U(async o=>o)).subscribe(o=>{const s=Ns({axisWidth:o.shorterSideWith,innerRadius:0,outerRadius:o.fullParams.outerRadius,padAngle:0,cornerRadius:0}),l=Ns({axisWidth:o.shorterSideWith,innerRadius:0,outerRadius:o.fullParams.outerRadiusWhileHighlight,padAngle:0,cornerRadius:0}),u=vx({data:o.containerVisibleComputedLayoutData,startAngle:o.fullParams.startAngle,endAngle:o.fullParams.endAngle});i=bN(u,s,l,o.fullParams.labelCentroid);const c=vN(e.containerSelection,i,o.fullParams,o.fullChartParams);r.next(c)}),j({labelSelection:r,highlight:e.seriesHighlight$.pipe(F(o=>o.map(s=>s.id))),fullChartParams:e.fullChartParams$}).pipe(C(n),U(async o=>o)).subscribe(o=>{_N({labelSelection:o.labelSelection,ids:o.highlight,fullChartParams:o.fullChartParams})}),()=>{n.next(void 0)}}const SN=tr(Io,id)(({selection:t,observer:e,subject:n})=>{const r=new et,{seriesCenterSelection$:i}=Na({selection:t,pluginName:Io,separateSeries$:e.separateSeries$,seriesLabels$:e.seriesLabels$,seriesContainerPosition$:e.seriesContainerPosition$}),a=[];return i.pipe(C(r)).subscribe(o=>{a.forEach(s=>s()),o.each((s,l,u)=>{const c=q(u[l]),h=e.visibleComputedLayoutData$.pipe(C(r),F(d=>d[l]??d[0])),f=e.seriesContainerPosition$.pipe(C(r),F(d=>d[l]??d[0]));a[l]=xN(Io,{containerSelection:c,containerVisibleComputedLayoutData$:h,fullParams$:e.fullParams$,fullChartParams$:e.fullChartParams$,seriesHighlight$:e.seriesHighlight$,seriesContainerPosition$:f,event$:n.event$})})}),()=>{r.next(void 0)}}),Nl="Rose",AN=Math.PI*2,_x=0;function PN({cornerRadius:t,outerRadius:e,axisWidth:n,maxValue:r,arcScaleType:i}){const a=n/2*e,o=i==="area"?.5:1,s=ii().domain([0,r]).range([0,a]).exponent(o);return l=>{const u=s(l.prevValue),c=s(l.value),h=un(u,c);return f=>{const d=h(f);return $u().innerRadius(0).outerRadius(d).padAngle(_x).padRadius(d).cornerRadius(t)(l)}}}function wN({pathSelection:t,ids:e,fullParams:n,fullChartParams:r,tweenArc:i}){if(t.interrupt("highlight"),!e.length){t.transition("highlight").style("opacity",1).attr("d",a=>i(a)(1));return}t.each((a,o,s)=>{const l=q(s[o]);e.includes(a.data.id)?l.style("opacity",1).transition("highlight").ease(aa).duration(500).attr("d",u=>i({...u,startAngle:u.startAngle-n.mouseoverAngleIncrease,endAngle:u.endAngle+n.mouseoverAngleIncrease})(1)):l.style("opacity",r.styles.unhighlightedOpacity).transition("highlight").attr("d",u=>i(u)(1))})}function TN(t,e){const n=new et,r=at(t,"path");let i=[];const a=e.seriesContainerPosition$.pipe(C(n),F(d=>d.width<d.height?d.width:d.height),nt()),o=j({containerVisibleComputedLayoutData:e.containerVisibleComputedLayoutData$,fullParams:e.fullParams$}).pipe(C(n),U(async d=>d),F(d=>{const p=AN/d.containerVisibleComputedLayoutData.length;return d.containerVisibleComputedLayoutData.map((g,m)=>({id:g.id,data:g,index:m,value:g.value,startAngle:p*m,endAngle:p*(m+1),padAngle:_x,prevValue:i[m]&&i[m].id===g.id?i[m].value:0}))})),s=e.fullChartParams$.pipe(C(n),F(d=>d.highlightTarget),nt()),l=e.visibleComputedLayoutData$.pipe(F(d=>Math.max(...d.flat().map(p=>p.value))),nt()),u=j({fullParams:e.fullParams$,axisWidth:a,maxValue:l}).pipe(C(n),U(async d=>d),F(d=>PN({cornerRadius:d.fullParams.cornerRadius,outerRadius:d.fullParams.outerRadius,axisWidth:d.axisWidth,maxValue:d.maxValue,arcScaleType:d.fullParams.arcScaleType}))),c=e.fullChartParams$.pipe(C(n),F(d=>d.transitionDuration),nt()),h=new Ox(!1),f=new dt(d=>{j({pieData:o,tweenArc:u,transitionDuration:c}).pipe(C(n),U(async p=>p)).subscribe(p=>{const g=p.pieData.map((y,_)=>(y.prevValue=i[_]&&i[_].id===y.id?i[_].value:0,y));h.next(!0);const m=e.containerSelection.selectAll("path").data(g,y=>y.id).join("path").classed(r,!0).style("cursor","pointer").attr("fill",(y,_)=>y.data.color);m.interrupt("graphicMove"),m.transition("graphicMove").duration(p.transitionDuration).attrTween("d",p.tweenArc).on("end",()=>{d.next(m),h.next(!1)}),i=Object.assign([],g)})}).pipe(Dt(1));return j({pathSelection:f,SeriesDataMap:e.SeriesDataMap$,computedData:e.computedData$,highlightTarget:s}).pipe(C(n),U(async d=>d)).subscribe(d=>{d.pathSelection.on("mouseover",(p,g)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"mouseover",pluginName:t,highlightTarget:d.highlightTarget,datum:g.data,series:d.SeriesDataMap.get(g.data.seriesLabel),seriesIndex:g.data.seriesIndex,seriesLabel:g.data.seriesLabel,event:p,data:d.computedData})}).on("mousemove",(p,g)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"mousemove",pluginName:t,highlightTarget:d.highlightTarget,datum:g.data,series:d.SeriesDataMap.get(g.data.seriesLabel),seriesIndex:g.data.seriesIndex,seriesLabel:g.data.seriesLabel,event:p,data:d.computedData})}).on("mouseout",(p,g)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"mouseout",pluginName:t,highlightTarget:d.highlightTarget,datum:g.data,series:d.SeriesDataMap.get(g.data.seriesLabel),seriesIndex:g.data.seriesIndex,seriesLabel:g.data.seriesLabel,event:p,data:d.computedData})}).on("click",(p,g)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"click",pluginName:t,highlightTarget:d.highlightTarget,datum:g.data,series:d.SeriesDataMap.get(g.data.seriesLabel),seriesIndex:g.data.seriesIndex,seriesLabel:g.data.seriesLabel,event:p,data:d.computedData})})}),j({pathSelection:f,highlight:e.seriesHighlight$.pipe(F(d=>d.map(p=>p.id))),fullParams:e.fullParams$,fullChartParams:e.fullChartParams$,tweenArc:u,isTransitionMoving:h}).pipe(C(n),U(async d=>d),Bi(d=>!d.isTransitionMoving)).subscribe(d=>{wN({pathSelection:d.pathSelection,ids:d.highlight,fullParams:d.fullParams,fullChartParams:d.fullChartParams,tweenArc:d.tweenArc})}),()=>{n.next(void 0)}}const EN=tr(Nl,yx)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,{seriesCenterSelection$:a}=Na({selection:t,pluginName:Nl,separateSeries$:r.separateSeries$,seriesLabels$:r.seriesLabels$,seriesContainerPosition$:r.seriesContainerPosition$}),o=[];return a.pipe(C(i)).subscribe(s=>{o.forEach(l=>l()),s.each((l,u,c)=>{const h=q(c[u]),f=r.visibleComputedLayoutData$.pipe(C(i),F(p=>JSON.parse(JSON.stringify(p[u]??p[0])))),d=r.seriesContainerPosition$.pipe(C(i),F(p=>JSON.parse(JSON.stringify(p[u]??p[0]))));o[u]=TN(Nl,{containerSelection:h,computedData$:r.computedData$,visibleComputedData$:r.visibleComputedData$,visibleComputedLayoutData$:r.visibleComputedLayoutData$,containerVisibleComputedLayoutData$:f,SeriesDataMap$:r.SeriesDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,seriesHighlight$:r.seriesHighlight$,seriesContainerPosition$:d,event$:n.event$})})}),()=>{i.next(void 0),o.forEach(s=>s())}}),Co="RoseLabels",$N=at(Co,"text");function DN({pieData:t,centroid:e,arcScaleType:n,maxValue:r,axisWidth:i,outerRadius:a}){const o=i/2*a,s=n==="area"?.5:1,l=ii().domain([0,r]).range([0,o]).exponent(s);return t.map((u,c)=>{const h=l(u.value),f=$u().innerRadius(0).outerRadius(h).padAngle(0).padRadius(h).cornerRadius(0),[d,p]=f.centroid(u),[g,m]=[d,p];return{pieDatum:u,arcIndex:c,arcLabel:u.data.label,x:d*e,y:p*e,mouseoverX:g*e,mouseoverY:m*e}}).filter(u=>u.pieDatum.data.visible)}function LN(t,e,n,r){let i=t.selectAll("text").data(e,l=>l.pieDatum.id),a=i.enter().append("text").classed($N,!0),o=i.exit();a.append("text");const s=i.merge(a);return s.attr("font-weight","bold").attr("text-anchor","middle").style("dominant-baseline","middle").style("cursor",l=>r.highlightTarget&&r.highlightTarget!="none"?"pointer":"none").text(l=>n.labelFn(l.pieDatum.data)).attr("font-size",r.styles.textSize).attr("fill",(l,u)=>ks({datum:l.pieDatum.data,colorType:n.labelColorType,fullChartParams:r})).transition().attr("transform",l=>"translate("+l.x+","+l.y+")"),o.remove(),s}function MN({labelSelection:t,ids:e,fullChartParams:n}){if(t.interrupt("highlight"),!e.length){t.transition().duration(200).attr("transform",r=>"translate("+r.x+","+r.y+")").style("opacity",1);return}t.each((r,i,a)=>{const o=q(a[i]);e.includes(r.pieDatum.data.id)?o.style("opacity",1).transition().duration(200).attr("transform",s=>"translate("+s.mouseoverX+","+s.mouseoverY+")"):o.style("opacity",n.styles.unhighlightedOpacity).transition().duration(200).attr("transform",s=>"translate("+s.x+","+s.y+")")})}function RN(t,e){const n=new et;let r=new et,i=[];const a=e.seriesContainerPosition$.pipe(C(n),F(s=>s.width<s.height?s.width:s.height),nt()),o=e.visibleComputedLayoutData$.pipe(F(s=>Math.max(...s.flat().map(l=>l.value))),nt());return j({shorterSideWith:a,containerVisibleComputedLayoutData:e.containerVisibleComputedLayoutData$,maxValue:o,fullParams:e.fullParams$,fullChartParams:e.fullChartParams$}).pipe(C(n),U(async s=>s)).subscribe(s=>{const l=Math.PI*2/s.containerVisibleComputedLayoutData.length,u=s.containerVisibleComputedLayoutData.map((h,f)=>({id:h.id,data:h,index:f,value:h.value,startAngle:l*f,endAngle:l*(f+1),padAngle:0}));i=DN({pieData:u,centroid:s.fullParams.labelCentroid,arcScaleType:s.fullParams.arcScaleType,maxValue:s.maxValue,axisWidth:s.shorterSideWith,outerRadius:s.fullParams.outerRadius});const c=LN(e.containerSelection,i,s.fullParams,s.fullChartParams);r.next(c)}),j({labelSelection:r,highlight:e.seriesHighlight$.pipe(F(s=>s.map(l=>l.id))),fullChartParams:e.fullChartParams$}).pipe(C(n),U(async s=>s)).subscribe(s=>{MN({labelSelection:s.labelSelection,ids:s.highlight,fullChartParams:s.fullChartParams})}),()=>{n.next(void 0)}}const IN=tr(Co,ad)(({selection:t,observer:e,subject:n})=>{const r=new et,{seriesCenterSelection$:i}=Na({selection:t,pluginName:Co,separateSeries$:e.separateSeries$,seriesLabels$:e.seriesLabels$,seriesContainerPosition$:e.seriesContainerPosition$}),a=[];return i.pipe(C(r)).subscribe(o=>{a.forEach(s=>s()),o.each((s,l,u)=>{const c=q(u[l]),h=e.visibleComputedLayoutData$.pipe(C(r),F(d=>JSON.parse(JSON.stringify(d[l]??d[0])))),f=e.seriesContainerPosition$.pipe(C(r),F(d=>JSON.parse(JSON.stringify(d[l]??d[0]))));a[l]=RN(Co,{containerSelection:c,visibleComputedLayoutData$:e.visibleComputedLayoutData$,containerVisibleComputedLayoutData$:h,fullParams$:e.fullParams$,fullChartParams$:e.fullChartParams$,seriesHighlight$:e.seriesHighlight$,seriesContainerPosition$:f,event$:n.event$})})}),()=>{r.next(void 0)}}),k0="SeriesLegend",CN=tr(k0,bx)(({selection:t,rootSelection:e,observer:n,subject:r})=>{const i=new et,a=n.SeriesDataMap$.pipe(C(i),F(l=>Array.from(l.keys()))),o=n.fullParams$.pipe(C(i),F(l=>{const u=[{listRectWidth:l.listRectWidth,listRectHeight:l.listRectHeight,listRectRadius:l.listRectRadius}];return{...l,seriesList:u}})),s=Gu(k0,{rootSelection:e,seriesLabels$:a,fullParams$:o,layout$:n.layout$,fullChartParams$:n.fullChartParams$,textSizePx$:n.textSizePx$});return()=>{i.next(void 0),s()}}),od={paddingInner:2,paddingOuter:2,labelColorType:"primary",squarifyRatio:1.618034,sort:(t,e)=>e.value-t.value};od.sort.toString=()=>"(a, b) => b.value - a.value";const xx={position:"right",justify:"end",padding:28,backgroundFill:"none",backgroundStroke:"none",gap:10,listRectWidth:14,listRectHeight:14,listRectRadius:0,textColorType:"primary"},G0="TreeLegend",NN=s1(G0,xx)(({selection:t,rootSelection:e,observer:n,subject:r})=>{const i=new et,a=n.CategoryDataMap$.pipe(C(i),F(l=>Array.from(l.keys()))),o=n.fullParams$.pipe(C(i),F(l=>{const u=[{listRectWidth:l.listRectWidth,listRectHeight:l.listRectHeight,listRectRadius:l.listRectRadius}];return{...l,seriesList:u}})),s=Gu(G0,{rootSelection:e,seriesLabels$:a,fullParams$:o,layout$:n.layout$,fullChartParams$:n.fullChartParams$,textSizePx$:n.textSizePx$});return()=>{i.next(void 0),s()}}),Rn="TreeMap",O0=at(Rn,"tree"),F0=at(Rn,"tile");function kN({selection:t,treeData:e,fullParams:n,fullChartParams:r,textSizePx:i}){const a=i/2,o=i,s=t.selectAll(`g.${O0}`).data(e,l=>l.data.id).join("g").attr("class",O0);return s.attr("transform",l=>!l.x0||!l.y0?null:`translate(${l.x0},${l.y0})`).each((l,u,c)=>{const h=q(c[u]);h.selectAll(`rect.${F0}`).data([l],f=>f.data.id).join("rect").attr("id",f=>f.data.id).attr("class",F0).attr("cursor","pointer").attr("width",f=>f.x1-f.x0).attr("height",f=>f.y1-f.y0).attr("fill",f=>f.data.color).attr("data-name",f=>f.data.label).attr("data-category",f=>f.data.categoryLabel).attr("data-value",f=>f.data.value),h.selectAll("g").data([l]).join("g").each((f,d,p)=>{q(p[d]).selectAll("text").data([f]).join("text").text(g=>g.data.label).attr("dominant-baseline","hanging").attr("x",a).attr("y",a).attr("font-size",r.styles.textSize).each(function(g){const m=q(this),y=g.data.label.split(/\s+/).reverse();let _,v=[];const b=m.attr("x");let A=m.attr("y"),$=0,x=m.text(null).append("tspan").attr("cursor","pointer").attr("fill",Mt(n.labelColorType,r)).attr("font-size",r.styles.textSize).attr("x",b).attr("y",A);for(;_=y.pop();)v.push(_),x.text(v.join(" ")),x.node().getComputedTextLength()>g.x1-g.x0-a&&(v.pop(),x.text(v.join(" ")),v=[_],$+=o,x=m.append("tspan").attr("cursor","pointer").attr("fill",Mt(n.labelColorType,r)).attr("font-size",r.styles.textSize).attr("x",b).attr("y",A).attr("dy",$+"px").text(_))})})}),s}function GN({selection:t,ids:e,fullChartParams:n}){if(t.interrupt("highlight"),!e.length){t.transition("highlight").duration(200).style("opacity",1);return}t.each((r,i,a)=>{e.includes(r.data.id)?q(a[i]).style("opacity",1):q(a[i]).style("opacity",n.styles.unhighlightedOpacity)})}const ON=s1(Rn,od)(({selection:t,name:e,subject:n,observer:r})=>{const i=new et,a=j({layout:r.layout$,visibleComputedData:r.visibleComputedData$,fullParams:r.fullParams$,fullDataFormatter:r.fullDataFormatter$,fullChartParams:r.fullChartParams$}).pipe(C(i),U(async l=>l),F(l=>{const u=qb().size([l.layout.width,l.layout.height]).paddingInner(l.fullParams.paddingInner).paddingOuter(l.fullParams.paddingOuter).round(!0).tile(Ph.ratio(l.fullParams.squarifyRatio)),c=pu(l.visibleComputedData).sum(h=>h.value).sort(l.fullParams.sort);return u(c),c.leaves()})),o=j({selection:Bs(t),treeData:a,fullParams:r.fullParams$,fullChartParams:r.fullChartParams$,textSizePx:r.textSizePx$}).pipe(C(i),U(async l=>l),F(l=>kN({selection:t,treeData:l.treeData,fullParams:l.fullParams,fullChartParams:l.fullChartParams,textSizePx:l.textSizePx}))),s=r.fullChartParams$.pipe(C(i),F(l=>l.highlightTarget),nt());return j({cellSelection:o,computedData:r.computedData$,treeData:a,fullParams:r.fullParams$,fullChartParams:r.fullChartParams$,highlightTarget:s,CategoryDataMap:r.CategoryDataMap$}).pipe(C(i),U(async l=>l)).subscribe(l=>{l.cellSelection.on("mouseover",(u,c)=>{u.stopPropagation(),n.event$.next({type:"tree",eventName:"mouseover",pluginName:Rn,highlightTarget:l.highlightTarget,datum:c.data,category:l.CategoryDataMap.get(c.data.categoryLabel),categoryIndex:c.data.categoryIndex,categoryLabel:c.data.categoryLabel,event:u,data:l.computedData})}).on("mousemove",(u,c)=>{u.stopPropagation(),n.event$.next({type:"tree",eventName:"mousemove",pluginName:Rn,highlightTarget:l.highlightTarget,datum:c.data,category:l.CategoryDataMap.get(c.data.categoryLabel),categoryIndex:c.data.categoryIndex,categoryLabel:c.data.categoryLabel,event:u,data:l.computedData})}).on("mouseout",(u,c)=>{u.stopPropagation(),n.event$.next({type:"tree",eventName:"mouseout",pluginName:Rn,highlightTarget:l.highlightTarget,datum:c.data,category:l.CategoryDataMap.get(c.data.categoryLabel),categoryIndex:c.data.categoryIndex,categoryLabel:c.data.categoryLabel,event:u,data:l.computedData})}).on("click",(u,c)=>{u.stopPropagation(),n.event$.next({type:"tree",eventName:"click",pluginName:Rn,highlightTarget:l.highlightTarget,datum:c.data,category:l.CategoryDataMap.get(c.data.categoryLabel),categoryIndex:c.data.categoryIndex,categoryLabel:c.data.categoryLabel,event:u,data:l.computedData})})}),j({cellSelection:o,highlight:r.treeHighlight$.pipe(F(l=>l.map(u=>u.id))),fullChartParams:r.fullChartParams$}).pipe(C(i),U(async l=>l)).subscribe(l=>{GN({selection:l.cellSelection,ids:l.highlight,fullChartParams:l.fullChartParams})}),()=>{i.next(void 0)}}),$k=Object.freeze(Object.defineProperty({__proto__:null,BarStack:uC,Bars:tC,BarsPN:eC,BarsTriangle:mC,Bubbles:lN,CONTAINER_PLUGIN_PARAMS:px,Container:QC,DEFAULT_BARS_DIVERGING_PARAMS:Ax,DEFAULT_BARS_PARAMS:Gs,DEFAULT_BARS_TRIANGLE_PARAMS:U0,DEFAULT_BAR_STACK_PARAMS:j0,DEFAULT_BUBBLES_PARAMS:gx,DEFAULT_DOTS_PARAMS:H0,DEFAULT_GRID_LEGEND_PARAMS:W0,DEFAULT_GROUP_AREA_PARAMS:sf,DEFAULT_GROUP_AXIS_PARAMS:uf,DEFAULT_LINES_PARAMS:B0,DEFAULT_LINE_AREAS_PARAMS:z0,DEFAULT_MULTI_BARS_PARAMS:ix,DEFAULT_MULTI_BARS_TRIANGLE_PARAMS:ox,DEFAULT_MULTI_BAR_STACK_PARAMS:ax,DEFAULT_MULTI_DOTS_PARAMS:lx,DEFAULT_MULTI_GRID_LEGEND_PARAMS:rx,DEFAULT_MULTI_GROUP_AXIS_PARAMS:Kh,DEFAULT_MULTI_LINES_PARAMS:sx,DEFAULT_MULTI_LINE_AREAS_PARAMS:ux,DEFAULT_MULTI_VALUE_AXIS_PARAMS:Ou,DEFAULT_MULTI_VALUE_STACK_AXIS_PARAMS:GC,DEFAULT_OVERLAPPING_VALUE_AXES_PARAMS:td,DEFAULT_OVERLAPPING_VALUE_STACK_AXES_PARAMS:cx,DEFAULT_PIE_EVENT_TEXTS_PARAMS:rd,DEFAULT_PIE_LABELS_PARAMS:id,DEFAULT_PIE_PARAMS:mx,DEFAULT_ROSE_LABELS_PARAMS:ad,DEFAULT_ROSE_PARAMS:yx,DEFAULT_SCALING_AREA_PARAMS:Y0,DEFAULT_SERIES_LEGEND_PARAMS:bx,DEFAULT_TREE_LEGEND_PARAMS:xx,DEFAULT_TREE_MAP_PARAMS:od,DEFAULT_VALUE_AXIS_PARAMS:lf,DEFAULT_VALUE_STACK_AXIS_PARAMS:V0,Dots:_C,GridLegend:SC,GroupAux:kC,GroupAxis:PC,LineAreas:WI,Lines:BI,MultiBarStack:BC,MultiBars:FC,MultiBarsTriangle:zC,MultiDots:UC,MultiGridLegend:OC,MultiGroupAxis:VC,MultiLineAreas:jC,MultiLines:HC,MultiValueAxis:YC,MultiValueStackAxis:WC,OverlappingValueAxes:qC,OverlappingValueStackAxes:ZC,Pie:pN,PieEventTexts:mN,PieLabels:SN,Rose:EN,RoseLabels:IN,ScalingArea:DC,SeriesLegend:CN,TOOLTIP_PARAMS:ed,Tooltip:eN,TreeLegend:NN,TreeMap:ON,ValueAxis:TC,ValueStackAxis:EC},Symbol.toStringTag,{value:"Module"})),ka={Bubbles:{},Pie:{},PieEventTexts:{},PieLabels:{},Rose:{},RoseLabels:{},SeriesLegend:{}},Ga={Bars:{},BarsPN:{},BarStack:{},BarsTriangle:{},Dots:{},GridLegend:{},GroupAux:{},GroupAxis:{},LineAreas:{},Lines:{},ScalingArea:{},ValueAxis:{},ValueStackAxis:{}},FN={MultiBars:{},MultiBarStack:{},MultiBarsTriangle:{},MultiDots:{},MultiGridLegend:{},MultiGroupAxis:{},MultiLineAreas:{},MultiLines:{},MultiValueAxis:{},MultiValueStackAxis:{},OverlappingValueAxes:{},OverlappingValueStackAxes:{}},ct={Tooltip:{}},BN={name:"PRESET_BUBBLES_SCALING_BY_RADIUS",description:"以半徑尺寸為比例的泡泡圖",allPluginParams:{...ct,Bubbles:{arcScaleType:"radius"},SeriesLegend:{listRectRadius:7}}},zN={name:"PRESET_BUBBLES_SEPARATE_SERIES",description:"分開顯示Series泡泡",chartParams:{padding:{top:160,right:160,bottom:160,left:160}},dataFormatter:{separateSeries:!0},allPluginParams:{...ct,Bubbles:{},SeriesLegend:{listRectRadius:7}}},HN={name:"PRESET_PIE_DONUT",description:"甜甜圈圖",allPluginParams:{...ct,Pie:{innerRadius:.5},PieLabels:{},PieEventTexts:{},SeriesLegend:{listRectRadius:7}}},jN={name:"PRESET_PIE_HALF_DONUT",description:"半圓甜甜圈圖",chartParams:{padding:{top:120,right:120,bottom:0,left:60}},allPluginParams:{...ct,Pie:{innerRadius:.5,startAngle:-Math.PI/2,endAngle:Math.PI/2},PieLabels:{startAngle:-Math.PI/2,endAngle:Math.PI/2},PieEventTexts:{},SeriesLegend:{listRectRadius:7}}},UN={name:"PRESET_PIE_WITH_INNER_LABELS",description:"圓餅圖及內部資料標籤",allPluginParams:{...ct,Pie:{},PieLabels:{labelCentroid:1.3,labelColorType:"primary"},PieEventTexts:{},SeriesLegend:{listRectRadius:7}}},VN={name:"PRESET_ROSE_SCALING_BY_RADIUS",description:"以半徑尺寸為比例的玫瑰圖",allPluginParams:{...ct,Rose:{arcScaleType:"radius"},RoseLabels:{arcScaleType:"radius"},SeriesLegend:{listRectRadius:7}}},YN={name:"PRESET_SERIES_BASIC",description:"基本Series參數",allPluginParams:{...ka,...ct,SeriesLegend:{listRectRadius:7}}},Sx={name:"PRESET_SERIES_DESC",description:"資料由大到小排序",dataFormatter:{sort:(t,e)=>e.value-t.value},allPluginParams:{...ka,...ct}};Sx.dataFormatter.sort.toString=()=>"(a, b) => b.value - a.value";const WN={name:"PRESET_SERIES_SEPARATE_SERIES_AND_SUM_SERIES",description:"分開顯示Series並合併Series資料",dataFormatter:{separateSeries:!0,sumSeries:!0},allPluginParams:{...ka,...ct}},XN={name:"PRESET_SERIES_SEPARATE_SERIES",description:"分開顯示Series",dataFormatter:{separateSeries:!0},allPluginParams:{...ka,...ct}},qN={name:"PRESET_SERIES_SUM_SERIES",description:"合併Series資料",dataFormatter:{sumSeries:!0},allPluginParams:{...ka,...ct}},ZN={name:"PRESET_BARS_HORIZONTAL_AND_ROUND",description:"橫向圓角長條圖",chartParams:{padding:{top:60,right:60,bottom:120,left:160}},dataFormatter:{grid:{valueAxis:{position:"bottom"},groupAxis:{position:"left"}}},allPluginParams:{...ct,Bars:{barWidth:0,barPadding:1,barGroupPadding:10,barRadius:!0},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectRadius:7}}},QN={name:"PRESET_BARS_HORIZONTAL_AND_THIN",description:"橫向細長長條圖",chartParams:{padding:{top:60,right:60,bottom:120,left:160}},dataFormatter:{grid:{valueAxis:{position:"bottom"},groupAxis:{position:"left"}}},allPluginParams:{...ct,Bars:{barWidth:20,barPadding:1,barGroupPadding:10},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14}}},JN={name:"PRESET_BARS_ROUND",description:"圓角長條圖",chartParams:{padding:{top:60,right:60,bottom:120,left:60}},allPluginParams:{...ct,Bars:{barWidth:0,barPadding:1,barGroupPadding:10,barRadius:!0},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectRadius:7}}},KN={name:"PRESET_BARS_THIN",description:"細長條圖",chartParams:{padding:{top:60,right:60,bottom:120,left:60}},allPluginParams:{...ct,Bars:{barWidth:20,barPadding:1,barGroupPadding:10},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14}}},tk={name:"PRESET_GRID_BASIC",description:"基本Grid參數",chartParams:{padding:{top:60,right:60,bottom:120,left:60}},allPluginParams:{...Ga,...ct,GridLegend:{position:"bottom",justify:"center",padding:14}}},ek={name:"PRESET_GRID_HORIZONTAL",description:"橫向圖",chartParams:{padding:{top:60,right:60,bottom:120,left:160}},dataFormatter:{grid:{valueAxis:{position:"bottom"},groupAxis:{position:"left"}}},allPluginParams:{...Ga,...ct,GridLegend:{position:"bottom",justify:"center",padding:14}}},nk={name:"PRESET_GRID_PN_SCALE",description:"正負值分向圖",chartParams:{padding:{top:60,right:60,bottom:120,left:60}},dataFormatter:{grid:{valueAxis:{scaleDomain:["auto","auto"],scaleRange:[.05,.95]}}},allPluginParams:{...Ga,...ct,GridLegend:{position:"bottom",justify:"center",padding:14}}},rk={name:"PRESET_GRID_ROTATE_AXIS_LABEL",description:"傾斜標籤",chartParams:{padding:{top:60,right:60,bottom:160,left:60}},allPluginParams:{...Ga,...ct,GroupAxis:{tickPadding:15,tickTextRotate:-30},GridLegend:{position:"bottom",justify:"center",padding:14}}},ik={name:"PRESET_GRID_SEPARATE_SERIES",description:"分開顯示Series",chartParams:{padding:{top:60,right:60,bottom:160,left:60}},dataFormatter:{grid:{separateSeries:!0}},allPluginParams:{...Ga,...ct,GroupAxis:{tickPadding:15,tickTextRotate:-30},GridLegend:{position:"bottom",justify:"center",padding:14}}},ak={name:"PRESET_LINE_AREAS_BASIC",description:"基本LineArea參數",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},dataFormatter:{grid:{groupAxis:{scalePadding:0}}},allPluginParams:{...ct,Lines:{},LineAreas:{},Dots:{},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},ok={name:"PRESET_LINE_AREAS_CURVE",description:"弧線折線圖",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},dataFormatter:{grid:{groupAxis:{scalePadding:0}}},allPluginParams:{...ct,Lines:{lineCurve:"curveMonotoneX",lineWidth:3},LineAreas:{lineCurve:"curveMonotoneX"},Dots:{},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},sk={name:"PRESET_LINE_AREAS_HIGHLIGHT_GROUP_DOTS",description:"折線圖及Highlight Group圓點",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"group"},dataFormatter:{grid:{groupAxis:{scalePadding:0}}},allPluginParams:{...ct,Lines:{lineWidth:3},LineAreas:{},Dots:{onlyShowHighlighted:!1},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},uk={name:"PRESET_LINE_AREAS_HORIZONTAL",description:"橫向折線圖",chartParams:{padding:{top:60,right:60,bottom:120,left:160},highlightTarget:"series"},dataFormatter:{grid:{valueAxis:{position:"bottom"},groupAxis:{position:"left",scalePadding:0}}},allPluginParams:{...ct,Lines:{},LineAreas:{},Dots:{},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},lk={name:"PRESET_LINE_AREAS_LOOSE_TICKS",description:"寬鬆標籤",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},dataFormatter:{grid:{groupAxis:{scalePadding:0}}},allPluginParams:{...ct,Lines:{},LineAreas:{},Dots:{},GroupAxis:{ticks:6},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},ck={name:"PRESET_LINE_AREAS_ROTATE_AXIS_LABEL",description:"傾斜標籤",chartParams:{padding:{top:60,right:60,bottom:160,left:60},highlightTarget:"series"},dataFormatter:{grid:{groupAxis:{scalePadding:0}}},allPluginParams:{...ct,Lines:{},LineAreas:{},Dots:{},GroupAxis:{tickPadding:15,tickTextRotate:-30},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},fk={name:"PRESET_LINE_AREAS_SEPARATE_SERIES",description:"LineAreas 分開顯示Series",chartParams:{padding:{top:60,right:60,bottom:160,left:60},highlightTarget:"series"},dataFormatter:{grid:{separateSeries:!0,groupAxis:{scalePadding:0}}},allPluginParams:{...ct,Lines:{},LineAreas:{},Dots:{},GroupAxis:{tickPadding:15,tickTextRotate:-30},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},hk={name:"PRESET_LINES_BASIC",description:"基本Lines參數",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},allPluginParams:{...ct,Lines:{},Dots:{},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},dk={name:"PRESET_LINES_CURVE",description:"弧線折線圖",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},allPluginParams:{...ct,Lines:{lineCurve:"curveMonotoneX",lineWidth:3},Dots:{},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},pk={name:"PRESET_LINES_HIGHLIGHT_GROUP_DOTS",description:"折線圖及Highlight Group圓點",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"group"},allPluginParams:{...ct,Lines:{},Dots:{onlyShowHighlighted:!1},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},gk={name:"PRESET_LINES_HORIZONTAL",description:"橫向折線圖",chartParams:{padding:{top:60,right:60,bottom:120,left:160},highlightTarget:"series"},dataFormatter:{grid:{valueAxis:{position:"bottom"},groupAxis:{position:"left"}}},allPluginParams:{...ct,Lines:{},Dots:{},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},mk={name:"PRESET_LINES_LOOSE_TICKS",description:"寬鬆標籤",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},allPluginParams:{...ct,Lines:{},Dots:{},GroupAxis:{ticks:6},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},yk={name:"PRESET_LINES_ROTATE_AXIS_LABEL",description:"傾斜標籤",chartParams:{padding:{top:60,right:60,bottom:160,left:60},highlightTarget:"series"},allPluginParams:{...ct,Lines:{},Dots:{},GroupAxis:{tickPadding:15,tickTextRotate:-30},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},bk={name:"PRESET_LINES_WITH_SOLID_DOTS",description:"折線圖及實心圓點",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},allPluginParams:{...ct,Lines:{},Dots:{radius:3,fillColorType:"series",onlyShowHighlighted:!1},GroupAxis:{},ValueAxis:{},GroupAux:{},GridLegend:{position:"bottom",justify:"center",padding:14,listRectHeight:2}}},vk={name:"PRESET_MULTI_GRID_BASIC",description:"基本MultiGrid參數",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},allPluginParams:{...FN,...ct,MultiGridLegend:{position:"bottom",justify:"center",padding:14,gridList:[{},{listRectHeight:2}]}}},_k={name:"PRESET_MULTI_GRID_DIVERGING",description:"雙向折線圖",chartParams:{padding:{top:60,right:60,bottom:160,left:60}},dataFormatter:{gridList:[{groupAxis:{position:"right"},valueAxis:{position:"bottom"}},{groupAxis:{position:"left"},valueAxis:{position:"bottom"}}],container:{gap:200,rowAmount:1,columnAmount:2},separateGrid:!0},allPluginParams:{...ct,MultiGroupAxis:{tickPadding:60,gridIndexes:[0]},MultiValueAxis:{gridIndexes:[0,1]},MultiValueStackAxis:{gridIndexes:[0,1]},MultiBars:{gridIndexes:[0,1]},MultiBarStack:{gridIndexes:[0,1]},MultiBarsTriangle:{gridIndexes:[0,1]},MultiLines:{gridIndexes:[0,1]},MultiLineAreas:{gridIndexes:[0,1]},MultiDots:{gridIndexes:[0,1]},MultiGridLegend:{position:"bottom",justify:"center",padding:14}}},xk={name:"PRESET_MULTI_GRID_ROUND_STYLE",description:"MultiGrid圓弧風格",chartParams:{padding:{top:60,right:60,bottom:120,left:60},highlightTarget:"series"},allPluginParams:{...ct,MultiBars:{barWidth:0,barPadding:1,barGroupPadding:10,barRadius:!0},MultiBarStack:{},MultiDots:{},MultiGridLegend:{position:"bottom",justify:"center",padding:14,gridList:[{listRectRadius:7},{listRectHeight:2}]},MultiGroupAxis:{},MultiLineAreas:{},MultiLines:{lineCurve:"curveMonotoneX",lineWidth:3},MultiValueAxis:{},MultiValueStackAxis:{},OverlappingValueAxes:{},OverlappingValueStackAxes:{}}},Sk={name:"PRESET_MULTI_GRID_SEPARATE_GRID",description:"2組Grid圖表",chartParams:{padding:{top:60,right:60,bottom:160,left:60}},dataFormatter:{separateGrid:!0},allPluginParams:{...ct,MultiGroupAxis:{tickTextRotate:-30,gridIndexes:"all"},MultiValueAxis:{gridIndexes:"all"},MultiValueStackAxis:{gridIndexes:"all"},MultiBars:{gridIndexes:"all"},MultiBarStack:{gridIndexes:"all"},MultiBarsTriangle:{gridIndexes:"all"},MultiLines:{gridIndexes:"all"},MultiLineAreas:{gridIndexes:"all"},MultiDots:{gridIndexes:"all"},MultiGridLegend:{position:"bottom",justify:"center",padding:14}}},Ak={name:"PRESET_MULTI_LINE_AREAS_SEPARATE_GRID",description:"2組區域圖表",chartParams:{padding:{top:60,right:60,bottom:160,left:60}},dataFormatter:{gridList:[{groupAxis:{scalePadding:0}},{groupAxis:{scalePadding:0}}],separateGrid:!0},allPluginParams:{...ct,MultiGroupAxis:{tickTextRotate:-30,gridIndexes:"all"},MultiValueAxis:{gridIndexes:"all"},MultiValueStackAxis:{gridIndexes:"all"},MultiBars:{gridIndexes:"all"},MultiBarStack:{gridIndexes:"all"},MultiBarsTriangle:{gridIndexes:"all"},MultiLines:{gridIndexes:"all"},MultiLineAreas:{gridIndexes:"all"},MultiDots:{gridIndexes:"all"},MultiGridLegend:{position:"bottom",justify:"center",padding:14,gridList:[{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2}]}}},Pk={name:"PRESET_MULTI_LINES_SEPARATE_GRID",description:"多組分開折線圖表",chartParams:{padding:{top:60,right:60,bottom:160,left:60}},dataFormatter:{separateGrid:!0},allPluginParams:{...ct,MultiGroupAxis:{tickTextRotate:-30,gridIndexes:"all"},MultiValueAxis:{gridIndexes:"all"},MultiValueStackAxis:{gridIndexes:"all"},MultiBars:{gridIndexes:"all"},MultiBarStack:{gridIndexes:"all"},MultiBarsTriangle:{gridIndexes:"all"},MultiLines:{gridIndexes:"all"},MultiLineAreas:{gridIndexes:"all"},MultiDots:{gridIndexes:"all"},MultiGridLegend:{position:"bottom",justify:"center",padding:14,gridList:[{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2},{listRectHeight:2}]}}},wk={name:"PRESET_TREE_BASIC",description:"基本Tree參數",chartParams:{padding:{top:40,right:40,bottom:60,left:40}},allPluginParams:{...ct,TreeMap:{},TreeLegend:{position:"bottom",justify:"center",padding:14}}},Dk=Object.freeze(Object.defineProperty({__proto__:null,PRESET_BARS_HORIZONTAL_AND_ROUND:ZN,PRESET_BARS_HORIZONTAL_AND_THIN:QN,PRESET_BARS_ROUND:JN,PRESET_BARS_THIN:KN,PRESET_BUBBLES_SCALING_BY_RADIUS:BN,PRESET_BUBBLES_SEPARATE_SERIES:zN,PRESET_GRID_BASIC:tk,PRESET_GRID_HORIZONTAL:ek,PRESET_GRID_PN_SCALE:nk,PRESET_GRID_ROTATE_AXIS_LABEL:rk,PRESET_GRID_SEPARATE_SERIES:ik,PRESET_LINES_BASIC:hk,PRESET_LINES_CURVE:dk,PRESET_LINES_HIGHLIGHT_GROUP_DOTS:pk,PRESET_LINES_HORIZONTAL:gk,PRESET_LINES_LOOSE_TICKS:mk,PRESET_LINES_ROTATE_AXIS_LABEL:yk,PRESET_LINES_WITH_SOLID_DOTS:bk,PRESET_LINE_AREAS_BASIC:ak,PRESET_LINE_AREAS_CURVE:ok,PRESET_LINE_AREAS_HIGHLIGHT_GROUP_DOTS:sk,PRESET_LINE_AREAS_HORIZONTAL:uk,PRESET_LINE_AREAS_LOOSE_TICKS:lk,PRESET_LINE_AREAS_ROTATE_AXIS_LABEL:ck,PRESET_LINE_AREAS_SEPARATE_SERIES:fk,PRESET_MULTI_GRID_BASIC:vk,PRESET_MULTI_GRID_DIVERGING:_k,PRESET_MULTI_GRID_ROUND_STYLE:xk,PRESET_MULTI_GRID_SEPARATE_GRID:Sk,PRESET_MULTI_LINES_SEPARATE_GRID:Pk,PRESET_MULTI_LINE_AREAS_SEPARATE_GRID:Ak,PRESET_PIE_DONUT:HN,PRESET_PIE_HALF_DONUT:jN,PRESET_PIE_WITH_INNER_LABELS:UN,PRESET_ROSE_SCALING_BY_RADIUS:VN,PRESET_SERIES_BASIC:YN,PRESET_SERIES_DESC:Sx,PRESET_SERIES_SEPARATE_SERIES:XN,PRESET_SERIES_SEPARATE_SERIES_AND_SUM_SERIES:WN,PRESET_SERIES_SUM_SERIES:qN,PRESET_TREE_BASIC:wk},Symbol.toStringTag,{value:"Module"}));export{Ek as D,Dk as a,$k as p};
