import{E as f,F as A,G as E,n as b,k as S,o as R,A as $,H as D}from"./B0ZHf31c.js";function F(o,e){const n=new Map;let c=Object.assign([],o),r=[];return c.forEach((s,i)=>{Array.isArray(s)?s.forEach((t,a)=>{r.push({rowIndex:i,columnIndex:a,index:-1,datum:t})}):r.push({rowIndex:i,columnIndex:0,index:-1,datum:s})}),r.sort((s,i)=>e(s.datum,i.datum)),r=r.map((s,i)=>({...s,index:i})),r.forEach(s=>{n.set(String([s.rowIndex,s.columnIndex]),s.index)}),n}const M=o=>{const{data:e=[],dataFormatter:n,chartParams:c}=o;if(!e.length)return[];const r=[];try{const s=(t=>{if(t){const a=F(e,n.sort);return(u,l,d)=>a.get(String([l,d]))}else return(a,u,l)=>a.length})(n.sort!=null),i=(t,a,u,l,d)=>{const h=f(n.type,a,u),m=n.seriesLabels[a]||A("series",a),p=E(a,c),g=n.visibleFilter(t,a,u,o);return typeof t=="number"?{id:h,index:l,sortedIndex:d,label:h,description:"",data:{},value:t,seriesIndex:a,seriesLabel:m,color:p,visible:g}:{id:t.id?t.id:h,index:l,sortedIndex:d,label:t.label?t.label:h,description:t.description,data:t.data??{},value:t.value,seriesIndex:a,seriesLabel:m,color:p,visible:g}};e.forEach((t,a)=>{if(Array.isArray(t))t.forEach((u,l)=>{const d=s(r,a,l),h=i(u,a,l,r.length,d);r.push(h)});else{const u=s(r,a,0),l=i(t,a,0,r.length,u);r.push(l)}})}catch(s){throw Error(s)}return r},P=({subject:o,observer:e})=>{const n=b({datumList$:e.computedData$,fullChartParams$:e.fullChartParams$,event$:o.event$}).pipe(S(1)),c=R({datumList$:e.computedData$}).pipe(S(1));return{fullParams$:e.fullParams$,fullChartParams$:e.fullChartParams$,fullDataFormatter$:e.fullDataFormatter$,computedData$:e.computedData$,layout$:e.layout$,seriesHighlight$:n,SeriesDataMap$:c}};class x extends ${constructor(e,n){super({defaultDataFormatter:D,computedDataFn:M,contextObserverFn:P},e,n)}}const y={force:{strength:.03,velocityDecay:.2,collisionSpacing:2},bubbleText:{fillRate:.6,lineHeight:12,lineLengthMin:4},highlightRIncrease:0,bubbleScaleType:"area"},L={outerRadius:.95,innerRadius:0,outerMouseoverRadius:1,enterDuration:800,startAngle:0,endAngle:Math.PI*2,padAngle:.02,cornerRadius:0},T={eventFn:(o,e,n)=>e==="mouseover"||e==="mousemove"?[String(o.datum.value)]:[String(Math.round(o.data.reduce((c,r)=>c+(r.value??0),0)*n))],textAttrs:[{transform:"translate(0, 0)"}],textStyles:[{"font-weight":"bold","text-anchor":"middle","pointer-events":"none","dominant-baseline":"middle","font-size":64,fill:"#000"}]},v={outerRadius:.95,outerMouseoverRadius:1,startAngle:0,endAngle:Math.PI*2,labelCentroid:2.3,labelColorType:"series",labelFn:o=>String(o.value)},I={position:"right",justify:"end",padding:28,backgroundFill:"none",backgroundStroke:"none",gap:10,listRectWidth:14,listRectHeight:14,listRectRadius:0};export{T as D,x as S,v as a,y as b,L as c,I as d};
