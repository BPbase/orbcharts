import{a4 as bn,a5 as Vr,a6 as he,a7 as xe,a8 as L0,a9 as Fo,l as In,aa as qc,ab as O0,ac as jn,ad as Fu,ae as Y0,af as U0,ag as ki,ah as Bc,ai as Pa,aj as Ca,ak as ka,al as qu,am as Bu,an as Ri,ao as qo,ap as An,aq as hr,ar as Hc,as as F0,at as Zr,au as q0,av as B0,aw as Ra,ax as fe,ay as Na,az as Ia,aA as Dt,aB as Hu,aC as ut,aD as Bo,aE as Se,aF as Wc,aG as za,aH as Gc,aI as Da,aJ as Xc,aK as jc,aL as Ho,aM as dr,aN as vt,aO as Vc,aP as La,aQ as Zc,aR as Qc,aS as Oa,aT as Yr,aU as H0,aV as W0,aW as G0,aX as X0,aY as j0,aZ as V0,$ as Z0,a_ as Qr,a$ as Q0,b0 as K0,a2 as Wu,b1 as J0,b2 as n1,X as t1,Y as e1,W as r1,a0 as i1,a1 as o1,b3 as a1,b4 as u1,b5 as f1,b6 as c1,b7 as s1,b8 as l1,b9 as h1,ba as d1,bb as g1,bc as p1,bd as m1,be as b1,bf as y1,bg as _1,bh as v1,bi as w1,bj as M1,bk as x1,bl as S1,bm as T1,bn as $1,bo as A1,bp as Kc,a3 as E1,bq as P1,br as C1,bs as k1,bt as R1,bu as N1,bv as I1,bw as z1,bx as D1,by as L1,bz as O1,bA as Y1,bB as U1,S as F1,t as Jn,m as nt,k as Mt,s as xt}from"./Dy7f7BI4.js";function q1(n,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let e=n.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!t)return n;const r=Ya(t),i=n.slice();return r(n,i,0,e,1),r(i,n,0,e,1),r(n,i,0,e,1),n}const Jc=ns(Ya),B1=ns(H1);function ns(n){return function(t,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!e&&!r)return t;const u=e&&n(e),f=r&&n(r),c=i.slice();return u&&f?(Vt(u,c,i,o,a),Vt(u,i,c,o,a),Vt(u,c,i,o,a),Zt(f,i,c,o,a),Zt(f,c,i,o,a),Zt(f,i,c,o,a)):u?(Vt(u,i,c,o,a),Vt(u,c,i,o,a),Vt(u,i,c,o,a)):f&&(Zt(f,i,c,o,a),Zt(f,c,i,o,a),Zt(f,i,c,o,a)),t}}function Vt(n,t,e,r,i){for(let o=0,a=r*i;o<a;)n(t,e,o,o+=r,1)}function Zt(n,t,e,r,i){for(let o=0,a=r*i;o<r;++o)n(t,e,o,o+a,r)}function H1(n){const t=Ya(n);return(e,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,t(e,r,i+0,o+0,a),t(e,r,i+1,o+1,a),t(e,r,i+2,o+2,a),t(e,r,i+3,o+3,a)}}function Ya(n){const t=Math.floor(n);if(t===n)return W1(n);const e=n-t,r=2*n+1;return(i,o,a,u,f)=>{if(!((u-=f)>=a))return;let c=t*o[a];const l=f*t,h=l+f;for(let s=a,d=a+l;s<d;s+=f)c+=o[Math.min(u,s)];for(let s=a,d=u;s<=d;s+=f)c+=o[Math.min(u,s+l)],i[s]=(c+e*(o[Math.max(a,s-h)]+o[Math.min(u,s+h)]))/r,c-=o[Math.max(a,s-l)]}}function W1(n){const t=2*n+1;return(e,r,i,o,a)=>{if(!((o-=a)>=i))return;let u=n*r[i];const f=a*n;for(let c=i,l=i+f;c<l;c+=a)u+=r[Math.min(o,c)];for(let c=i,l=o;c<=l;c+=a)u+=r[Math.min(o,c+f)],e[c]=u/t,u-=r[Math.max(i,c-f)]}}function Ni(n,t){let e=0;if(t===void 0)for(let r of n)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of n)(i=t(i,++r,n))!=null&&(i=+i)>=i&&++e}return e}function G1(n){return n.length|0}function X1(n){return!(n>0)}function j1(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function V1(n){return t=>n(...t)}function Z1(...n){const t=typeof n[n.length-1]=="function"&&V1(n.pop());n=n.map(j1);const e=n.map(G1),r=n.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(X1))return o;for(;;){o.push(i.map((u,f)=>n[f][u]));let a=r;for(;++i[a]===e[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function Q1(n,t){var e=0,r=0;return Float64Array.from(n,t===void 0?i=>e+=+i||0:i=>e+=+t(i,r++,n)||0)}function ts(n,t){let e=0,r,i=0,o=0;if(t===void 0)for(let a of n)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let u of n)(u=t(u,++a,n))!=null&&(u=+u)>=u&&(r=u-i,i+=r/++e,o+=r*(u-i))}if(e>1)return o/(e-1)}function es(n,t){const e=ts(n,t);return e&&Math.sqrt(e)}function Xe(n,t){let e,r;if(t===void 0)for(const i of n)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of n)(o=t(o,++i,n))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class yn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=t+o,u=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);u&&(e[r++]=u),t=a}return e[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=t[--e];e>0&&(r=a,i=t[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function K1(n,t){const e=new yn;if(t===void 0)for(let r of n)(r=+r)&&e.add(r);else{let r=-1;for(let i of n)(i=+t(i,++r,n))&&e.add(i)}return+e}function J1(n,t){const e=new yn;let r=-1;return Float64Array.from(n,t===void 0?i=>e.add(+i||0):i=>e.add(+t(i,++r,n)||0))}class Je extends Map{constructor(t,e=os){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Wo(this,t))}has(t){return super.has(Wo(this,t))}set(t,e){return super.set(rs(this,t),e)}delete(t){return super.delete(is(this,t))}}class Yt extends Set{constructor(t,e=os){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Wo(this,t))}add(t){return super.add(rs(this,t))}delete(t){return super.delete(is(this,t))}}function Wo({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function rs({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function is({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function os(n){return n!==null&&typeof n=="object"?n.valueOf():n}function de(n){return n}function as(n,...t){return Te(n,de,de,t)}function us(n,...t){return Te(n,Array.from,de,t)}function fs(n,t){for(let e=1,r=t.length;e<r;++e)n=n.flatMap(i=>i.pop().map(([o,a])=>[...i,o,a]));return n}function nd(n,...t){return fs(us(n,...t),t)}function td(n,t,...e){return fs(ss(n,t,...e),e)}function cs(n,t,...e){return Te(n,de,t,e)}function ss(n,t,...e){return Te(n,Array.from,t,e)}function ed(n,...t){return Te(n,de,ls,t)}function rd(n,...t){return Te(n,Array.from,ls,t)}function ls(n){if(n.length!==1)throw new Error("duplicate key");return n[0]}function Te(n,t,e,r){return function i(o,a){if(a>=r.length)return e(o);const u=new Je,f=r[a++];let c=-1;for(const l of o){const h=f(l,++c,o),s=u.get(h);s?s.push(l):u.set(h,[l])}for(const[l,h]of u)u.set(l,i(h,a));return t(u)}(n,0)}function hs(n,t){return Array.from(t,e=>n[e])}function Go(n,...t){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[e]=t;if(e&&e.length!==2||t.length>1){const r=Uint32Array.from(n,(i,o)=>o);return t.length>1?(t=t.map(i=>n.map(i)),r.sort((i,o)=>{for(const a of t){const u=ge(a[i],a[o]);if(u)return u}})):(e=n.map(e),r.sort((i,o)=>ge(e[i],e[o]))),hs(n,r)}return n.sort(Ua(e))}function Ua(n=bn){if(n===bn)return ge;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const r=n(t,e);return r||r===0?r:(n(e,e)===0)-(n(t,t)===0)}}function ge(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}function id(n,t,e){return(t.length!==2?Go(cs(n,t,e),([r,i],[o,a])=>bn(i,a)||bn(r,o)):Go(as(n,e),([r,i],[o,a])=>t(i,a)||bn(r,o))).map(([r])=>r)}var od=Array.prototype,ad=od.slice;function oo(n){return()=>n}function Fa(n,t,e){let r;for(;;){const i=Vr(n,t,e);if(i===r||i===0||!isFinite(i))return[n,t];i>0?(n=Math.floor(n/i)*i,t=Math.ceil(t/i)*i):i<0&&(n=Math.ceil(n*i)/i,t=Math.floor(t*i)/i),r=i}}function qa(n){return Math.max(1,Math.ceil(Math.log(Ni(n))/Math.LN2)+1)}function Gu(){var n=de,t=Xe,e=qa;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,u,f,c=new Array(a);for(o=0;o<a;++o)c[o]=n(i[o],o,i);var l=t(c),h=l[0],s=l[1],d=e(c,h,s);if(!Array.isArray(d)){const _=s,v=+d;if(t===Xe&&([h,s]=Fa(h,s,v)),d=he(h,s,v),d[0]<=h&&(f=Vr(h,s,v)),d[d.length-1]>=s)if(_>=s&&t===Xe){const y=Vr(h,s,v);isFinite(y)&&(y>0?s=(Math.floor(s/y)+1)*y:y<0&&(s=(Math.ceil(s*-y)+1)/-y))}else d.pop()}for(var p=d.length,b=0,g=p;d[b]<=h;)++b;for(;d[g-1]>s;)--g;(b||g<p)&&(d=d.slice(b,g),p=g-b);var m=new Array(p+1),w;for(o=0;o<=p;++o)w=m[o]=[],w.x0=o>0?d[o-1]:h,w.x1=o<p?d[o]:s;if(isFinite(f)){if(f>0)for(o=0;o<a;++o)(u=c[o])!=null&&h<=u&&u<=s&&m[Math.min(p,Math.floor((u-h)/f))].push(i[o]);else if(f<0){for(o=0;o<a;++o)if((u=c[o])!=null&&h<=u&&u<=s){const _=Math.floor((h-u)*f);m[Math.min(p,_+(d[_]<=u))].push(i[o])}}}else for(o=0;o<a;++o)(u=c[o])!=null&&h<=u&&u<=s&&m[xe(d,u,0,p)].push(i[o]);return m}return r.value=function(i){return arguments.length?(n=typeof i=="function"?i:oo(i),r):n},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:oo([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:oo(Array.isArray(i)?ad.call(i):i),r):e},r}function nr(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of n)(i=t(i,++r,n))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Ba(n,t){let e,r=-1,i=-1;if(t===void 0)for(const o of n)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of n)(o=t(o,++i,n))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Kr(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of n)(i=t(i,++r,n))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Ha(n,t){let e,r=-1,i=-1;if(t===void 0)for(const o of n)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of n)(o=t(o,++i,n))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Ii(n,t,e=0,r=1/0,i){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(n.length-1,r)),!(e<=t&&t<=r))return n;for(i=i===void 0?ge:Ua(i);r>e;){if(r-e>600){const f=r-e+1,c=t-e+1,l=Math.log(f),h=.5*Math.exp(2*l/3),s=.5*Math.sqrt(l*h*(f-h)/f)*(c-f/2<0?-1:1),d=Math.max(e,Math.floor(t-c*h/f+s)),p=Math.min(r,Math.floor(t+(f-c)*h/f+s));Ii(n,t,d,p,i)}const o=n[t];let a=e,u=r;for(Pe(n,e,t),i(n[r],o)>0&&Pe(n,e,r);a<u;){for(Pe(n,a,u),++a,--u;i(n[a],o)<0;)++a;for(;i(n[u],o)>0;)--u}i(n[e],o)===0?Pe(n,e,u):(++u,Pe(n,u,r)),u<=t&&(e=u+1),t<=u&&(r=u-1)}return n}function Pe(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function ds(n,t=bn){let e,r=!1;if(t.length===1){let i;for(const o of n){const a=t(o);(r?bn(a,i)>0:bn(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of n)(r?t(i,e)>0:t(i,i)===0)&&(e=i,r=!0);return e}function tr(n,t,e){if(n=Float64Array.from(L0(n,e)),!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return Kr(n);if(t>=1)return nr(n);var r,i=(r-1)*t,o=Math.floor(i),a=nr(Ii(n,o).subarray(0,o+1)),u=Kr(n.subarray(o+1));return a+(u-a)*(i-o)}}function gs(n,t,e=Fo){if(!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,o=Math.floor(i),a=+e(n[o],o,n),u=+e(n[o+1],o+1,n);return a+(u-a)*(i-o)}}function ps(n,t,e=Fo){if(!isNaN(t=+t)){if(r=Float64Array.from(n,(u,f)=>Fo(e(n[f],f,n))),t<=0)return Ha(r);if(t>=1)return Ba(r);var r,i=Uint32Array.from(n,(u,f)=>f),o=r.length-1,a=Math.floor(o*t);return Ii(i,a,0,o,(u,f)=>ge(r[u],r[f])),a=ds(i.subarray(0,a+1),u=>r[u]),a>=0?a:-1}}function ud(n,t,e){const r=Ni(n),i=tr(n,.75)-tr(n,.25);return r&&i?Math.ceil((e-t)/(2*i*Math.pow(r,-1/3))):1}function fd(n,t,e){const r=Ni(n),i=es(n);return r&&i?Math.ceil((e-t)*Math.cbrt(r)/(3.49*i)):1}function cd(n,t){let e=0,r=0;if(t===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of n)(o=t(o,++i,n))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function sd(n,t){return tr(n,.5,t)}function ld(n,t){return ps(n,.5,t)}function*hd(n){for(const t of n)yield*t}function Wa(n){return Array.from(hd(n))}function dd(n,t){const e=new Je;if(t===void 0)for(let o of n)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of n)(a=t(a,++o,n))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function gd(n,t=pd){const e=[];let r,i=!1;for(const o of n)i&&e.push(t(r,o)),r=o,i=!0;return e}function pd(n,t){return[n,t]}function $t(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(i);++r<i;)o[r]=n+r*e;return o}function md(n,t=bn){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let e=Array.from(n);const r=new Float64Array(e.length);t.length!==2&&(e=e.map(t),t=bn);const i=(u,f)=>t(e[u],e[f]);let o,a;return n=Uint32Array.from(e,(u,f)=>f),n.sort(t===bn?(u,f)=>ge(e[u],e[f]):Ua(i)),n.forEach((u,f)=>{const c=i(u,o===void 0?u:o);c>=0?((o===void 0||c>0)&&(o=u,a=f),r[u]=a):r[u]=NaN}),r}function bd(n,t=bn){let e,r=!1;if(t.length===1){let i;for(const o of n){const a=t(o);(r?bn(a,i)<0:bn(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of n)(r?t(i,e)<0:t(i,i)===0)&&(e=i,r=!0);return e}function ms(n,t=bn){if(t.length===1)return Ha(n,t);let e,r=-1,i=-1;for(const o of n)++i,(r<0?t(o,o)===0:t(o,e)<0)&&(e=o,r=i);return r}function yd(n,t=bn){if(t.length===1)return Ba(n,t);let e,r=-1,i=-1;for(const o of n)++i,(r<0?t(o,o)===0:t(o,e)>0)&&(e=o,r=i);return r}function _d(n,t){const e=ms(n,t);return e<0?void 0:e}const vd=bs(Math.random);function bs(n){return function(e,r=0,i=e.length){let o=i-(r=+r);for(;o;){const a=n()*o--|0,u=e[o+r];e[o+r]=e[a+r],e[a+r]=u}return e}}function wd(n,t){let e=0;if(t===void 0)for(let r of n)(r=+r)&&(e+=r);else{let r=-1;for(let i of n)(i=+t(i,++r,n))&&(e+=i)}return e}function ys(n){if(!(o=n.length))return[];for(var t=-1,e=Kr(n,Md),r=new Array(e);++t<e;)for(var i=-1,o,a=r[t]=new Array(o);++i<o;)a[i]=n[i][t];return r}function Md(n){return n.length}function xd(){return ys(arguments)}function Sd(n,t){if(typeof t!="function")throw new TypeError("test is not a function");let e=-1;for(const r of n)if(!t(r,++e,n))return!1;return!0}function Td(n,t){if(typeof t!="function")throw new TypeError("test is not a function");let e=-1;for(const r of n)if(t(r,++e,n))return!0;return!1}function $d(n,t){if(typeof t!="function")throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of n)t(i,++r,n)&&e.push(i);return e}function Ad(n,t){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(n,(e,r)=>t(e,r,n))}function Ed(n,t,e){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=n[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if({done:i,value:e}=r.next(),i)return;++a}for(;{done:i,value:o}=r.next(),!i;)e=t(e,o,++a,n);return e}function Pd(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function Cd(n,...t){n=new Yt(n);for(const e of t)for(const r of e)n.delete(r);return n}function kd(n,t){const e=t[Symbol.iterator](),r=new Yt;for(const i of n){if(r.has(i))return!1;let o,a;for(;({value:o,done:a}=e.next())&&!a;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function Rd(n,...t){n=new Yt(n),t=t.map(Nd);n:for(const e of n)for(const r of t)if(!r.has(e)){n.delete(e);continue n}return n}function Nd(n){return n instanceof Yt?n:new Yt(n)}function _s(n,t){const e=n[Symbol.iterator](),r=new Set;for(const i of t){const o=Xu(i);if(r.has(o))continue;let a,u;for(;{value:a,done:u}=e.next();){if(u)return!1;const f=Xu(a);if(r.add(f),Object.is(o,f))break}}return!0}function Xu(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Id(n,t){return _s(t,n)}function zd(...n){const t=new Yt;for(const e of n)for(const r of e)t.add(r);return t}function Dd(n){return n}var Ur=1,Fr=2,Xo=3,De=4,ju=1e-6;function Ld(n){return"translate("+n+",0)"}function Od(n){return"translate(0,"+n+")"}function Yd(n){return t=>+n(t)}function Ud(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function Fd(){return!this.__axis}function zi(n,t){var e=[],r=null,i=null,o=6,a=6,u=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=n===Ur||n===De?-1:1,l=n===De||n===Fr?"x":"y",h=n===Ur||n===Xo?Ld:Od;function s(d){var p=r??(t.ticks?t.ticks.apply(t,e):t.domain()),b=i??(t.tickFormat?t.tickFormat.apply(t,e):Dd),g=Math.max(o,0)+u,m=t.range(),w=+m[0]+f,_=+m[m.length-1]+f,v=(t.bandwidth?Ud:Yd)(t.copy(),f),y=d.selection?d.selection():d,M=y.selectAll(".domain").data([null]),S=y.selectAll(".tick").data(p,t).order(),E=S.exit(),A=S.enter().append("g").attr("class","tick"),P=S.select("line"),C=S.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(A),P=P.merge(A.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),C=C.merge(A.append("text").attr("fill","currentColor").attr(l,c*g).attr("dy",n===Ur?"0em":n===Xo?"0.71em":"0.32em")),d!==y&&(M=M.transition(d),S=S.transition(d),P=P.transition(d),C=C.transition(d),E=E.transition(d).attr("opacity",ju).attr("transform",function(I){return isFinite(I=v(I))?h(I+f):this.getAttribute("transform")}),A.attr("opacity",ju).attr("transform",function(I){var k=this.parentNode.__axis;return h((k&&isFinite(k=k(I))?k:v(I))+f)})),E.remove(),M.attr("d",n===De||n===Fr?a?"M"+c*a+","+w+"H"+f+"V"+_+"H"+c*a:"M"+f+","+w+"V"+_:a?"M"+w+","+c*a+"V"+f+"H"+_+"V"+c*a:"M"+w+","+f+"H"+_),S.attr("opacity",1).attr("transform",function(I){return h(v(I)+f)}),P.attr(l+"2",c*o),C.attr(l,c*g).text(b),y.filter(Fd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Fr?"start":n===De?"end":"middle"),y.each(function(){this.__axis=v})}return s.scale=function(d){return arguments.length?(t=d,s):t},s.ticks=function(){return e=Array.from(arguments),s},s.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),s):e.slice()},s.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),s):r&&r.slice()},s.tickFormat=function(d){return arguments.length?(i=d,s):i},s.tickSize=function(d){return arguments.length?(o=a=+d,s):o},s.tickSizeInner=function(d){return arguments.length?(o=+d,s):o},s.tickSizeOuter=function(d){return arguments.length?(a=+d,s):a},s.tickPadding=function(d){return arguments.length?(u=+d,s):u},s.offset=function(d){return arguments.length?(f=+d,s):f},s}function qd(n){return zi(Ur,n)}function Bd(n){return zi(Fr,n)}function Hd(n){return zi(Xo,n)}function Wd(n){return zi(De,n)}function Gd(n){return In(qc(n).call(document.documentElement))}var Xd=0;function vs(){return new jo}function jo(){this._="@"+(++Xd).toString(36)}jo.prototype=vs.prototype={constructor:jo,get:function(n){for(var t=this._;!(t in n);)if(!(n=n.parentNode))return;return n[t]},set:function(n,t){return n[this._]=t},remove:function(n){return this._ in n&&delete n[this._]},toString:function(){return this._}};function jd(n,t){return n.target&&(n=O0(n),t===void 0&&(t=n.currentTarget),n=n.touches||[n]),Array.from(n,e=>jn(e,t))}function Vd(n){return typeof n=="string"?new Fu([document.querySelectorAll(n)],[document.documentElement]):new Fu([U0(n)],Y0)}const ws=Math.PI/180,Ms=180/Math.PI,Jr=18,xs=.96422,Ss=1,Ts=.82521,$s=4/29,ce=6/29,As=3*ce*ce,Zd=ce*ce*ce;function Es(n){if(n instanceof Qn)return new Qn(n.l,n.a,n.b,n.opacity);if(n instanceof rt)return Cs(n);n instanceof ki||(n=Bc(n));var t=co(n.r),e=co(n.g),r=co(n.b),i=ao((.2225045*t+.7168786*e+.0606169*r)/Ss),o,a;return t===e&&e===r?o=a=i:(o=ao((.4360747*t+.3850649*e+.1430804*r)/xs),a=ao((.0139322*t+.0971045*e+.7141733*r)/Ts)),new Qn(116*i-16,500*(o-i),200*(i-a),n.opacity)}function Qd(n,t){return new Qn(n,0,0,t??1)}function ni(n,t,e,r){return arguments.length===1?Es(n):new Qn(n,t,e,r??1)}function Qn(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}Pa(Qn,ni,Ca(ka,{brighter(n){return new Qn(this.l+Jr*(n??1),this.a,this.b,this.opacity)},darker(n){return new Qn(this.l-Jr*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return t=xs*uo(t),n=Ss*uo(n),e=Ts*uo(e),new ki(fo(3.1338561*t-1.6168667*n-.4906146*e),fo(-.9787684*t+1.9161415*n+.033454*e),fo(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}}));function ao(n){return n>Zd?Math.pow(n,1/3):n/As+$s}function uo(n){return n>ce?n*n*n:As*(n-$s)}function fo(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function co(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Ps(n){if(n instanceof rt)return new rt(n.h,n.c,n.l,n.opacity);if(n instanceof Qn||(n=Es(n)),n.a===0&&n.b===0)return new rt(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*Ms;return new rt(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Kd(n,t,e,r){return arguments.length===1?Ps(n):new rt(e,t,n,r??1)}function ti(n,t,e,r){return arguments.length===1?Ps(n):new rt(n,t,e,r??1)}function rt(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}function Cs(n){if(isNaN(n.h))return new Qn(n.l,0,0,n.opacity);var t=n.h*ws;return new Qn(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}Pa(rt,ti,Ca(ka,{brighter(n){return new rt(this.h,this.c,this.l+Jr*(n??1),this.opacity)},darker(n){return new rt(this.h,this.c,this.l-Jr*(n??1),this.opacity)},rgb(){return Cs(this).rgb()}}));var ks=-.14861,Ga=1.78277,Xa=-.29227,Di=-.90649,er=1.97294,Vu=er*Di,Zu=er*Ga,Qu=Ga*Xa-Di*ks;function Jd(n){if(n instanceof Ot)return new Ot(n.h,n.s,n.l,n.opacity);n instanceof ki||(n=Bc(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(Qu*r+Vu*t-Zu*e)/(Qu+Vu-Zu),o=r-i,a=(er*(e-i)-Xa*o)/Di,u=Math.sqrt(a*a+o*o)/(er*i*(1-i)),f=u?Math.atan2(a,o)*Ms-120:NaN;return new Ot(f<0?f+360:f,u,i,n.opacity)}function Kn(n,t,e,r){return arguments.length===1?Jd(n):new Ot(n,t,e,r??1)}function Ot(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}Pa(Ot,Kn,Ca(ka,{brighter(n){return n=n==null?qu:Math.pow(qu,n),new Ot(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Bu:Math.pow(Bu,n),new Ot(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*ws,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new ki(255*(t+e*(ks*r+Ga*i)),255*(t+e*(Xa*r+Di*i)),255*(t+e*(er*r)),this.opacity)}}));function ng(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}}function tg(n,t){var e=Ri(+n,+t);return function(r){var i=e(r);return i-360*Math.floor(i/360)}}var eg=1e-12;function Ku(n){return((n=Math.exp(n))+1/n)/2}function rg(n){return((n=Math.exp(n))-1/n)/2}function ig(n){return((n=Math.exp(2*n))-1)/(n+1)}const Rs=function n(t,e,r){function i(o,a){var u=o[0],f=o[1],c=o[2],l=a[0],h=a[1],s=a[2],d=l-u,p=h-f,b=d*d+p*p,g,m;if(b<eg)m=Math.log(s/c)/t,g=function(S){return[u+S*d,f+S*p,c*Math.exp(t*S*m)]};else{var w=Math.sqrt(b),_=(s*s-c*c+r*b)/(2*c*e*w),v=(s*s-c*c-r*b)/(2*s*e*w),y=Math.log(Math.sqrt(_*_+1)-_),M=Math.log(Math.sqrt(v*v+1)-v);m=(M-y)/t,g=function(S){var E=S*m,A=Ku(y),P=c/(e*w)*(A*ig(t*E+y)-rg(y));return[u+P*d,f+P*p,c*A/Ku(t*E+y)]}}return g.duration=m*1e3*t/Math.SQRT2,g}return i.rho=function(o){var a=Math.max(.001,+o),u=a*a,f=u*u;return n(a,u,f)},i}(Math.SQRT2,2,4);function Ns(n){return function(t,e){var r=n((t=qo(t)).h,(e=qo(e)).h),i=An(t.s,e.s),o=An(t.l,e.l),a=An(t.opacity,e.opacity);return function(u){return t.h=r(u),t.s=i(u),t.l=o(u),t.opacity=a(u),t+""}}}const og=Ns(Ri);var ag=Ns(An);function ug(n,t){var e=An((n=ni(n)).l,(t=ni(t)).l),r=An(n.a,t.a),i=An(n.b,t.b),o=An(n.opacity,t.opacity);return function(a){return n.l=e(a),n.a=r(a),n.b=i(a),n.opacity=o(a),n+""}}function Is(n){return function(t,e){var r=n((t=ti(t)).h,(e=ti(e)).h),i=An(t.c,e.c),o=An(t.l,e.l),a=An(t.opacity,e.opacity);return function(u){return t.h=r(u),t.c=i(u),t.l=o(u),t.opacity=a(u),t+""}}}const fg=Is(Ri);var cg=Is(An);function zs(n){return function t(e){e=+e;function r(i,o){var a=n((i=Kn(i)).h,(o=Kn(o)).h),u=An(i.s,o.s),f=An(i.l,o.l),c=An(i.opacity,o.opacity);return function(l){return i.h=a(l),i.s=u(l),i.l=f(Math.pow(l,e)),i.opacity=c(l),i+""}}return r.gamma=t,r}(1)}const sg=zs(Ri);var Li=zs(An);function Ds(n,t){t===void 0&&(t=n,n=hr);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function lg(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r/(t-1));return e}function hg(n,t,e){var r=new F0,i=t;return t==null?(r.restart(n,t,e),r):(r._restart=r.restart,r.restart=function(o,a,u){a=+a,u=u==null?Hc():+u,r._restart(function f(c){c+=i,r._restart(f,i+=a,u),o(c)},a,u)},r.restart(n,t,e),r)}const dg=n=>+n;function gg(n){return n*n}function pg(n){return n*(2-n)}function Ju(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}var ja=3,mg=function n(t){t=+t;function e(r){return Math.pow(r,t)}return e.exponent=n,e}(ja),bg=function n(t){t=+t;function e(r){return 1-Math.pow(1-r,t)}return e.exponent=n,e}(ja),nf=function n(t){t=+t;function e(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return e.exponent=n,e}(ja),Ls=Math.PI,Os=Ls/2;function yg(n){return+n==1?1:1-Math.cos(n*Os)}function _g(n){return Math.sin(n*Os)}function tf(n){return(1-Math.cos(Ls*n))/2}function vg(n){return Zr(1-+n)}function wg(n){return 1-Zr(n)}function ef(n){return((n*=2)<=1?Zr(1-n):2-Zr(n-1))/2}function Mg(n){return 1-Math.sqrt(1-n*n)}function xg(n){return Math.sqrt(1- --n*n)}function rf(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var Vo=4/11,Sg=6/11,Tg=8/11,$g=3/4,Ag=9/11,Eg=10/11,Pg=15/16,Cg=21/22,kg=63/64,xr=1/Vo/Vo;function Rg(n){return 1-rr(1-n)}function rr(n){return(n=+n)<Vo?xr*n*n:n<Tg?xr*(n-=Sg)*n+$g:n<Eg?xr*(n-=Ag)*n+Pg:xr*(n-=Cg)*n+kg}function Ng(n){return((n*=2)<=1?1-rr(1-n):rr(n-1)+1)/2}var Va=1.70158,Ig=function n(t){t=+t;function e(r){return(r=+r)*r*(t*(r-1)+r)}return e.overshoot=n,e}(Va),zg=function n(t){t=+t;function e(r){return--r*r*((r+1)*t+r)+1}return e.overshoot=n,e}(Va),of=function n(t){t=+t;function e(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return e.overshoot=n,e}(Va),Dg=[null];function Lg(n,t){var e=n.__transition,r,i;if(e){t=t==null?null:t+"";for(i in e)if((r=e[i]).state>q0&&r.name===t)return new B0([[n]],Dg,t,+i)}return null}const so=n=>()=>n;function Og(n,{sourceEvent:t,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Yg(n){n.stopImmediatePropagation()}function lo(n){n.preventDefault(),n.stopImmediatePropagation()}var af={name:"drag"},ho={name:"space"},Qt={name:"handle"},Kt={name:"center"};const{abs:uf,max:Mn,min:xn}=Math;function ff(n){return[+n[0],+n[1]]}function Zo(n){return[ff(n[0]),ff(n[1])]}var qr={name:"x",handles:["w","e"].map(ir),input:function(n,t){return n==null?null:[[+n[0],t[0][1]],[+n[1],t[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},Br={name:"y",handles:["n","s"].map(ir),input:function(n,t){return n==null?null:[[t[0][0],+n[0]],[t[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},Ug={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ir),input:function(n){return n==null?null:Zo(n)},output:function(n){return n}},ct={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},cf={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},sf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Fg={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},qg={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ir(n){return{type:n}}function Bg(n){return!n.ctrlKey&&!n.button}function Hg(){var n=this.ownerSVGElement||this;return n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]}function Wg(){return navigator.maxTouchPoints||"ontouchstart"in this}function go(n){for(;!n.__brush;)if(!(n=n.parentNode))return;return n.__brush}function Gg(n){return n[0][0]===n[1][0]||n[0][1]===n[1][1]}function Xg(n){var t=n.__brush;return t?t.dim.output(t.selection):null}function jg(){return Za(qr)}function Vg(){return Za(Br)}function Zg(){return Za(Ug)}function Za(n){var t=Hg,e=Bg,r=Wg,i=!0,o=Ra("start","brush","end"),a=6,u;function f(g){var m=g.property("__brush",b).selectAll(".overlay").data([ir("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ct.overlay).merge(m).each(function(){var _=go(this).extent;In(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),g.selectAll(".selection").data([ir("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ct.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=g.selectAll(".handle").data(n.handles,function(_){return _.type});w.exit().remove(),w.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return ct[_.type]}),g.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",s).filter(r).on("touchstart.brush",s).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(g,m,w){g.tween?g.on("start.brush",function(_){l(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){l(this,arguments).end(_)}).tween("brush",function(){var _=this,v=_.__brush,y=l(_,arguments),M=v.selection,S=n.input(typeof m=="function"?m.apply(this,arguments):m,v.extent),E=hr(M,S);function A(P){v.selection=P===1&&S===null?null:E(P),c.call(_),y.brush()}return M!==null&&S!==null?A:A(1)}):g.each(function(){var _=this,v=arguments,y=_.__brush,M=n.input(typeof m=="function"?m.apply(_,v):m,y.extent),S=l(_,v).beforestart();fe(_),y.selection=M===null?null:M,c.call(_),S.start(w).brush(w).end(w)})},f.clear=function(g,m){f.move(g,null,m)};function c(){var g=In(this),m=go(this).selection;m?(g.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?m[1][0]-a/2:m[0][0]-a/2}).attr("y",function(w){return w.type[0]==="s"?m[1][1]-a/2:m[0][1]-a/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?m[1][0]-m[0][0]+a:a}).attr("height",function(w){return w.type==="e"||w.type==="w"?m[1][1]-m[0][1]+a:a})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(g,m,w){var _=g.__brush.emitter;return _&&(!w||!_.clean)?_:new h(g,m,w)}function h(g,m,w){this.that=g,this.args=m,this.state=g.__brush,this.active=0,this.clean=w}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,m){return this.starting?(this.starting=!1,this.emit("start",g,m)):this.emit("brush",g),this},brush:function(g,m){return this.emit("brush",g,m),this},end:function(g,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,m)),this},emit:function(g,m,w){var _=In(this.that).datum();o.call(g,this.that,new Og(g,{sourceEvent:m,target:f,selection:n.output(this.state.selection),mode:w,dispatch:o}),_)}};function s(g){if(u&&!g.touches||!e.apply(this,arguments))return;var m=this,w=g.target.__data__.type,_=(i&&g.metaKey?w="overlay":w)==="selection"?af:i&&g.altKey?Kt:Qt,v=n===Br?null:Fg[w],y=n===qr?null:qg[w],M=go(m),S=M.extent,E=M.selection,A=S[0][0],P,C,I=S[0][1],k,x,T=S[1][0],$,R,D=S[1][1],N,L,Y=0,F=0,J,V=v&&y&&i&&g.shiftKey,K,fn,tn=Array.from(g.touches||[g],W=>{const hn=W.identifier;return W=jn(W,m),W.point0=W.slice(),W.identifier=hn,W});fe(m);var pn=l(m,arguments,!0).beforestart();if(w==="overlay"){E&&(J=!0);const W=[tn[0],tn[1]||tn[0]];M.selection=E=[[P=n===Br?A:xn(W[0][0],W[1][0]),k=n===qr?I:xn(W[0][1],W[1][1])],[$=n===Br?T:Mn(W[0][0],W[1][0]),N=n===qr?D:Mn(W[0][1],W[1][1])]],tn.length>1&&ln(g)}else P=E[0][0],k=E[0][1],$=E[1][0],N=E[1][1];C=P,x=k,R=$,L=N;var O=In(m).attr("pointer-events","none"),G=O.selectAll(".overlay").attr("cursor",ct[w]);if(g.touches)pn.moved=z,pn.ended=rn;else{var Z=In(g.view).on("mousemove.brush",z,!0).on("mouseup.brush",rn,!0);i&&Z.on("keydown.brush",En,!0).on("keyup.brush",Pn,!0),Na(g.view)}c.call(m),pn.start(g,_.name);function z(W){for(const hn of W.changedTouches||[W])for(const Ee of tn)Ee.identifier===hn.identifier&&(Ee.cur=jn(hn,m));if(V&&!K&&!fn&&tn.length===1){const hn=tn[0];uf(hn.cur[0]-hn[0])>uf(hn.cur[1]-hn[1])?fn=!0:K=!0}for(const hn of tn)hn.cur&&(hn[0]=hn.cur[0],hn[1]=hn.cur[1]);J=!0,lo(W),ln(W)}function ln(W){const hn=tn[0],Ee=hn.point0;var wt;switch(Y=hn[0]-Ee[0],F=hn[1]-Ee[1],_){case ho:case af:{v&&(Y=Mn(A-P,xn(T-$,Y)),C=P+Y,R=$+Y),y&&(F=Mn(I-k,xn(D-N,F)),x=k+F,L=N+F);break}case Qt:{tn[1]?(v&&(C=Mn(A,xn(T,tn[0][0])),R=Mn(A,xn(T,tn[1][0])),v=1),y&&(x=Mn(I,xn(D,tn[0][1])),L=Mn(I,xn(D,tn[1][1])),y=1)):(v<0?(Y=Mn(A-P,xn(T-P,Y)),C=P+Y,R=$):v>0&&(Y=Mn(A-$,xn(T-$,Y)),C=P,R=$+Y),y<0?(F=Mn(I-k,xn(D-k,F)),x=k+F,L=N):y>0&&(F=Mn(I-N,xn(D-N,F)),x=k,L=N+F));break}case Kt:{v&&(C=Mn(A,xn(T,P-Y*v)),R=Mn(A,xn(T,$+Y*v))),y&&(x=Mn(I,xn(D,k-F*y)),L=Mn(I,xn(D,N+F*y)));break}}R<C&&(v*=-1,wt=P,P=$,$=wt,wt=C,C=R,R=wt,w in cf&&G.attr("cursor",ct[w=cf[w]])),L<x&&(y*=-1,wt=k,k=N,N=wt,wt=x,x=L,L=wt,w in sf&&G.attr("cursor",ct[w=sf[w]])),M.selection&&(E=M.selection),K&&(C=E[0][0],R=E[1][0]),fn&&(x=E[0][1],L=E[1][1]),(E[0][0]!==C||E[0][1]!==x||E[1][0]!==R||E[1][1]!==L)&&(M.selection=[[C,x],[R,L]],c.call(m),pn.brush(W,_.name))}function rn(W){if(Yg(W),W.touches){if(W.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else Ia(W.view,J),Z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),G.attr("cursor",ct.overlay),M.selection&&(E=M.selection),Gg(E)&&(M.selection=null,c.call(m)),pn.end(W,_.name)}function En(W){switch(W.keyCode){case 16:{V=v&&y;break}case 18:{_===Qt&&(v&&($=R-Y*v,P=C+Y*v),y&&(N=L-F*y,k=x+F*y),_=Kt,ln(W));break}case 32:{(_===Qt||_===Kt)&&(v<0?$=R-Y:v>0&&(P=C-Y),y<0?N=L-F:y>0&&(k=x-F),_=ho,G.attr("cursor",ct.selection),ln(W));break}default:return}lo(W)}function Pn(W){switch(W.keyCode){case 16:{V&&(K=fn=V=!1,ln(W));break}case 18:{_===Kt&&(v<0?$=R:v>0&&(P=C),y<0?N=L:y>0&&(k=x),_=Qt,ln(W));break}case 32:{_===ho&&(W.altKey?(v&&($=R-Y*v,P=C+Y*v),y&&(N=L-F*y,k=x+F*y),_=Kt):(v<0?$=R:v>0&&(P=C),y<0?N=L:y>0&&(k=x),_=Qt),G.attr("cursor",ct[w]),ln(W));break}default:return}lo(W)}}function d(g){l(this,arguments).moved(g)}function p(g){l(this,arguments).ended(g)}function b(){var g=this.__brush||{selection:null};return g.extent=Zo(t.apply(this,arguments)),g.dim=n,g}return f.extent=function(g){return arguments.length?(t=typeof g=="function"?g:so(Zo(g)),f):t},f.filter=function(g){return arguments.length?(e=typeof g=="function"?g:so(!!g),f):e},f.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:so(!!g),f):r},f.handleSize=function(g){return arguments.length?(a=+g,f):a},f.keyModifiers=function(g){return arguments.length?(i=!!g,f):i},f.on=function(){var g=o.on.apply(o,arguments);return g===o?f:g},f}var lf=Math.abs,Jt=Math.cos,ne=Math.sin,Ys=Math.PI,Sr=Ys/2,hf=Ys*2,df=Math.max,po=1e-12;function mo(n,t){return Array.from({length:t-n},(e,r)=>n+r)}function Qg(n){return function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)}}function Kg(){return Qa(!1,!1)}function Jg(){return Qa(!1,!0)}function n2(){return Qa(!0,!1)}function Qa(n,t){var e=0,r=null,i=null,o=null;function a(u){var f=u.length,c=new Array(f),l=mo(0,f),h=new Array(f*f),s=new Array(f),d=0,p;u=Float64Array.from({length:f*f},t?(b,g)=>u[g%f][g/f|0]:(b,g)=>u[g/f|0][g%f]);for(let b=0;b<f;++b){let g=0;for(let m=0;m<f;++m)g+=u[b*f+m]+n*u[m*f+b];d+=c[b]=g}d=df(0,hf-e*f)/d,p=d?e:hf/f;{let b=0;r&&l.sort((g,m)=>r(c[g],c[m]));for(const g of l){const m=b;if(n){const w=mo(~f+1,f).filter(_=>_<0?u[~_*f+g]:u[g*f+_]);i&&w.sort((_,v)=>i(_<0?-u[~_*f+g]:u[g*f+_],v<0?-u[~v*f+g]:u[g*f+v]));for(const _ of w)if(_<0){const v=h[~_*f+g]||(h[~_*f+g]={source:null,target:null});v.target={index:g,startAngle:b,endAngle:b+=u[~_*f+g]*d,value:u[~_*f+g]}}else{const v=h[g*f+_]||(h[g*f+_]={source:null,target:null});v.source={index:g,startAngle:b,endAngle:b+=u[g*f+_]*d,value:u[g*f+_]}}s[g]={index:g,startAngle:m,endAngle:b,value:c[g]}}else{const w=mo(0,f).filter(_=>u[g*f+_]||u[_*f+g]);i&&w.sort((_,v)=>i(u[g*f+_],u[g*f+v]));for(const _ of w){let v;if(g<_?(v=h[g*f+_]||(h[g*f+_]={source:null,target:null}),v.source={index:g,startAngle:b,endAngle:b+=u[g*f+_]*d,value:u[g*f+_]}):(v=h[_*f+g]||(h[_*f+g]={source:null,target:null}),v.target={index:g,startAngle:b,endAngle:b+=u[g*f+_]*d,value:u[g*f+_]},g===_&&(v.source=v.target)),v.source&&v.target&&v.source.value<v.target.value){const y=v.source;v.source=v.target,v.target=y}}s[g]={index:g,startAngle:m,endAngle:b,value:c[g]}}b+=p}}return h=Object.values(h),h.groups=s,o?h.sort(o):h}return a.padAngle=function(u){return arguments.length?(e=df(0,u),a):e},a.sortGroups=function(u){return arguments.length?(r=u,a):r},a.sortSubgroups=function(u){return arguments.length?(i=u,a):i},a.sortChords=function(u){return arguments.length?(u==null?o=null:(o=Qg(u))._=u,a):o&&o._},a}const Qo=Math.PI,Ko=2*Qo,Nt=1e-6,t2=Ko-Nt;function Us(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function e2(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Us;const e=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let gr=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Us:e2(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,o,a){this._append`C${+t},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,e,r,i,o){if(t=+t,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,f=r-t,c=i-e,l=a-t,h=u-e,s=l*l+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(s>Nt)if(!(Math.abs(h*f-c*l)>Nt)||!o)this._append`L${this._x1=t},${this._y1=e}`;else{let d=r-a,p=i-u,b=f*f+c*c,g=d*d+p*p,m=Math.sqrt(b),w=Math.sqrt(s),_=o*Math.tan((Qo-Math.acos((b+s-g)/(2*m*w)))/2),v=_/w,y=_/m;Math.abs(v-1)>Nt&&this._append`L${t+v*l},${e+v*h}`,this._append`A${o},${o},0,0,${+(h*d>l*p)},${this._x1=t+y*f},${this._y1=e+y*c}`}}arc(t,e,r,i,o,a){if(t=+t,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),c=t+u,l=e+f,h=1^a,s=a?i-o:o-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Nt||Math.abs(this._y1-l)>Nt)&&this._append`L${c},${l}`,r&&(s<0&&(s=s%Ko+Ko),s>t2?this._append`A${r},${r},0,1,${h},${t-u},${e-f}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:s>Nt&&this._append`A${r},${r},0,${+(s>=Qo)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Ka(){return new gr}Ka.prototype=gr.prototype;function r2(n=3){return new gr(+n)}var i2=Array.prototype.slice;function kt(n){return function(){return n}}function o2(n){return n.source}function a2(n){return n.target}function gf(n){return n.radius}function u2(n){return n.startAngle}function f2(n){return n.endAngle}function c2(){return 0}function s2(){return 10}function Fs(n){var t=o2,e=a2,r=gf,i=gf,o=u2,a=f2,u=c2,f=null;function c(){var l,h=t.apply(this,arguments),s=e.apply(this,arguments),d=u.apply(this,arguments)/2,p=i2.call(arguments),b=+r.apply(this,(p[0]=h,p)),g=o.apply(this,p)-Sr,m=a.apply(this,p)-Sr,w=+i.apply(this,(p[0]=s,p)),_=o.apply(this,p)-Sr,v=a.apply(this,p)-Sr;if(f||(f=l=Ka()),d>po&&(lf(m-g)>d*2+po?m>g?(g+=d,m-=d):(g-=d,m+=d):g=m=(g+m)/2,lf(v-_)>d*2+po?v>_?(_+=d,v-=d):(_-=d,v+=d):_=v=(_+v)/2),f.moveTo(b*Jt(g),b*ne(g)),f.arc(0,0,b,g,m),g!==_||m!==v)if(n){var y=+n.apply(this,arguments),M=w-y,S=(_+v)/2;f.quadraticCurveTo(0,0,M*Jt(_),M*ne(_)),f.lineTo(w*Jt(S),w*ne(S)),f.lineTo(M*Jt(v),M*ne(v))}else f.quadraticCurveTo(0,0,w*Jt(_),w*ne(_)),f.arc(0,0,w,_,v);if(f.quadraticCurveTo(0,0,b*Jt(g),b*ne(g)),f.closePath(),l)return f=null,l+""||null}return n&&(c.headRadius=function(l){return arguments.length?(n=typeof l=="function"?l:kt(+l),c):n}),c.radius=function(l){return arguments.length?(r=i=typeof l=="function"?l:kt(+l),c):r},c.sourceRadius=function(l){return arguments.length?(r=typeof l=="function"?l:kt(+l),c):r},c.targetRadius=function(l){return arguments.length?(i=typeof l=="function"?l:kt(+l),c):i},c.startAngle=function(l){return arguments.length?(o=typeof l=="function"?l:kt(+l),c):o},c.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:kt(+l),c):a},c.padAngle=function(l){return arguments.length?(u=typeof l=="function"?l:kt(+l),c):u},c.source=function(l){return arguments.length?(t=l,c):t},c.target=function(l){return arguments.length?(e=l,c):e},c.context=function(l){return arguments.length?(f=l??null,c):f},c}function l2(){return Fs()}function h2(){return Fs(s2)}var d2=Array.prototype,qs=d2.slice;function g2(n,t){return n-t}function p2(n){for(var t=0,e=n.length,r=n[e-1][1]*n[0][0]-n[e-1][0]*n[0][1];++t<e;)r+=n[t-1][1]*n[t][0]-n[t-1][0]*n[t][1];return r}const St=n=>()=>n;function m2(n,t){for(var e=-1,r=t.length,i;++e<r;)if(i=b2(n,t[e]))return i;return 0}function b2(n,t){for(var e=t[0],r=t[1],i=-1,o=0,a=n.length,u=a-1;o<a;u=o++){var f=n[o],c=f[0],l=f[1],h=n[u],s=h[0],d=h[1];if(y2(f,h,t))return 0;l>r!=d>r&&e<(s-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function y2(n,t,e){var r;return _2(n,t,e)&&v2(n[r=+(n[0]===t[0])],e[r],t[r])}function _2(n,t,e){return(t[0]-n[0])*(e[1]-n[1])===(e[0]-n[0])*(t[1]-n[1])}function v2(n,t,e){return n<=t&&t<=e||e<=t&&t<=n}function w2(){}var st=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Jo(){var n=1,t=1,e=qa,r=f;function i(c){var l=e(c);if(Array.isArray(l))l=l.slice().sort(g2);else{const h=Xe(c,M2);for(l=he(...Fa(h[0],h[1],l),l);l[l.length-1]>=h[1];)l.pop();for(;l[1]<h[0];)l.shift()}return l.map(h=>o(c,h))}function o(c,l){const h=l==null?NaN:+l;if(isNaN(h))throw new Error(`invalid value: ${l}`);var s=[],d=[];return a(c,h,function(p){r(p,c,h),p2(p)>0?s.push([p]):d.push(p)}),d.forEach(function(p){for(var b=0,g=s.length,m;b<g;++b)if(m2((m=s[b])[0],p)!==-1){m.push(p);return}}),{type:"MultiPolygon",value:l,coordinates:s}}function a(c,l,h){var s=new Array,d=new Array,p,b,g,m,w,_;for(p=b=-1,m=Rt(c[0],l),st[m<<1].forEach(v);++p<n-1;)g=m,m=Rt(c[p+1],l),st[g|m<<1].forEach(v);for(st[m<<0].forEach(v);++b<t-1;){for(p=-1,m=Rt(c[b*n+n],l),w=Rt(c[b*n],l),st[m<<1|w<<2].forEach(v);++p<n-1;)g=m,m=Rt(c[b*n+n+p+1],l),_=w,w=Rt(c[b*n+p+1],l),st[g|m<<1|w<<2|_<<3].forEach(v);st[m|w<<3].forEach(v)}for(p=-1,w=c[b*n]>=l,st[w<<2].forEach(v);++p<n-1;)_=w,w=Rt(c[b*n+p+1],l),st[w<<2|_<<3].forEach(v);st[w<<3].forEach(v);function v(y){var M=[y[0][0]+p,y[0][1]+b],S=[y[1][0]+p,y[1][1]+b],E=u(M),A=u(S),P,C;(P=d[E])?(C=s[A])?(delete d[P.end],delete s[C.start],P===C?(P.ring.push(S),h(P.ring)):s[P.start]=d[C.end]={start:P.start,end:C.end,ring:P.ring.concat(C.ring)}):(delete d[P.end],P.ring.push(S),d[P.end=A]=P):(P=s[A])?(C=d[E])?(delete s[P.start],delete d[C.end],P===C?(P.ring.push(S),h(P.ring)):s[C.start]=d[P.end]={start:C.start,end:P.end,ring:C.ring.concat(P.ring)}):(delete s[P.start],P.ring.unshift(M),s[P.start=E]=P):s[E]=d[A]={start:E,end:A,ring:[M,S]}}}function u(c){return c[0]*2+c[1]*(n+1)*4}function f(c,l,h){c.forEach(function(s){var d=s[0],p=s[1],b=d|0,g=p|0,m=bo(l[g*n+b]);d>0&&d<n&&b===d&&(s[0]=pf(d,bo(l[g*n+b-1]),m,h)),p>0&&p<t&&g===p&&(s[1]=pf(p,bo(l[(g-1)*n+b]),m,h))})}return i.contour=o,i.size=function(c){if(!arguments.length)return[n,t];var l=Math.floor(c[0]),h=Math.floor(c[1]);if(!(l>=0&&h>=0))throw new Error("invalid size");return n=l,t=h,i},i.thresholds=function(c){return arguments.length?(e=typeof c=="function"?c:Array.isArray(c)?St(qs.call(c)):St(c),i):e},i.smooth=function(c){return arguments.length?(r=c?f:w2,i):r===f},i}function M2(n){return isFinite(n)?n:NaN}function Rt(n,t){return n==null?!1:+n>=t}function bo(n){return n==null||isNaN(n=+n)?-1/0:n}function pf(n,t,e,r){const i=r-t,o=e-t,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?n:n+a-.5}function x2(n){return n[0]}function S2(n){return n[1]}function T2(){return 1}function $2(){var n=x2,t=S2,e=T2,r=960,i=500,o=20,a=2,u=o*3,f=r+u*2>>a,c=i+u*2>>a,l=St(20);function h(w){var _=new Float32Array(f*c),v=Math.pow(2,-a),y=-1;for(const k of w){var M=(n(k,++y,w)+u)*v,S=(t(k,y,w)+u)*v,E=+e(k,y,w);if(E&&M>=0&&M<f&&S>=0&&S<c){var A=Math.floor(M),P=Math.floor(S),C=M-A-.5,I=S-P-.5;_[A+P*f]+=(1-C)*(1-I)*E,_[A+1+P*f]+=C*(1-I)*E,_[A+1+(P+1)*f]+=C*I*E,_[A+(P+1)*f]+=(1-C)*I*E}}return Jc({data:_,width:f,height:c},o*v),_}function s(w){var _=h(w),v=l(_),y=Math.pow(2,2*a);return Array.isArray(v)||(v=he(Number.MIN_VALUE,nr(_)/y,v)),Jo().size([f,c]).thresholds(v.map(M=>M*y))(_).map((M,S)=>(M.value=+v[S],d(M)))}s.contours=function(w){var _=h(w),v=Jo().size([f,c]),y=Math.pow(2,2*a),M=S=>{S=+S;var E=d(v.contour(_,S*y));return E.value=S,E};return Object.defineProperty(M,"max",{get:()=>nr(_)/y}),M};function d(w){return w.coordinates.forEach(p),w}function p(w){w.forEach(b)}function b(w){w.forEach(g)}function g(w){w[0]=w[0]*Math.pow(2,a)-u,w[1]=w[1]*Math.pow(2,a)-u}function m(){return u=o*3,f=r+u*2>>a,c=i+u*2>>a,s}return s.x=function(w){return arguments.length?(n=typeof w=="function"?w:St(+w),s):n},s.y=function(w){return arguments.length?(t=typeof w=="function"?w:St(+w),s):t},s.weight=function(w){return arguments.length?(e=typeof w=="function"?w:St(+w),s):e},s.size=function(w){if(!arguments.length)return[r,i];var _=+w[0],v=+w[1];if(!(_>=0&&v>=0))throw new Error("invalid size");return r=_,i=v,m()},s.cellSize=function(w){if(!arguments.length)return 1<<a;if(!((w=+w)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(w)/Math.LN2),m()},s.thresholds=function(w){return arguments.length?(l=typeof w=="function"?w:Array.isArray(w)?St(qs.call(w)):St(w),s):l},s.bandwidth=function(w){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((w=+w)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*w*w+1)-1)/2,m()},s}const bt=11102230246251565e-32,Sn=134217729,A2=(3+8*bt)*bt;function yo(n,t,e,r,i){let o,a,u,f,c=t[0],l=r[0],h=0,s=0;l>c==l>-c?(o=c,c=t[++h]):(o=l,l=r[++s]);let d=0;if(h<n&&s<e)for(l>c==l>-c?(a=c+o,u=o-(a-c),c=t[++h]):(a=l+o,u=o-(a-l),l=r[++s]),o=a,u!==0&&(i[d++]=u);h<n&&s<e;)l>c==l>-c?(a=o+c,f=a-o,u=o-(a-f)+(c-f),c=t[++h]):(a=o+l,f=a-o,u=o-(a-f)+(l-f),l=r[++s]),o=a,u!==0&&(i[d++]=u);for(;h<n;)a=o+c,f=a-o,u=o-(a-f)+(c-f),c=t[++h],o=a,u!==0&&(i[d++]=u);for(;s<e;)a=o+l,f=a-o,u=o-(a-f)+(l-f),l=r[++s],o=a,u!==0&&(i[d++]=u);return(o!==0||d===0)&&(i[d++]=o),d}function E2(n,t){let e=t[0];for(let r=1;r<n;r++)e+=t[r];return e}function pr(n){return new Float64Array(n)}const P2=(3+16*bt)*bt,C2=(2+12*bt)*bt,k2=(9+64*bt)*bt*bt,te=pr(4),mf=pr(8),bf=pr(12),yf=pr(16),Cn=pr(4);function R2(n,t,e,r,i,o,a){let u,f,c,l,h,s,d,p,b,g,m,w,_,v,y,M,S,E;const A=n-i,P=e-i,C=t-o,I=r-o;v=A*I,s=Sn*A,d=s-(s-A),p=A-d,s=Sn*I,b=s-(s-I),g=I-b,y=p*g-(v-d*b-p*b-d*g),M=C*P,s=Sn*C,d=s-(s-C),p=C-d,s=Sn*P,b=s-(s-P),g=P-b,S=p*g-(M-d*b-p*b-d*g),m=y-S,h=y-m,te[0]=y-(m+h)+(h-S),w=v+m,h=w-v,_=v-(w-h)+(m-h),m=_-M,h=_-m,te[1]=_-(m+h)+(h-M),E=w+m,h=E-w,te[2]=w-(E-h)+(m-h),te[3]=E;let k=E2(4,te),x=C2*a;if(k>=x||-k>=x||(h=n-A,u=n-(A+h)+(h-i),h=e-P,c=e-(P+h)+(h-i),h=t-C,f=t-(C+h)+(h-o),h=r-I,l=r-(I+h)+(h-o),u===0&&f===0&&c===0&&l===0)||(x=k2*a+A2*Math.abs(k),k+=A*l+I*u-(C*c+P*f),k>=x||-k>=x))return k;v=u*I,s=Sn*u,d=s-(s-u),p=u-d,s=Sn*I,b=s-(s-I),g=I-b,y=p*g-(v-d*b-p*b-d*g),M=f*P,s=Sn*f,d=s-(s-f),p=f-d,s=Sn*P,b=s-(s-P),g=P-b,S=p*g-(M-d*b-p*b-d*g),m=y-S,h=y-m,Cn[0]=y-(m+h)+(h-S),w=v+m,h=w-v,_=v-(w-h)+(m-h),m=_-M,h=_-m,Cn[1]=_-(m+h)+(h-M),E=w+m,h=E-w,Cn[2]=w-(E-h)+(m-h),Cn[3]=E;const T=yo(4,te,4,Cn,mf);v=A*l,s=Sn*A,d=s-(s-A),p=A-d,s=Sn*l,b=s-(s-l),g=l-b,y=p*g-(v-d*b-p*b-d*g),M=C*c,s=Sn*C,d=s-(s-C),p=C-d,s=Sn*c,b=s-(s-c),g=c-b,S=p*g-(M-d*b-p*b-d*g),m=y-S,h=y-m,Cn[0]=y-(m+h)+(h-S),w=v+m,h=w-v,_=v-(w-h)+(m-h),m=_-M,h=_-m,Cn[1]=_-(m+h)+(h-M),E=w+m,h=E-w,Cn[2]=w-(E-h)+(m-h),Cn[3]=E;const $=yo(T,mf,4,Cn,bf);v=u*l,s=Sn*u,d=s-(s-u),p=u-d,s=Sn*l,b=s-(s-l),g=l-b,y=p*g-(v-d*b-p*b-d*g),M=f*c,s=Sn*f,d=s-(s-f),p=f-d,s=Sn*c,b=s-(s-c),g=c-b,S=p*g-(M-d*b-p*b-d*g),m=y-S,h=y-m,Cn[0]=y-(m+h)+(h-S),w=v+m,h=w-v,_=v-(w-h)+(m-h),m=_-M,h=_-m,Cn[1]=_-(m+h)+(h-M),E=w+m,h=E-w,Cn[2]=w-(E-h)+(m-h),Cn[3]=E;const R=yo($,bf,4,Cn,yf);return yf[R-1]}function Tr(n,t,e,r,i,o){const a=(t-o)*(e-i),u=(n-i)*(r-o),f=a-u,c=Math.abs(a+u);return Math.abs(f)>=P2*c?f:-R2(n,t,e,r,i,o,c)}const _f=Math.pow(2,-52),$r=new Uint32Array(512);class ei{static from(t,e=L2,r=O2){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const u=t[a];o[2*a]=e(u),o[2*a+1]=r(u)}return new ei(o)}constructor(t){const e=t.length>>1;if(e>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=t.length>>1;let u=1/0,f=1/0,c=-1/0,l=-1/0;for(let A=0;A<a;A++){const P=t[2*A],C=t[2*A+1];P<u&&(u=P),C<f&&(f=C),P>c&&(c=P),C>l&&(l=C),this._ids[A]=A}const h=(u+c)/2,s=(f+l)/2;let d,p,b;for(let A=0,P=1/0;A<a;A++){const C=_o(h,s,t[2*A],t[2*A+1]);C<P&&(d=A,P=C)}const g=t[2*d],m=t[2*d+1];for(let A=0,P=1/0;A<a;A++){if(A===d)continue;const C=_o(g,m,t[2*A],t[2*A+1]);C<P&&C>0&&(p=A,P=C)}let w=t[2*p],_=t[2*p+1],v=1/0;for(let A=0;A<a;A++){if(A===d||A===p)continue;const P=z2(g,m,w,_,t[2*A],t[2*A+1]);P<v&&(b=A,v=P)}let y=t[2*b],M=t[2*b+1];if(v===1/0){for(let C=0;C<a;C++)this._dists[C]=t[2*C]-t[0]||t[2*C+1]-t[1];ae(this._ids,this._dists,0,a-1);const A=new Uint32Array(a);let P=0;for(let C=0,I=-1/0;C<a;C++){const k=this._ids[C],x=this._dists[k];x>I&&(A[P++]=k,I=x)}this.hull=A.subarray(0,P),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Tr(g,m,w,_,y,M)<0){const A=p,P=w,C=_;p=b,w=y,_=M,b=A,y=P,M=C}const S=D2(g,m,w,_,y,M);this._cx=S.x,this._cy=S.y;for(let A=0;A<a;A++)this._dists[A]=_o(t[2*A],t[2*A+1],S.x,S.y);ae(this._ids,this._dists,0,a-1),this._hullStart=d;let E=3;r[d]=e[b]=p,r[p]=e[d]=b,r[b]=e[p]=d,i[d]=0,i[p]=1,i[b]=2,o.fill(-1),o[this._hashKey(g,m)]=d,o[this._hashKey(w,_)]=p,o[this._hashKey(y,M)]=b,this.trianglesLen=0,this._addTriangle(d,p,b,-1,-1,-1);for(let A=0,P,C;A<this._ids.length;A++){const I=this._ids[A],k=t[2*I],x=t[2*I+1];if(A>0&&Math.abs(k-P)<=_f&&Math.abs(x-C)<=_f||(P=k,C=x,I===d||I===p||I===b))continue;let T=0;for(let L=0,Y=this._hashKey(k,x);L<this._hashSize&&(T=o[(Y+L)%this._hashSize],!(T!==-1&&T!==r[T]));L++);T=e[T];let $=T,R;for(;R=r[$],Tr(k,x,t[2*$],t[2*$+1],t[2*R],t[2*R+1])>=0;)if($=R,$===T){$=-1;break}if($===-1)continue;let D=this._addTriangle($,I,r[$],-1,-1,i[$]);i[I]=this._legalize(D+2),i[$]=D,E++;let N=r[$];for(;R=r[N],Tr(k,x,t[2*N],t[2*N+1],t[2*R],t[2*R+1])<0;)D=this._addTriangle(N,I,R,i[I],-1,i[N]),i[I]=this._legalize(D+2),r[N]=N,E--,N=R;if($===T)for(;R=e[$],Tr(k,x,t[2*R],t[2*R+1],t[2*$],t[2*$+1])<0;)D=this._addTriangle(R,I,$,-1,i[$],i[R]),this._legalize(D+2),i[R]=D,r[$]=$,E--,$=R;this._hullStart=e[I]=$,r[$]=e[N]=I,r[I]=N,o[this._hashKey(k,x)]=I,o[this._hashKey(t[2*$],t[2*$+1])]=$}this.hull=new Uint32Array(E);for(let A=0,P=this._hullStart;A<E;A++)this.hull[A]=P,P=r[P];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(N2(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const u=r[t],f=t-t%3;if(a=f+(t+2)%3,u===-1){if(o===0)break;t=$r[--o];continue}const c=u-u%3,l=f+(t+1)%3,h=c+(u+2)%3,s=e[a],d=e[t],p=e[l],b=e[h];if(I2(i[2*s],i[2*s+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*b],i[2*b+1])){e[t]=b,e[u]=s;const m=r[h];if(m===-1){let _=this._hullStart;do{if(this._hullTri[_]===h){this._hullTri[_]=t;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(t,m),this._link(u,r[a]),this._link(a,h);const w=c+(u+1)%3;o<$r.length&&($r[o++]=w)}else{if(o===0)break;t=$r[--o]}}return a}_link(t,e){this._halfedges[t]=e,e!==-1&&(this._halfedges[e]=t)}_addTriangle(t,e,r,i,o,a){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=e,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,o),this._link(u+2,a),this.trianglesLen+=3,u}}function N2(n,t){const e=n/(Math.abs(n)+Math.abs(t));return(t>0?3-e:1+e)/4}function _o(n,t,e,r){const i=n-e,o=t-r;return i*i+o*o}function I2(n,t,e,r,i,o,a,u){const f=n-a,c=t-u,l=e-a,h=r-u,s=i-a,d=o-u,p=f*f+c*c,b=l*l+h*h,g=s*s+d*d;return f*(h*g-b*d)-c*(l*g-b*s)+p*(l*d-h*s)<0}function z2(n,t,e,r,i,o){const a=e-n,u=r-t,f=i-n,c=o-t,l=a*a+u*u,h=f*f+c*c,s=.5/(a*c-u*f),d=(c*l-u*h)*s,p=(a*h-f*l)*s;return d*d+p*p}function D2(n,t,e,r,i,o){const a=e-n,u=r-t,f=i-n,c=o-t,l=a*a+u*u,h=f*f+c*c,s=.5/(a*c-u*f),d=n+(c*l-u*h)*s,p=t+(a*h-f*l)*s;return{x:d,y:p}}function ae(n,t,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const o=n[i],a=t[o];let u=i-1;for(;u>=e&&t[n[u]]>a;)n[u+1]=n[u--];n[u+1]=o}else{const i=e+r>>1;let o=e+1,a=r;Ce(n,i,o),t[n[e]]>t[n[r]]&&Ce(n,e,r),t[n[o]]>t[n[r]]&&Ce(n,o,r),t[n[e]]>t[n[o]]&&Ce(n,e,o);const u=n[o],f=t[u];for(;;){do o++;while(t[n[o]]<f);do a--;while(t[n[a]]>f);if(a<o)break;Ce(n,o,a)}n[e+1]=n[a],n[a]=u,r-o+1>=a-e?(ae(n,t,o,r),ae(n,t,e,a-1)):(ae(n,t,e,a-1),ae(n,t,o,r))}}function Ce(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function L2(n){return n[0]}function O2(n){return n[1]}const vf=1e-6;class Lt{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,r){t=+t,e=+e,r=+r;const i=t+r,o=e;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>vf||Math.abs(this._y1-o)>vf)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${e}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,e,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class na{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Bs{constructor(t,[e,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(e=+e))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=e,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:r},vectors:i}=this;let o,a;const u=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let b=0,g=0,m=r.length,w,_;b<m;b+=3,g+=2){const v=r[b]*2,y=r[b+1]*2,M=r[b+2]*2,S=t[v],E=t[v+1],A=t[y],P=t[y+1],C=t[M],I=t[M+1],k=A-S,x=P-E,T=C-S,$=I-E,R=(k*$-x*T)*2;if(Math.abs(R)<1e-9){if(o===void 0){o=a=0;for(const N of e)o+=t[N*2],a+=t[N*2+1];o/=e.length,a/=e.length}const D=1e9*Math.sign((o-S)*$-(a-E)*T);w=(S+C)/2-D*$,_=(E+I)/2+D*T}else{const D=1/R,N=k*k+x*x,L=T*T+$*$;w=S+($*N-x*L)*D,_=E+(k*L-T*N)*D}u[g]=w,u[g+1]=_}let f=e[e.length-1],c,l=f*4,h,s=t[2*f],d,p=t[2*f+1];i.fill(0);for(let b=0;b<e.length;++b)f=e[b],c=l,h=s,d=p,l=f*4,s=t[2*f],p=t[2*f+1],i[c+2]=i[l]=d-p,i[c+3]=i[l+1]=s-h}render(t){const e=t==null?t=new Lt:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:u}=this;if(o.length<=1)return null;for(let l=0,h=r.length;l<h;++l){const s=r[l];if(s<l)continue;const d=Math.floor(l/3)*2,p=Math.floor(s/3)*2,b=a[d],g=a[d+1],m=a[p],w=a[p+1];this._renderSegment(b,g,m,w,t)}let f,c=o[o.length-1];for(let l=0;l<o.length;++l){f=c,c=o[l];const h=Math.floor(i[c]/3)*2,s=a[h],d=a[h+1],p=f*4,b=this._project(s,d,u[p+2],u[p+3]);b&&this._renderSegment(s,d,b[0],b[1],t)}return e&&e.value()}renderBounds(t){const e=t==null?t=new Lt:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const r=e==null?e=new Lt:void 0,i=this._clip(t);if(i===null||!i.length)return;e.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&e.lineTo(i[a],i[a+1]);return e.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,r=t.length/2;e<r;++e){const i=this.cellPolygon(e);i&&(i.index=e,yield i)}}cellPolygon(t){const e=new na;return this.renderCell(t,e),e.value()}_renderSegment(t,e,r,i,o){let a;const u=this._regioncode(t,e),f=this._regioncode(r,i);u===0&&f===0?(o.moveTo(t,e),o.lineTo(r,i)):(a=this._clipSegment(t,e,r,i,u,f))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(t,e,r){return e=+e,e!==e||(r=+r,r!==r)?!1:this.delaunay._step(t,e,r)===t}*neighbors(t){const e=this._clip(t);if(e)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){n:for(let o=0,a=e.length;o<a;o+=2)for(let u=0,f=i.length;u<f;u+=2)if(e[o]===i[u]&&e[o+1]===i[u+1]&&e[(o+2)%a]===i[(u+f-2)%f]&&e[(o+3)%a]===i[(u+f-1)%f]){yield r;break n}}}}_cell(t){const{circumcenters:e,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[t];if(a===-1)return null;const u=[];let f=a;do{const c=Math.floor(f/3);if(u.push(e[c*2],e[c*2+1]),f=f%3===2?f-2:f+1,o[f]!==t)break;f=i[f]}while(f!==a&&f!==-1);return u}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(e===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,e,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,e))}_clipFinite(t,e){const r=e.length;let i=null,o,a,u=e[r-2],f=e[r-1],c,l=this._regioncode(u,f),h,s=0;for(let d=0;d<r;d+=2)if(o=u,a=f,u=e[d],f=e[d+1],c=l,l=this._regioncode(u,f),c===0&&l===0)h=s,s=0,i?i.push(u,f):i=[u,f];else{let p,b,g,m,w;if(c===0){if((p=this._clipSegment(o,a,u,f,c,l))===null)continue;[b,g,m,w]=p}else{if((p=this._clipSegment(u,f,o,a,l,c))===null)continue;[m,w,b,g]=p,h=s,s=this._edgecode(b,g),h&&s&&this._edge(t,h,s,i,i.length),i?i.push(b,g):i=[b,g]}h=s,s=this._edgecode(m,w),h&&s&&this._edge(t,h,s,i,i.length),i?i.push(m,w):i=[m,w]}if(i)h=s,s=this._edgecode(i[0],i[1]),h&&s&&this._edge(t,h,s,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,e,r,i,o,a){const u=o<a;for(u&&([t,e,r,i,o,a]=[r,i,t,e,a,o]);;){if(o===0&&a===0)return u?[r,i,t,e]:[t,e,r,i];if(o&a)return null;let f,c,l=o||a;l&8?(f=t+(r-t)*(this.ymax-e)/(i-e),c=this.ymax):l&4?(f=t+(r-t)*(this.ymin-e)/(i-e),c=this.ymin):l&2?(c=e+(i-e)*(this.xmax-t)/(r-t),f=this.xmax):(c=e+(i-e)*(this.xmin-t)/(r-t),f=this.xmin),o?(t=f,e=c,o=this._regioncode(t,e)):(r=f,i=c,a=this._regioncode(r,i))}}_clipInfinite(t,e,r,i,o,a){let u=Array.from(e),f;if((f=this._project(u[0],u[1],r,i))&&u.unshift(f[0],f[1]),(f=this._project(u[u.length-2],u[u.length-1],o,a))&&u.push(f[0],f[1]),u=this._clipFinite(t,u))for(let c=0,l=u.length,h,s=this._edgecode(u[l-2],u[l-1]);c<l;c+=2)h=s,s=this._edgecode(u[c],u[c+1]),h&&s&&(c=this._edge(t,h,s,u,c),l=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,e,r,i,o){for(;e!==r;){let a,u;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,u=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,u=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,u=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,u=this.ymin;break}(i[o]!==a||i[o+1]!==u)&&this.contains(t,a,u)&&(i.splice(o,0,a,u),o+=2)}return o}_project(t,e,r,i){let o=1/0,a,u,f;if(i<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/i)<o&&(f=this.ymin,u=t+(o=a)*r)}else if(i>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/i)<o&&(f=this.ymax,u=t+(o=a)*r)}if(r>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/r)<o&&(u=this.xmax,f=e+(o=a)*i)}else if(r<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/r)<o&&(u=this.xmin,f=e+(o=a)*i)}return[u,f]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const r=(e+2)%t.length,i=(e+4)%t.length;(t[e]===t[r]&&t[r]===t[i]||t[e+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),e-=2)}t.length||(t=null)}return t}}const Y2=2*Math.PI,ee=Math.pow;function U2(n){return n[0]}function F2(n){return n[1]}function q2(n){const{triangles:t,coords:e}=n;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((e[a]-e[i])*(e[o+1]-e[i+1])-(e[o]-e[i])*(e[a+1]-e[i+1])>1e-10)return!1}return!0}function B2(n,t,e){return[n+Math.sin(n+t)*e,t+Math.cos(n-t)*e]}class Ja{static from(t,e=U2,r=F2,i){return new Ja("length"in t?H2(t,e,r,i):Float64Array.from(W2(t,e,r,i)))}constructor(t){this._delaunator=new ei(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&q2(t)){this.collinear=Int32Array.from({length:e.length/2},(s,d)=>d).sort((s,d)=>e[2*s]-e[2*d]||e[2*s+1]-e[2*d+1]);const f=this.collinear[0],c=this.collinear[this.collinear.length-1],l=[e[2*f],e[2*f+1],e[2*c],e[2*c+1]],h=1e-8*Math.hypot(l[3]-l[1],l[2]-l[0]);for(let s=0,d=e.length/2;s<d;++s){const p=B2(e[2*s],e[2*s+1],h);e[2*s]=p[0],e[2*s+1]=p[1]}this._delaunator=new ei(e)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let f=0,c=r.length;f<c;++f){const l=o[f%3===2?f-2:f+1];(r[f]===-1||a[l]===-1)&&(a[l]=f)}for(let f=0,c=i.length;f<c;++f)u[i[f]]=f;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Bs(this,t)}*neighbors(t){const{inedges:e,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:u}=this;if(u){const h=u.indexOf(t);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const f=e[t];if(f===-1)return;let c=f,l=-1;do{if(yield l=a[c],c=c%3===2?c-2:c+1,a[c]!==t)return;if(c=o[c],c===-1){const h=r[(i[t]+1)%r.length];h!==l&&(yield h);return}}while(c!==f)}find(t,e,r=0){if(t=+t,t!==t||(e=+e,e!==e))return-1;const i=r;let o;for(;(o=this._step(r,t,e))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,e,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:u,triangles:f,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let l=t,h=ee(e-c[t*2],2)+ee(r-c[t*2+1],2);const s=i[t];let d=s;do{let p=f[d];const b=ee(e-c[p*2],2)+ee(r-c[p*2+1],2);if(b<h&&(h=b,l=p),d=d%3===2?d-2:d+1,f[d]!==t)break;if(d=u[d],d===-1){if(d=o[(a[t]+1)%o.length],d!==p&&ee(e-c[d*2],2)+ee(r-c[d*2+1],2)<h)return d;break}}while(d!==s);return l}render(t){const e=t==null?t=new Lt:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,u=i.length;a<u;++a){const f=i[a];if(f<a)continue;const c=o[a]*2,l=o[f]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[l],r[l+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){e===void 0&&(!t||typeof t.moveTo!="function")&&(e=t,t=null),e=e==null?2:+e;const r=t==null?t=new Lt:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const u=i[o],f=i[o+1];t.moveTo(u+e,f),t.arc(u,f,e,0,Y2)}return r&&r.value()}renderHull(t){const e=t==null?t=new Lt:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;t.moveTo(i[o],i[o+1]);for(let u=1;u<a;++u){const f=2*r[u];t.lineTo(i[f],i[f+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new na;return this.renderHull(t),t.value()}renderTriangle(t,e){const r=e==null?e=new Lt:void 0,{points:i,triangles:o}=this,a=o[t*=3]*2,u=o[t+1]*2,f=o[t+2]*2;return e.moveTo(i[a],i[a+1]),e.lineTo(i[u],i[u+1]),e.lineTo(i[f],i[f+1]),e.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,r=t.length/3;e<r;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new na;return this.renderTriangle(t,e),e.value()}}function H2(n,t,e,r){const i=n.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const u=n[a];o[a*2]=t.call(r,u,a,n),o[a*2+1]=e.call(r,u,a,n)}return o}function*W2(n,t,e,r){let i=0;for(const o of n)yield t.call(r,o,i,n),yield e.call(r,o,i,n),++i}var wf={},vo={},wo=34,ke=10,Mo=13;function Hs(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function G2(n,t){var e=Hs(n);return function(r,i){return t(e(r),i,n)}}function Mf(n){var t=Object.create(null),e=[];return n.forEach(function(r){for(var i in r)i in t||e.push(t[i]=i)}),e}function On(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function X2(n){return n<0?"-"+On(-n,6):n>9999?"+"+On(n,6):On(n,4)}function j2(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),r=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":X2(n.getUTCFullYear())+"-"+On(n.getUTCMonth()+1,2)+"-"+On(n.getUTCDate(),2)+(i?"T"+On(t,2)+":"+On(e,2)+":"+On(r,2)+"."+On(i,3)+"Z":r?"T"+On(t,2)+":"+On(e,2)+":"+On(r,2)+"Z":e||t?"T"+On(t,2)+":"+On(e,2)+"Z":"")}function Oi(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function r(h,s){var d,p,b=i(h,function(g,m){if(d)return d(g,m-1);p=g,d=s?G2(g,s):Hs(g)});return b.columns=p||[],b}function i(h,s){var d=[],p=h.length,b=0,g=0,m,w=p<=0,_=!1;h.charCodeAt(p-1)===ke&&--p,h.charCodeAt(p-1)===Mo&&--p;function v(){if(w)return vo;if(_)return _=!1,wf;var M,S=b,E;if(h.charCodeAt(S)===wo){for(;b++<p&&h.charCodeAt(b)!==wo||h.charCodeAt(++b)===wo;);return(M=b)>=p?w=!0:(E=h.charCodeAt(b++))===ke?_=!0:E===Mo&&(_=!0,h.charCodeAt(b)===ke&&++b),h.slice(S+1,M-1).replace(/""/g,'"')}for(;b<p;){if((E=h.charCodeAt(M=b++))===ke)_=!0;else if(E===Mo)_=!0,h.charCodeAt(b)===ke&&++b;else if(E!==e)continue;return h.slice(S,M)}return w=!0,h.slice(S,p)}for(;(m=v())!==vo;){for(var y=[];m!==wf&&m!==vo;)y.push(m),m=v();s&&(y=s(y,g++))==null||d.push(y)}return d}function o(h,s){return h.map(function(d){return s.map(function(p){return l(d[p])}).join(n)})}function a(h,s){return s==null&&(s=Mf(h)),[s.map(l).join(n)].concat(o(h,s)).join(`
`)}function u(h,s){return s==null&&(s=Mf(h)),o(h,s).join(`
`)}function f(h){return h.map(c).join(`
`)}function c(h){return h.map(l).join(n)}function l(h){return h==null?"":h instanceof Date?j2(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:u,formatRows:f,formatRow:c,formatValue:l}}var Wt=Oi(","),Ws=Wt.parse,V2=Wt.parseRows,Z2=Wt.format,Q2=Wt.formatBody,K2=Wt.formatRows,J2=Wt.formatRow,np=Wt.formatValue,Gt=Oi("	"),Gs=Gt.parse,tp=Gt.parseRows,ep=Gt.format,rp=Gt.formatBody,ip=Gt.formatRows,op=Gt.formatRow,ap=Gt.formatValue;function up(n){for(var t in n){var e=n[t].trim(),r,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(r=+e))e=r;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))fp&&i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[t]=e}return n}const fp=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function cp(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.blob()}function sp(n,t){return fetch(n,t).then(cp)}function lp(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.arrayBuffer()}function hp(n,t){return fetch(n,t).then(lp)}function dp(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function Yi(n,t){return fetch(n,t).then(dp)}function Xs(n){return function(t,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),Yi(t,e).then(function(i){return n(i,r)})}}function gp(n,t,e,r){arguments.length===3&&typeof e=="function"&&(r=e,e=void 0);var i=Oi(n);return Yi(t,e).then(function(o){return i.parse(o,r)})}var pp=Xs(Ws),mp=Xs(Gs);function bp(n,t){return new Promise(function(e,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){e(i)},i.src=n})}function yp(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(!(n.status===204||n.status===205))return n.json()}function _p(n,t){return fetch(n,t).then(yp)}function nu(n){return(t,e)=>Yi(t,e).then(r=>new DOMParser().parseFromString(r,n))}const vp=nu("application/xml");var wp=nu("text/html"),Mp=nu("image/svg+xml");function xp(n,t){var e,r=1;n==null&&(n=0),t==null&&(t=0);function i(){var o,a=e.length,u,f=0,c=0;for(o=0;o<a;++o)u=e[o],f+=u.x,c+=u.y;for(f=(f/a-n)*r,c=(c/a-t)*r,o=0;o<a;++o)u=e[o],u.x-=f,u.y-=c}return i.initialize=function(o){e=o},i.x=function(o){return arguments.length?(n=+o,i):n},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Sp(n){return n.index}function xf(n,t){var e=n.get(t);if(!e)throw new Error("node not found: "+t);return e}function Tp(n){var t=Sp,e=h,r,i=Dt(30),o,a,u,f,c,l=1;n==null&&(n=[]);function h(g){return 1/Math.min(u[g.source.index],u[g.target.index])}function s(g){for(var m=0,w=n.length;m<l;++m)for(var _=0,v,y,M,S,E,A,P;_<w;++_)v=n[_],y=v.source,M=v.target,S=M.x+M.vx-y.x-y.vx||Hu(c),E=M.y+M.vy-y.y-y.vy||Hu(c),A=Math.sqrt(S*S+E*E),A=(A-o[_])/A*g*r[_],S*=A,E*=A,M.vx-=S*(P=f[_]),M.vy-=E*P,y.vx+=S*(P=1-P),y.vy+=E*P}function d(){if(a){var g,m=a.length,w=n.length,_=new Map(a.map((y,M)=>[t(y,M,a),y])),v;for(g=0,u=new Array(m);g<w;++g)v=n[g],v.index=g,typeof v.source!="object"&&(v.source=xf(_,v.source)),typeof v.target!="object"&&(v.target=xf(_,v.target)),u[v.source.index]=(u[v.source.index]||0)+1,u[v.target.index]=(u[v.target.index]||0)+1;for(g=0,f=new Array(w);g<w;++g)v=n[g],f[g]=u[v.source.index]/(u[v.source.index]+u[v.target.index]);r=new Array(w),p(),o=new Array(w),b()}}function p(){if(a)for(var g=0,m=n.length;g<m;++g)r[g]=+e(n[g],g,n)}function b(){if(a)for(var g=0,m=n.length;g<m;++g)o[g]=+i(n[g],g,n)}return s.initialize=function(g,m){a=g,c=m,d()},s.links=function(g){return arguments.length?(n=g,d(),s):n},s.id=function(g){return arguments.length?(t=g,s):t},s.iterations=function(g){return arguments.length?(l=+g,s):l},s.strength=function(g){return arguments.length?(e=typeof g=="function"?g:Dt(+g),p(),s):e},s.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Dt(+g),b(),s):i},s}function $p(n,t,e){var r,i=Dt(.1),o,a;typeof n!="function"&&(n=Dt(+n)),t==null&&(t=0),e==null&&(e=0);function u(c){for(var l=0,h=r.length;l<h;++l){var s=r[l],d=s.x-t||1e-6,p=s.y-e||1e-6,b=Math.sqrt(d*d+p*p),g=(a[l]-b)*o[l]*c/b;s.vx+=d*g,s.vy+=p*g}}function f(){if(r){var c,l=r.length;for(o=new Array(l),a=new Array(l),c=0;c<l;++c)a[c]=+n(r[c],c,r),o[c]=isNaN(a[c])?0:+i(r[c],c,r)}}return u.initialize=function(c){r=c,f()},u.strength=function(c){return arguments.length?(i=typeof c=="function"?c:Dt(+c),f(),u):i},u.radius=function(c){return arguments.length?(n=typeof c=="function"?c:Dt(+c),f(),u):n},u.x=function(c){return arguments.length?(t=+c,u):t},u.y=function(c){return arguments.length?(e=+c,u):e},u}var B=1e-6,or=1e-12,Q=Math.PI,gn=Q/2,ri=Q/4,zn=Q*2,on=180/Q,H=Q/180,nn=Math.abs,$e=Math.atan,Dn=Math.atan2,q=Math.cos,Ar=Math.ceil,js=Math.exp,ta=Math.hypot,ii=Math.log,xo=Math.pow,U=Math.sin,Gn=Math.sign||function(n){return n>0?1:n<0?-1:0},_n=Math.sqrt,tu=Math.tan;function Vs(n){return n>1?0:n<-1?Q:Math.acos(n)}function Ln(n){return n>1?gn:n<-1?-gn:Math.asin(n)}function Sf(n){return(n=U(n/2))*n}function sn(){}function oi(n,t){n&&$f.hasOwnProperty(n.type)&&$f[n.type](n,t)}var Tf={Feature:function(n,t){oi(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)oi(e[r].geometry,t)}},$f={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){ea(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)ea(e[r],t,0)},Polygon:function(n,t){Af(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Af(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)oi(e[r],t)}};function ea(n,t,e){var r=-1,i=n.length-e,o;for(t.lineStart();++r<i;)o=n[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Af(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)ea(n[e],t,1);t.polygonEnd()}function Vn(n,t){n&&Tf.hasOwnProperty(n.type)?Tf[n.type](n,t):oi(n,t)}var ai=new yn,ui=new yn,Zs,Qs,ra,ia,oa,it={point:sn,lineStart:sn,lineEnd:sn,polygonStart:function(){ai=new yn,it.lineStart=Ap,it.lineEnd=Ep},polygonEnd:function(){var n=+ai;ui.add(n<0?zn+n:n),this.lineStart=this.lineEnd=this.point=sn},sphere:function(){ui.add(zn)}};function Ap(){it.point=Pp}function Ep(){Ks(Zs,Qs)}function Pp(n,t){it.point=Ks,Zs=n,Qs=t,n*=H,t*=H,ra=n,ia=q(t=t/2+ri),oa=U(t)}function Ks(n,t){n*=H,t*=H,t=t/2+ri;var e=n-ra,r=e>=0?1:-1,i=r*e,o=q(t),a=U(t),u=oa*a,f=ia*o+u*q(i),c=u*r*U(i);ai.add(Dn(c,f)),ra=n,ia=o,oa=a}function Cp(n){return ui=new yn,Vn(n,it),ui*2}function fi(n){return[Dn(n[1],n[0]),Ln(n[2])]}function Ut(n){var t=n[0],e=n[1],r=q(e);return[r*q(t),r*U(t),U(e)]}function Er(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function pe(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function So(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Pr(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ci(n){var t=_n(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var cn,Un,dn,qn,It,Js,nl,se,je,Tt,yt,ht={point:aa,lineStart:Ef,lineEnd:Pf,polygonStart:function(){ht.point=el,ht.lineStart=kp,ht.lineEnd=Rp,je=new yn,it.polygonStart()},polygonEnd:function(){it.polygonEnd(),ht.point=aa,ht.lineStart=Ef,ht.lineEnd=Pf,ai<0?(cn=-(dn=180),Un=-(qn=90)):je>B?qn=90:je<-B&&(Un=-90),yt[0]=cn,yt[1]=dn},sphere:function(){cn=-(dn=180),Un=-(qn=90)}};function aa(n,t){Tt.push(yt=[cn=n,dn=n]),t<Un&&(Un=t),t>qn&&(qn=t)}function tl(n,t){var e=Ut([n*H,t*H]);if(se){var r=pe(se,e),i=[r[1],-r[0],0],o=pe(i,r);ci(o),o=fi(o);var a=n-It,u=a>0?1:-1,f=o[0]*on*u,c,l=nn(a)>180;l^(u*It<f&&f<u*n)?(c=o[1]*on,c>qn&&(qn=c)):(f=(f+360)%360-180,l^(u*It<f&&f<u*n)?(c=-o[1]*on,c<Un&&(Un=c)):(t<Un&&(Un=t),t>qn&&(qn=t))),l?n<It?Fn(cn,n)>Fn(cn,dn)&&(dn=n):Fn(n,dn)>Fn(cn,dn)&&(cn=n):dn>=cn?(n<cn&&(cn=n),n>dn&&(dn=n)):n>It?Fn(cn,n)>Fn(cn,dn)&&(dn=n):Fn(n,dn)>Fn(cn,dn)&&(cn=n)}else Tt.push(yt=[cn=n,dn=n]);t<Un&&(Un=t),t>qn&&(qn=t),se=e,It=n}function Ef(){ht.point=tl}function Pf(){yt[0]=cn,yt[1]=dn,ht.point=aa,se=null}function el(n,t){if(se){var e=n-It;je.add(nn(e)>180?e+(e>0?360:-360):e)}else Js=n,nl=t;it.point(n,t),tl(n,t)}function kp(){it.lineStart()}function Rp(){el(Js,nl),it.lineEnd(),nn(je)>B&&(cn=-(dn=180)),yt[0]=cn,yt[1]=dn,se=null}function Fn(n,t){return(t-=n)<0?t+360:t}function Np(n,t){return n[0]-t[0]}function Cf(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function Ip(n){var t,e,r,i,o,a,u;if(qn=dn=-(cn=Un=1/0),Tt=[],Vn(n,ht),e=Tt.length){for(Tt.sort(Np),t=1,r=Tt[0],o=[r];t<e;++t)i=Tt[t],Cf(r,i[0])||Cf(r,i[1])?(Fn(r[0],i[1])>Fn(r[0],r[1])&&(r[1]=i[1]),Fn(i[0],r[1])>Fn(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=o.length-1,t=0,r=o[e];t<=e;r=i,++t)i=o[t],(u=Fn(r[1],i[0]))>a&&(a=u,cn=i[0],dn=r[1])}return Tt=yt=null,cn===1/0||Un===1/0?[[NaN,NaN],[NaN,NaN]]:[[cn,Un],[dn,qn]]}var Le,si,li,hi,di,gi,pi,mi,ua,fa,ca,rl,il,kn,Rn,Nn,Zn={sphere:sn,point:eu,lineStart:kf,lineEnd:Rf,polygonStart:function(){Zn.lineStart=Lp,Zn.lineEnd=Op},polygonEnd:function(){Zn.lineStart=kf,Zn.lineEnd=Rf}};function eu(n,t){n*=H,t*=H;var e=q(t);mr(e*q(n),e*U(n),U(t))}function mr(n,t,e){++Le,li+=(n-li)/Le,hi+=(t-hi)/Le,di+=(e-di)/Le}function kf(){Zn.point=zp}function zp(n,t){n*=H,t*=H;var e=q(t);kn=e*q(n),Rn=e*U(n),Nn=U(t),Zn.point=Dp,mr(kn,Rn,Nn)}function Dp(n,t){n*=H,t*=H;var e=q(t),r=e*q(n),i=e*U(n),o=U(t),a=Dn(_n((a=Rn*o-Nn*i)*a+(a=Nn*r-kn*o)*a+(a=kn*i-Rn*r)*a),kn*r+Rn*i+Nn*o);si+=a,gi+=a*(kn+(kn=r)),pi+=a*(Rn+(Rn=i)),mi+=a*(Nn+(Nn=o)),mr(kn,Rn,Nn)}function Rf(){Zn.point=eu}function Lp(){Zn.point=Yp}function Op(){ol(rl,il),Zn.point=eu}function Yp(n,t){rl=n,il=t,n*=H,t*=H,Zn.point=ol;var e=q(t);kn=e*q(n),Rn=e*U(n),Nn=U(t),mr(kn,Rn,Nn)}function ol(n,t){n*=H,t*=H;var e=q(t),r=e*q(n),i=e*U(n),o=U(t),a=Rn*o-Nn*i,u=Nn*r-kn*o,f=kn*i-Rn*r,c=ta(a,u,f),l=Ln(c),h=c&&-l/c;ua.add(h*a),fa.add(h*u),ca.add(h*f),si+=l,gi+=l*(kn+(kn=r)),pi+=l*(Rn+(Rn=i)),mi+=l*(Nn+(Nn=o)),mr(kn,Rn,Nn)}function Up(n){Le=si=li=hi=di=gi=pi=mi=0,ua=new yn,fa=new yn,ca=new yn,Vn(n,Zn);var t=+ua,e=+fa,r=+ca,i=ta(t,e,r);return i<or&&(t=gi,e=pi,r=mi,si<B&&(t=li,e=hi,r=di),i=ta(t,e,r),i<or)?[NaN,NaN]:[Dn(e,t)*on,Ln(r/i)*on]}function re(n){return function(){return n}}function sa(n,t){function e(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(e.invert=function(r,i){return r=t.invert(r,i),r&&n.invert(r[0],r[1])}),e}function la(n,t){return nn(n)>Q&&(n-=Math.round(n/zn)*zn),[n,t]}la.invert=la;function ru(n,t,e){return(n%=zn)?t||e?sa(If(n),zf(t,e)):If(n):t||e?zf(t,e):la}function Nf(n){return function(t,e){return t+=n,nn(t)>Q&&(t-=Math.round(t/zn)*zn),[t,e]}}function If(n){var t=Nf(n);return t.invert=Nf(-n),t}function zf(n,t){var e=q(n),r=U(n),i=q(t),o=U(t);function a(u,f){var c=q(f),l=q(u)*c,h=U(u)*c,s=U(f),d=s*e+l*r;return[Dn(h*i-d*o,l*e-s*r),Ln(d*i+h*o)]}return a.invert=function(u,f){var c=q(f),l=q(u)*c,h=U(u)*c,s=U(f),d=s*i-h*o;return[Dn(h*i+s*o,l*e+d*r),Ln(d*e-l*r)]},a}function al(n){n=ru(n[0]*H,n[1]*H,n.length>2?n[2]*H:0);function t(e){return e=n(e[0]*H,e[1]*H),e[0]*=on,e[1]*=on,e}return t.invert=function(e){return e=n.invert(e[0]*H,e[1]*H),e[0]*=on,e[1]*=on,e},t}function ul(n,t,e,r,i,o){if(e){var a=q(t),u=U(t),f=r*e;i==null?(i=t+r*zn,o=t-f/2):(i=Df(a,i),o=Df(a,o),(r>0?i<o:i>o)&&(i+=r*zn));for(var c,l=i;r>0?l>o:l<o;l-=f)c=fi([a,-u*q(l),-u*U(l)]),n.point(c[0],c[1])}}function Df(n,t){t=Ut(t),t[0]-=n,ci(t);var e=Vs(-t[1]);return((-t[2]<0?-e:e)+zn-B)%zn}function Fp(){var n=re([0,0]),t=re(90),e=re(2),r,i,o={point:a};function a(f,c){r.push(f=i(f,c)),f[0]*=on,f[1]*=on}function u(){var f=n.apply(this,arguments),c=t.apply(this,arguments)*H,l=e.apply(this,arguments)*H;return r=[],i=ru(-f[0]*H,-f[1]*H,0).invert,ul(o,c,l,1),f={type:"Polygon",coordinates:[r]},r=i=null,f}return u.center=function(f){return arguments.length?(n=typeof f=="function"?f:re([+f[0],+f[1]]),u):n},u.radius=function(f){return arguments.length?(t=typeof f=="function"?f:re(+f),u):t},u.precision=function(f){return arguments.length?(e=typeof f=="function"?f:re(+f),u):e},u}function fl(){var n=[],t;return{point:function(e,r,i){t.push([e,r,i])},lineStart:function(){n.push(t=[])},lineEnd:sn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Hr(n,t){return nn(n[0]-t[0])<B&&nn(n[1]-t[1])<B}function Cr(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function cl(n,t,e,r,i){var o=[],a=[],u,f;if(n.forEach(function(p){if(!((b=p.length-1)<=0)){var b,g=p[0],m=p[b],w;if(Hr(g,m)){if(!g[2]&&!m[2]){for(i.lineStart(),u=0;u<b;++u)i.point((g=p[u])[0],g[1]);i.lineEnd();return}m[0]+=2*B}o.push(w=new Cr(g,p,null,!0)),a.push(w.o=new Cr(g,null,w,!1)),o.push(w=new Cr(m,p,null,!1)),a.push(w.o=new Cr(m,null,w,!0))}}),!!o.length){for(a.sort(t),Lf(o),Lf(a),u=0,f=a.length;u<f;++u)a[u].e=e=!e;for(var c=o[0],l,h;;){for(var s=c,d=!0;s.v;)if((s=s.n)===c)return;l=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(d)for(u=0,f=l.length;u<f;++u)i.point((h=l[u])[0],h[1]);else r(s.x,s.n.x,1,i);s=s.n}else{if(d)for(l=s.p.z,u=l.length-1;u>=0;--u)i.point((h=l[u])[0],h[1]);else r(s.x,s.p.x,-1,i);s=s.p}s=s.o,l=s.z,d=!d}while(!s.v);i.lineEnd()}}}function Lf(n){if(t=n.length){for(var t,e=0,r=n[0],i;++e<t;)r.n=i=n[e],i.p=r,r=i;r.n=i=n[0],i.p=r}}function To(n){return nn(n[0])<=Q?n[0]:Gn(n[0])*((nn(n[0])+Q)%zn-Q)}function sl(n,t){var e=To(t),r=t[1],i=U(r),o=[U(e),-q(e),0],a=0,u=0,f=new yn;i===1?r=gn+B:i===-1&&(r=-gn-B);for(var c=0,l=n.length;c<l;++c)if(s=(h=n[c]).length)for(var h,s,d=h[s-1],p=To(d),b=d[1]/2+ri,g=U(b),m=q(b),w=0;w<s;++w,p=v,g=M,m=S,d=_){var _=h[w],v=To(_),y=_[1]/2+ri,M=U(y),S=q(y),E=v-p,A=E>=0?1:-1,P=A*E,C=P>Q,I=g*M;if(f.add(Dn(I*A*U(P),m*S+I*q(P))),a+=C?E+A*zn:E,C^p>=e^v>=e){var k=pe(Ut(d),Ut(_));ci(k);var x=pe(o,k);ci(x);var T=(C^E>=0?-1:1)*Ln(x[2]);(r>T||r===T&&(k[0]||k[1]))&&(u+=C^E>=0?1:-1)}}return(a<-B||a<B&&f<-or)^u&1}function ll(n,t,e,r){return function(i){var o=t(i),a=fl(),u=t(a),f=!1,c,l,h,s={point:d,lineStart:b,lineEnd:g,polygonStart:function(){s.point=m,s.lineStart=w,s.lineEnd=_,l=[],c=[]},polygonEnd:function(){s.point=d,s.lineStart=b,s.lineEnd=g,l=Wa(l);var v=sl(c,r);l.length?(f||(i.polygonStart(),f=!0),cl(l,Bp,v,e,i)):v&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(v,y){n(v,y)&&i.point(v,y)}function p(v,y){o.point(v,y)}function b(){s.point=p,o.lineStart()}function g(){s.point=d,o.lineEnd()}function m(v,y){h.push([v,y]),u.point(v,y)}function w(){u.lineStart(),h=[]}function _(){m(h[0][0],h[0][1]),u.lineEnd();var v=u.clean(),y=a.result(),M,S=y.length,E,A,P;if(h.pop(),c.push(h),h=null,!!S){if(v&1){if(A=y[0],(E=A.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),M=0;M<E;++M)i.point((P=A[M])[0],P[1]);i.lineEnd()}return}S>1&&v&2&&y.push(y.pop().concat(y.shift())),l.push(y.filter(qp))}}return s}}function qp(n){return n.length>1}function Bp(n,t){return((n=n.x)[0]<0?n[1]-gn-B:gn-n[1])-((t=t.x)[0]<0?t[1]-gn-B:gn-t[1])}const ha=ll(function(){return!0},Hp,Gp,[-Q,-gn]);function Hp(n){var t=NaN,e=NaN,r=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(o,a){var u=o>0?Q:-Q,f=nn(o-t);nn(f-Q)<B?(n.point(t,e=(e+a)/2>0?gn:-gn),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(u,e),n.point(o,e),i=0):r!==u&&f>=Q&&(nn(t-r)<B&&(t-=r*B),nn(o-u)<B&&(o-=u*B),e=Wp(t,e,o,a),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(u,e),i=0),n.point(t=o,e=a),r=u},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-i}}}function Wp(n,t,e,r){var i,o,a=U(n-e);return nn(a)>B?$e((U(t)*(o=q(r))*U(e)-U(r)*(i=q(t))*U(n))/(i*o*a)):(t+r)/2}function Gp(n,t,e,r){var i;if(n==null)i=e*gn,r.point(-Q,i),r.point(0,i),r.point(Q,i),r.point(Q,0),r.point(Q,-i),r.point(0,-i),r.point(-Q,-i),r.point(-Q,0),r.point(-Q,i);else if(nn(n[0]-t[0])>B){var o=n[0]<t[0]?Q:-Q;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function hl(n){var t=q(n),e=2*H,r=t>0,i=nn(t)>B;function o(l,h,s,d){ul(d,n,e,s,l,h)}function a(l,h){return q(l)*q(h)>t}function u(l){var h,s,d,p,b;return{lineStart:function(){p=d=!1,b=1},point:function(g,m){var w=[g,m],_,v=a(g,m),y=r?v?0:c(g,m):v?c(g+(g<0?Q:-Q),m):0;if(!h&&(p=d=v)&&l.lineStart(),v!==d&&(_=f(h,w),(!_||Hr(h,_)||Hr(w,_))&&(w[2]=1)),v!==d)b=0,v?(l.lineStart(),_=f(w,h),l.point(_[0],_[1])):(_=f(h,w),l.point(_[0],_[1],2),l.lineEnd()),h=_;else if(i&&h&&r^v){var M;!(y&s)&&(M=f(w,h,!0))&&(b=0,r?(l.lineStart(),l.point(M[0][0],M[0][1]),l.point(M[1][0],M[1][1]),l.lineEnd()):(l.point(M[1][0],M[1][1]),l.lineEnd(),l.lineStart(),l.point(M[0][0],M[0][1],3)))}v&&(!h||!Hr(h,w))&&l.point(w[0],w[1]),h=w,d=v,s=y},lineEnd:function(){d&&l.lineEnd(),h=null},clean:function(){return b|(p&&d)<<1}}}function f(l,h,s){var d=Ut(l),p=Ut(h),b=[1,0,0],g=pe(d,p),m=Er(g,g),w=g[0],_=m-w*w;if(!_)return!s&&l;var v=t*m/_,y=-t*w/_,M=pe(b,g),S=Pr(b,v),E=Pr(g,y);So(S,E);var A=M,P=Er(S,A),C=Er(A,A),I=P*P-C*(Er(S,S)-1);if(!(I<0)){var k=_n(I),x=Pr(A,(-P-k)/C);if(So(x,S),x=fi(x),!s)return x;var T=l[0],$=h[0],R=l[1],D=h[1],N;$<T&&(N=T,T=$,$=N);var L=$-T,Y=nn(L-Q)<B,F=Y||L<B;if(!Y&&D<R&&(N=R,R=D,D=N),F?Y?R+D>0^x[1]<(nn(x[0]-T)<B?R:D):R<=x[1]&&x[1]<=D:L>Q^(T<=x[0]&&x[0]<=$)){var J=Pr(A,(-P+k)/C);return So(J,S),[x,fi(J)]}}}function c(l,h){var s=r?n:Q-n,d=0;return l<-s?d|=1:l>s&&(d|=2),h<-s?d|=4:h>s&&(d|=8),d}return ll(a,u,o,r?[0,-n]:[-Q,n-Q])}function Xp(n,t,e,r,i,o){var a=n[0],u=n[1],f=t[0],c=t[1],l=0,h=1,s=f-a,d=c-u,p;if(p=e-a,!(!s&&p>0)){if(p/=s,s<0){if(p<l)return;p<h&&(h=p)}else if(s>0){if(p>h)return;p>l&&(l=p)}if(p=i-a,!(!s&&p<0)){if(p/=s,s<0){if(p>h)return;p>l&&(l=p)}else if(s>0){if(p<l)return;p<h&&(h=p)}if(p=r-u,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>l&&(l=p)}if(p=o-u,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<h&&(h=p)}return l>0&&(n[0]=a+l*s,n[1]=u+l*d),h<1&&(t[0]=a+h*s,t[1]=u+h*d),!0}}}}}var Oe=1e9,kr=-Oe;function Ui(n,t,e,r){function i(c,l){return n<=c&&c<=e&&t<=l&&l<=r}function o(c,l,h,s){var d=0,p=0;if(c==null||(d=a(c,h))!==(p=a(l,h))||f(c,l)<0^h>0)do s.point(d===0||d===3?n:e,d>1?r:t);while((d=(d+h+4)%4)!==p);else s.point(l[0],l[1])}function a(c,l){return nn(c[0]-n)<B?l>0?0:3:nn(c[0]-e)<B?l>0?2:1:nn(c[1]-t)<B?l>0?1:0:l>0?3:2}function u(c,l){return f(c.x,l.x)}function f(c,l){var h=a(c,1),s=a(l,1);return h!==s?h-s:h===0?l[1]-c[1]:h===1?c[0]-l[0]:h===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,h=fl(),s,d,p,b,g,m,w,_,v,y,M,S={point:E,lineStart:I,lineEnd:k,polygonStart:P,polygonEnd:C};function E(T,$){i(T,$)&&l.point(T,$)}function A(){for(var T=0,$=0,R=d.length;$<R;++$)for(var D=d[$],N=1,L=D.length,Y=D[0],F,J,V=Y[0],K=Y[1];N<L;++N)F=V,J=K,Y=D[N],V=Y[0],K=Y[1],J<=r?K>r&&(V-F)*(r-J)>(K-J)*(n-F)&&++T:K<=r&&(V-F)*(r-J)<(K-J)*(n-F)&&--T;return T}function P(){l=h,s=[],d=[],M=!0}function C(){var T=A(),$=M&&T,R=(s=Wa(s)).length;($||R)&&(c.polygonStart(),$&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),R&&cl(s,u,T,o,c),c.polygonEnd()),l=c,s=d=p=null}function I(){S.point=x,d&&d.push(p=[]),y=!0,v=!1,w=_=NaN}function k(){s&&(x(b,g),m&&v&&h.rejoin(),s.push(h.result())),S.point=E,v&&l.lineEnd()}function x(T,$){var R=i(T,$);if(d&&p.push([T,$]),y)b=T,g=$,m=R,y=!1,R&&(l.lineStart(),l.point(T,$));else if(R&&v)l.point(T,$);else{var D=[w=Math.max(kr,Math.min(Oe,w)),_=Math.max(kr,Math.min(Oe,_))],N=[T=Math.max(kr,Math.min(Oe,T)),$=Math.max(kr,Math.min(Oe,$))];Xp(D,N,n,t,e,r)?(v||(l.lineStart(),l.point(D[0],D[1])),l.point(N[0],N[1]),R||l.lineEnd(),M=!1):R&&(l.lineStart(),l.point(T,$),M=!1)}w=T,_=$,v=R}return S}}function jp(){var n=0,t=0,e=960,r=500,i,o,a;return a={stream:function(u){return i&&o===u?i:i=Ui(n,t,e,r)(o=u)},extent:function(u){return arguments.length?(n=+u[0][0],t=+u[0][1],e=+u[1][0],r=+u[1][1],i=o=null,a):[[n,t],[e,r]]}}}var da,ga,Wr,Gr,me={sphere:sn,point:sn,lineStart:Vp,lineEnd:sn,polygonStart:sn,polygonEnd:sn};function Vp(){me.point=Qp,me.lineEnd=Zp}function Zp(){me.point=me.lineEnd=sn}function Qp(n,t){n*=H,t*=H,ga=n,Wr=U(t),Gr=q(t),me.point=Kp}function Kp(n,t){n*=H,t*=H;var e=U(t),r=q(t),i=nn(n-ga),o=q(i),a=U(i),u=r*a,f=Gr*e-Wr*r*o,c=Wr*e+Gr*r*o;da.add(Dn(_n(u*u+f*f),c)),ga=n,Wr=e,Gr=r}function dl(n){return da=new yn,Vn(n,me),+da}var pa=[null,null],Jp={type:"LineString",coordinates:pa};function bi(n,t){return pa[0]=n,pa[1]=t,dl(Jp)}var Of={Feature:function(n,t){return yi(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)if(yi(e[r].geometry,t))return!0;return!1}},Yf={Sphere:function(){return!0},Point:function(n,t){return Uf(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(Uf(e[r],t))return!0;return!1},LineString:function(n,t){return Ff(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(Ff(e[r],t))return!0;return!1},Polygon:function(n,t){return qf(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(qf(e[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)if(yi(e[r],t))return!0;return!1}};function yi(n,t){return n&&Yf.hasOwnProperty(n.type)?Yf[n.type](n,t):!1}function Uf(n,t){return bi(n,t)===0}function Ff(n,t){for(var e,r,i,o=0,a=n.length;o<a;o++){if(r=bi(n[o],t),r===0||o>0&&(i=bi(n[o],n[o-1]),i>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<or*i))return!0;e=r}return!1}function qf(n,t){return!!sl(n.map(nm),gl(t))}function nm(n){return n=n.map(gl),n.pop(),n}function gl(n){return[n[0]*H,n[1]*H]}function tm(n,t){return(n&&Of.hasOwnProperty(n.type)?Of[n.type]:yi)(n,t)}function Bf(n,t,e){var r=$t(n,t-B,e).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Hf(n,t,e){var r=$t(n,t-B,e).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function pl(){var n,t,e,r,i,o,a,u,f=10,c=f,l=90,h=360,s,d,p,b,g=2.5;function m(){return{type:"MultiLineString",coordinates:w()}}function w(){return $t(Ar(r/l)*l,e,l).map(p).concat($t(Ar(u/h)*h,a,h).map(b)).concat($t(Ar(t/f)*f,n,f).filter(function(_){return nn(_%l)>B}).map(s)).concat($t(Ar(o/c)*c,i,c).filter(function(_){return nn(_%h)>B}).map(d))}return m.lines=function(){return w().map(function(_){return{type:"LineString",coordinates:_}})},m.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(b(a).slice(1),p(e).reverse().slice(1),b(u).reverse().slice(1))]}},m.extent=function(_){return arguments.length?m.extentMajor(_).extentMinor(_):m.extentMinor()},m.extentMajor=function(_){return arguments.length?(r=+_[0][0],e=+_[1][0],u=+_[0][1],a=+_[1][1],r>e&&(_=r,r=e,e=_),u>a&&(_=u,u=a,a=_),m.precision(g)):[[r,u],[e,a]]},m.extentMinor=function(_){return arguments.length?(t=+_[0][0],n=+_[1][0],o=+_[0][1],i=+_[1][1],t>n&&(_=t,t=n,n=_),o>i&&(_=o,o=i,i=_),m.precision(g)):[[t,o],[n,i]]},m.step=function(_){return arguments.length?m.stepMajor(_).stepMinor(_):m.stepMinor()},m.stepMajor=function(_){return arguments.length?(l=+_[0],h=+_[1],m):[l,h]},m.stepMinor=function(_){return arguments.length?(f=+_[0],c=+_[1],m):[f,c]},m.precision=function(_){return arguments.length?(g=+_,s=Bf(o,i,90),d=Hf(t,n,g),p=Bf(u,a,90),b=Hf(r,e,g),m):g},m.extentMajor([[-180,-90+B],[180,90-B]]).extentMinor([[-180,-80-B],[180,80+B]])}function em(){return pl()()}function rm(n,t){var e=n[0]*H,r=n[1]*H,i=t[0]*H,o=t[1]*H,a=q(r),u=U(r),f=q(o),c=U(o),l=a*q(e),h=a*U(e),s=f*q(i),d=f*U(i),p=2*Ln(_n(Sf(o-r)+a*f*Sf(i-e))),b=U(p),g=p?function(m){var w=U(m*=p)/b,_=U(p-m)/b,v=_*l+w*s,y=_*h+w*d,M=_*u+w*c;return[Dn(y,v)*on,Dn(M,_n(v*v+y*y))*on]}:function(){return[e*on,r*on]};return g.distance=p,g}const ar=n=>n;var $o=new yn,ma=new yn,ml,bl,ba,ya,dt={point:sn,lineStart:sn,lineEnd:sn,polygonStart:function(){dt.lineStart=im,dt.lineEnd=am},polygonEnd:function(){dt.lineStart=dt.lineEnd=dt.point=sn,$o.add(nn(ma)),ma=new yn},result:function(){var n=$o/2;return $o=new yn,n}};function im(){dt.point=om}function om(n,t){dt.point=yl,ml=ba=n,bl=ya=t}function yl(n,t){ma.add(ya*n-ba*t),ba=n,ya=t}function am(){yl(ml,bl)}var be=1/0,_i=be,ur=-be,vi=ur,wi={point:um,lineStart:sn,lineEnd:sn,polygonStart:sn,polygonEnd:sn,result:function(){var n=[[be,_i],[ur,vi]];return ur=vi=-(_i=be=1/0),n}};function um(n,t){n<be&&(be=n),n>ur&&(ur=n),t<_i&&(_i=t),t>vi&&(vi=t)}var _a=0,va=0,Ye=0,Mi=0,xi=0,ue=0,wa=0,Ma=0,Ue=0,_l,vl,tt,et,Wn={point:Ft,lineStart:Wf,lineEnd:Gf,polygonStart:function(){Wn.lineStart=sm,Wn.lineEnd=lm},polygonEnd:function(){Wn.point=Ft,Wn.lineStart=Wf,Wn.lineEnd=Gf},result:function(){var n=Ue?[wa/Ue,Ma/Ue]:ue?[Mi/ue,xi/ue]:Ye?[_a/Ye,va/Ye]:[NaN,NaN];return _a=va=Ye=Mi=xi=ue=wa=Ma=Ue=0,n}};function Ft(n,t){_a+=n,va+=t,++Ye}function Wf(){Wn.point=fm}function fm(n,t){Wn.point=cm,Ft(tt=n,et=t)}function cm(n,t){var e=n-tt,r=t-et,i=_n(e*e+r*r);Mi+=i*(tt+n)/2,xi+=i*(et+t)/2,ue+=i,Ft(tt=n,et=t)}function Gf(){Wn.point=Ft}function sm(){Wn.point=hm}function lm(){wl(_l,vl)}function hm(n,t){Wn.point=wl,Ft(_l=tt=n,vl=et=t)}function wl(n,t){var e=n-tt,r=t-et,i=_n(e*e+r*r);Mi+=i*(tt+n)/2,xi+=i*(et+t)/2,ue+=i,i=et*n-tt*t,wa+=i*(tt+n),Ma+=i*(et+t),Ue+=i*3,Ft(tt=n,et=t)}function Ml(n){this._context=n}Ml.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,zn);break}}},result:sn};var xa=new yn,Ao,xl,Sl,Fe,qe,fr={point:sn,lineStart:function(){fr.point=dm},lineEnd:function(){Ao&&Tl(xl,Sl),fr.point=sn},polygonStart:function(){Ao=!0},polygonEnd:function(){Ao=null},result:function(){var n=+xa;return xa=new yn,n}};function dm(n,t){fr.point=Tl,xl=Fe=n,Sl=qe=t}function Tl(n,t){Fe-=n,qe-=t,xa.add(_n(Fe*Fe+qe*qe)),Fe=n,qe=t}let Xf,Si,jf,Vf;class Zf{constructor(t){this._append=t==null?$l:gm(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==jf||this._append!==Si){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,jf=r,Si=this._append,Vf=this._,this._=i}this._+=Vf;break}}}result(){const t=this._;return this._="",t.length?t:null}}function $l(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function gm(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return $l;if(t!==Xf){const e=10**t;Xf=t,Si=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return Si}function pm(n,t){let e=3,r=4.5,i,o;function a(u){return u&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Vn(u,i(o))),o.result()}return a.area=function(u){return Vn(u,i(dt)),dt.result()},a.measure=function(u){return Vn(u,i(fr)),fr.result()},a.bounds=function(u){return Vn(u,i(wi)),wi.result()},a.centroid=function(u){return Vn(u,i(Wn)),Wn.result()},a.projection=function(u){return arguments.length?(i=u==null?(n=null,ar):(n=u).stream,a):n},a.context=function(u){return arguments.length?(o=u==null?(t=null,new Zf(e)):new Ml(t=u),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(o.pointRadius(+u),+u),a):r},a.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const f=Math.floor(u);if(!(f>=0))throw new RangeError(`invalid digits: ${u}`);e=f}return t===null&&(o=new Zf(e)),a},a.projection(n).digits(e).context(t)}function mm(n){return{stream:br(n)}}function br(n){return function(t){var e=new Sa;for(var r in n)e[r]=n[r];return e.stream=t,e}}function Sa(){}Sa.prototype={constructor:Sa,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function iu(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),Vn(e,n.stream(wi)),t(wi.result()),r!=null&&n.clipExtent(r),n}function Fi(n,t,e){return iu(n,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;n.scale(150*a).translate([u,f])},e)}function ou(n,t,e){return Fi(n,[[0,0],t],e)}function au(n,t,e){return iu(n,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];n.scale(150*o).translate([a,u])},e)}function uu(n,t,e){return iu(n,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([a,u])},e)}var Qf=16,bm=q(30*H);function Kf(n,t){return+t?_m(n,t):ym(n)}function ym(n){return br({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function _m(n,t){function e(r,i,o,a,u,f,c,l,h,s,d,p,b,g){var m=c-r,w=l-i,_=m*m+w*w;if(_>4*t&&b--){var v=a+s,y=u+d,M=f+p,S=_n(v*v+y*y+M*M),E=Ln(M/=S),A=nn(nn(M)-1)<B||nn(o-h)<B?(o+h)/2:Dn(y,v),P=n(A,E),C=P[0],I=P[1],k=C-r,x=I-i,T=w*k-m*x;(T*T/_>t||nn((m*k+w*x)/_-.5)>.3||a*s+u*d+f*p<bm)&&(e(r,i,o,a,u,f,C,I,A,v/=S,y/=S,M,b,g),g.point(C,I),e(C,I,A,v,y,M,c,l,h,s,d,p,b,g))}}return function(r){var i,o,a,u,f,c,l,h,s,d,p,b,g={point:m,lineStart:w,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=w}};function m(E,A){E=n(E,A),r.point(E[0],E[1])}function w(){h=NaN,g.point=_,r.lineStart()}function _(E,A){var P=Ut([E,A]),C=n(E,A);e(h,s,l,d,p,b,h=C[0],s=C[1],l=E,d=P[0],p=P[1],b=P[2],Qf,r),r.point(h,s)}function v(){g.point=m,r.lineEnd()}function y(){w(),g.point=M,g.lineEnd=S}function M(E,A){_(i=E,A),o=h,a=s,u=d,f=p,c=b,g.point=_}function S(){e(h,s,l,d,p,b,o,a,i,u,f,c,Qf,r),g.lineEnd=v,v()}return g}}var vm=br({point:function(n,t){this.stream.point(n*H,t*H)}});function wm(n){return br({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}function Mm(n,t,e,r,i){function o(a,u){return a*=r,u*=i,[t+n*a,e-n*u]}return o.invert=function(a,u){return[(a-t)/n*r,(e-u)/n*i]},o}function Jf(n,t,e,r,i,o){if(!o)return Mm(n,t,e,r,i);var a=q(o),u=U(o),f=a*n,c=u*n,l=a/n,h=u/n,s=(u*e-a*t)/n,d=(u*t+a*e)/n;function p(b,g){return b*=r,g*=i,[f*b-c*g+t,e-c*b-f*g]}return p.invert=function(b,g){return[r*(l*b-h*g+s),i*(d-h*b-l*g)]},p}function ft(n){return fu(function(){return n})()}function fu(n){var t,e=150,r=480,i=250,o=0,a=0,u=0,f=0,c=0,l,h=0,s=1,d=1,p=null,b=ha,g=null,m,w,_,v=ar,y=.5,M,S,E,A,P;function C(T){return E(T[0]*H,T[1]*H)}function I(T){return T=E.invert(T[0],T[1]),T&&[T[0]*on,T[1]*on]}C.stream=function(T){return A&&P===T?A:A=vm(wm(l)(b(M(v(P=T)))))},C.preclip=function(T){return arguments.length?(b=T,p=void 0,x()):b},C.postclip=function(T){return arguments.length?(v=T,g=m=w=_=null,x()):v},C.clipAngle=function(T){return arguments.length?(b=+T?hl(p=T*H):(p=null,ha),x()):p*on},C.clipExtent=function(T){return arguments.length?(v=T==null?(g=m=w=_=null,ar):Ui(g=+T[0][0],m=+T[0][1],w=+T[1][0],_=+T[1][1]),x()):g==null?null:[[g,m],[w,_]]},C.scale=function(T){return arguments.length?(e=+T,k()):e},C.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],k()):[r,i]},C.center=function(T){return arguments.length?(o=T[0]%360*H,a=T[1]%360*H,k()):[o*on,a*on]},C.rotate=function(T){return arguments.length?(u=T[0]%360*H,f=T[1]%360*H,c=T.length>2?T[2]%360*H:0,k()):[u*on,f*on,c*on]},C.angle=function(T){return arguments.length?(h=T%360*H,k()):h*on},C.reflectX=function(T){return arguments.length?(s=T?-1:1,k()):s<0},C.reflectY=function(T){return arguments.length?(d=T?-1:1,k()):d<0},C.precision=function(T){return arguments.length?(M=Kf(S,y=T*T),x()):_n(y)},C.fitExtent=function(T,$){return Fi(C,T,$)},C.fitSize=function(T,$){return ou(C,T,$)},C.fitWidth=function(T,$){return au(C,T,$)},C.fitHeight=function(T,$){return uu(C,T,$)};function k(){var T=Jf(e,0,0,s,d,h).apply(null,t(o,a)),$=Jf(e,r-T[0],i-T[1],s,d,h);return l=ru(u,f,c),S=sa(t,$),E=sa(l,S),M=Kf(S,y),x()}function x(){return A=P=null,C}return function(){return t=n.apply(this,arguments),C.invert=t.invert&&I,k()}}function cu(n){var t=0,e=Q/3,r=fu(n),i=r(t,e);return i.parallels=function(o){return arguments.length?r(t=o[0]*H,e=o[1]*H):[t*on,e*on]},i}function xm(n){var t=q(n);function e(r,i){return[r*t,U(i)/t]}return e.invert=function(r,i){return[r/t,Ln(i*t)]},e}function Al(n,t){var e=U(n),r=(e+U(t))/2;if(nn(r)<B)return xm(n);var i=1+e*(2*r-e),o=_n(i)/r;function a(u,f){var c=_n(i-2*r*U(f))/r;return[c*U(u*=r),o-c*q(u)]}return a.invert=function(u,f){var c=o-f,l=Dn(u,nn(c))*Gn(c);return c*r<0&&(l-=Q*Gn(u)*Gn(c)),[l/r,Ln((i-(u*u+c*c)*r*r)/(2*r))]},a}function Ti(){return cu(Al).scale(155.424).center([0,33.6442])}function El(){return Ti().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Sm(n){var t=n.length;return{point:function(e,r){for(var i=-1;++i<t;)n[i].point(e,r)},sphere:function(){for(var e=-1;++e<t;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<t;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<t;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<t;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<t;)n[e].polygonEnd()}}}function Tm(){var n,t,e=El(),r,i=Ti().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Ti().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,f,c={point:function(s,d){f=[s,d]}};function l(s){var d=s[0],p=s[1];return f=null,r.point(d,p),f||(o.point(d,p),f)||(u.point(d,p),f)}l.invert=function(s){var d=e.scale(),p=e.translate(),b=(s[0]-p[0])/d,g=(s[1]-p[1])/d;return(g>=.12&&g<.234&&b>=-.425&&b<-.214?i:g>=.166&&g<.234&&b>=-.214&&b<-.115?a:e).invert(s)},l.stream=function(s){return n&&t===s?n:n=Sm([e.stream(t=s),i.stream(s),a.stream(s)])},l.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),a.precision(s),h()):e.precision()},l.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*.35),a.scale(s),l.translate(e.translate())):e.scale()},l.translate=function(s){if(!arguments.length)return e.translate();var d=e.scale(),p=+s[0],b=+s[1];return r=e.translate(s).clipExtent([[p-.455*d,b-.238*d],[p+.455*d,b+.238*d]]).stream(c),o=i.translate([p-.307*d,b+.201*d]).clipExtent([[p-.425*d+B,b+.12*d+B],[p-.214*d-B,b+.234*d-B]]).stream(c),u=a.translate([p-.205*d,b+.212*d]).clipExtent([[p-.214*d+B,b+.166*d+B],[p-.115*d-B,b+.234*d-B]]).stream(c),h()},l.fitExtent=function(s,d){return Fi(l,s,d)},l.fitSize=function(s,d){return ou(l,s,d)},l.fitWidth=function(s,d){return au(l,s,d)},l.fitHeight=function(s,d){return uu(l,s,d)};function h(){return n=t=null,l}return l.scale(1070)}function Pl(n){return function(t,e){var r=q(t),i=q(e),o=n(r*i);return o===1/0?[2,0]:[o*i*U(t),o*U(e)]}}function yr(n){return function(t,e){var r=_n(t*t+e*e),i=n(r),o=U(i),a=q(i);return[Dn(t*o,r*a),Ln(r&&e*o/r)]}}var su=Pl(function(n){return _n(2/(1+n))});su.invert=yr(function(n){return 2*Ln(n/2)});function $m(){return ft(su).scale(124.75).clipAngle(180-.001)}var lu=Pl(function(n){return(n=Vs(n))&&n/U(n)});lu.invert=yr(function(n){return n});function Am(){return ft(lu).scale(79.4188).clipAngle(180-.001)}function _r(n,t){return[n,ii(tu((gn+t)/2))]}_r.invert=function(n,t){return[n,2*$e(js(t))-gn]};function Em(){return Cl(_r).scale(961/zn)}function Cl(n){var t=ft(n),e=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,u,f,c;t.scale=function(h){return arguments.length?(r(h),l()):r()},t.translate=function(h){return arguments.length?(i(h),l()):i()},t.center=function(h){return arguments.length?(e(h),l()):e()},t.clipExtent=function(h){return arguments.length?(h==null?a=u=f=c=null:(a=+h[0][0],u=+h[0][1],f=+h[1][0],c=+h[1][1]),l()):a==null?null:[[a,u],[f,c]]};function l(){var h=Q*r(),s=t(al(t.rotate()).invert([0,0]));return o(a==null?[[s[0]-h,s[1]-h],[s[0]+h,s[1]+h]]:n===_r?[[Math.max(s[0]-h,a),u],[Math.min(s[0]+h,f),c]]:[[a,Math.max(s[1]-h,u)],[f,Math.min(s[1]+h,c)]])}return l()}function Rr(n){return tu((gn+n)/2)}function kl(n,t){var e=q(n),r=n===t?U(n):ii(e/q(t))/ii(Rr(t)/Rr(n)),i=e*xo(Rr(n),r)/r;if(!r)return _r;function o(a,u){i>0?u<-gn+B&&(u=-gn+B):u>gn-B&&(u=gn-B);var f=i/xo(Rr(u),r);return[f*U(r*a),i-f*q(r*a)]}return o.invert=function(a,u){var f=i-u,c=Gn(r)*_n(a*a+f*f),l=Dn(a,nn(f))*Gn(f);return f*r<0&&(l-=Q*Gn(a)*Gn(f)),[l/r,2*$e(xo(i/c,1/r))-gn]},o}function Pm(){return cu(kl).scale(109.5).parallels([30,30])}function cr(n,t){return[n,t]}cr.invert=cr;function Cm(){return ft(cr).scale(152.63)}function Rl(n,t){var e=q(n),r=n===t?U(n):(e-q(t))/(t-n),i=e/r+n;if(nn(r)<B)return cr;function o(a,u){var f=i-u,c=r*a;return[f*U(c),i-f*q(c)]}return o.invert=function(a,u){var f=i-u,c=Dn(a,nn(f))*Gn(f);return f*r<0&&(c-=Q*Gn(a)*Gn(f)),[c/r,i-Gn(r)*_n(a*a+f*f)]},o}function km(){return cu(Rl).scale(131.154).center([0,13.9389])}var Ve=1.340264,Ze=-.081106,Qe=893e-6,Ke=.003796,$i=_n(3)/2,Rm=12;function hu(n,t){var e=Ln($i*U(t)),r=e*e,i=r*r*r;return[n*q(e)/($i*(Ve+3*Ze*r+i*(7*Qe+9*Ke*r))),e*(Ve+Ze*r+i*(Qe+Ke*r))]}hu.invert=function(n,t){for(var e=t,r=e*e,i=r*r*r,o=0,a,u,f;o<Rm&&(u=e*(Ve+Ze*r+i*(Qe+Ke*r))-t,f=Ve+3*Ze*r+i*(7*Qe+9*Ke*r),e-=a=u/f,r=e*e,i=r*r*r,!(nn(a)<or));++o);return[$i*n*(Ve+3*Ze*r+i*(7*Qe+9*Ke*r))/q(e),Ln(U(e)/$i)]};function Nm(){return ft(hu).scale(177.158)}function du(n,t){var e=q(t),r=q(n)*e;return[e*U(n)/r,U(t)/r]}du.invert=yr($e);function Im(){return ft(du).scale(144.049).clipAngle(60)}function zm(){var n=1,t=0,e=0,r=1,i=1,o=0,a,u,f=null,c,l,h,s=1,d=1,p=br({point:function(v,y){var M=_([v,y]);this.stream.point(M[0],M[1])}}),b=ar,g,m;function w(){return s=n*r,d=n*i,g=m=null,_}function _(v){var y=v[0]*s,M=v[1]*d;if(o){var S=M*a-y*u;y=y*a+M*u,M=S}return[y+t,M+e]}return _.invert=function(v){var y=v[0]-t,M=v[1]-e;if(o){var S=M*a+y*u;y=y*a-M*u,M=S}return[y/s,M/d]},_.stream=function(v){return g&&m===v?g:g=p(b(m=v))},_.postclip=function(v){return arguments.length?(b=v,f=c=l=h=null,w()):b},_.clipExtent=function(v){return arguments.length?(b=v==null?(f=c=l=h=null,ar):Ui(f=+v[0][0],c=+v[0][1],l=+v[1][0],h=+v[1][1]),w()):f==null?null:[[f,c],[l,h]]},_.scale=function(v){return arguments.length?(n=+v,w()):n},_.translate=function(v){return arguments.length?(t=+v[0],e=+v[1],w()):[t,e]},_.angle=function(v){return arguments.length?(o=v%360*H,u=U(o),a=q(o),w()):o*on},_.reflectX=function(v){return arguments.length?(r=v?-1:1,w()):r<0},_.reflectY=function(v){return arguments.length?(i=v?-1:1,w()):i<0},_.fitExtent=function(v,y){return Fi(_,v,y)},_.fitSize=function(v,y){return ou(_,v,y)},_.fitWidth=function(v,y){return au(_,v,y)},_.fitHeight=function(v,y){return uu(_,v,y)},_}function gu(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(-.013791+r*(.003971*e-.001529*r))),t*(1.007226+e*(.015085+r*(-.044475+.028874*e-.005916*r)))]}gu.invert=function(n,t){var e=t,r=25,i;do{var o=e*e,a=o*o;e-=i=(e*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-t)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(nn(i)>B&&--r>0);return[n/(.8707+(o=e*e)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),e]};function Dm(){return ft(gu).scale(175.295)}function pu(n,t){return[q(t)*U(n),U(t)]}pu.invert=yr(Ln);function Lm(){return ft(pu).scale(249.5).clipAngle(90+B)}function mu(n,t){var e=q(t),r=1+q(n)*e;return[e*U(n)/r,U(t)/r]}mu.invert=yr(function(n){return 2*$e(n)});function Om(){return ft(mu).scale(250).clipAngle(142)}function bu(n,t){return[ii(tu((gn+t)/2)),-n]}bu.invert=function(n,t){return[-t,2*$e(js(n))-gn]};function Ym(){var n=Cl(bu),t=n.center,e=n.rotate;return n.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},n.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function Um(n,t){return n.parent===t.parent?1:2}function Fm(n){return n.reduce(qm,0)/n.length}function qm(n,t){return n+t.x}function Bm(n){return 1+n.reduce(Hm,0)}function Hm(n,t){return Math.max(n,t.y)}function Wm(n){for(var t;t=n.children;)n=t[0];return n}function Gm(n){for(var t;t=n.children;)n=t[t.length-1];return n}function Xm(){var n=Um,t=1,e=1,r=!1;function i(o){var a,u=0;o.eachAfter(function(s){var d=s.children;d?(s.x=Fm(d),s.y=Bm(d)):(s.x=a?u+=n(s,a):0,s.y=0,a=s)});var f=Wm(o),c=Gm(o),l=f.x-n(f,c)/2,h=c.x+n(c,f)/2;return o.eachAfter(r?function(s){s.x=(s.x-o.x)*t,s.y=(o.y-s.y)*e}:function(s){s.x=(s.x-l)/(h-l)*t,s.y=(1-(o.y?s.y/o.y:1))*e})}return i.separation=function(o){return arguments.length?(n=o,i):n},i.size=function(o){return arguments.length?(r=!1,t=+o[0],e=+o[1],i):r?null:[t,e]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],e=+o[1],i):r?[t,e]:null},i}function jm(n){var t=0,e=n.children,r=e&&e.length;if(!r)t=1;else for(;--r>=0;)t+=e[r].value;n.value=t}function Vm(){return this.eachAfter(jm)}function Zm(n,t){let e=-1;for(const r of this)n.call(t,r,++e,this);return this}function Qm(n,t){for(var e=this,r=[e],i,o,a=-1;e=r.pop();)if(n.call(t,e,++a,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Km(n,t){for(var e=this,r=[e],i=[],o,a,u,f=-1;e=r.pop();)if(i.push(e),o=e.children)for(a=0,u=o.length;a<u;++a)r.push(o[a]);for(;e=i.pop();)n.call(t,e,++f,this);return this}function Jm(n,t){let e=-1;for(const r of this)if(n.call(t,r,++e,this))return r}function nb(n){return this.eachAfter(function(t){for(var e=+n(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)e+=r[i].value;t.value=e})}function tb(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})}function eb(n){for(var t=this,e=rb(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var i=r.length;n!==e;)r.splice(i,0,n),n=n.parent;return r}function rb(n,t){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),i=null;for(n=e.pop(),t=r.pop();n===t;)i=n,n=e.pop(),t=r.pop();return i}function ib(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t}function ob(){return Array.from(this)}function ab(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n}function ub(){var n=this,t=[];return n.each(function(e){e!==n&&t.push({source:e.parent,target:e})}),t}function*fb(){var n=this,t,e=[n],r,i,o;do for(t=e.reverse(),e=[];n=t.pop();)if(yield n,r=n.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function yu(n,t){n instanceof Map?(n=[void 0,n],t===void 0&&(t=lb)):t===void 0&&(t=sb);for(var e=new qt(n),r,i=[e],o,a,u,f;r=i.pop();)if((a=t(r.data))&&(f=(a=Array.from(a)).length))for(r.children=a,u=f-1;u>=0;--u)i.push(o=a[u]=new qt(a[u])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(Nl)}function cb(){return yu(this).eachBefore(hb)}function sb(n){return n.children}function lb(n){return Array.isArray(n)?n[1]:null}function hb(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function Nl(n){var t=0;do n.height=t;while((n=n.parent)&&n.height<++t)}function qt(n){this.data=n,this.depth=this.height=0,this.parent=null}qt.prototype=yu.prototype={constructor:qt,count:Vm,each:Zm,eachAfter:Km,eachBefore:Qm,find:Jm,sum:nb,sort:tb,path:eb,ancestors:ib,descendants:ob,leaves:ab,links:ub,copy:cb,[Symbol.iterator]:fb};function Xr(n){return n==null?null:Il(n)}function Il(n){if(typeof n!="function")throw new Error;return n}function zt(){return 0}function oe(n){return function(){return n}}const db=1664525,gb=1013904223,nc=4294967296;function _u(){let n=1;return()=>(n=(db*n+gb)%nc)/nc}function pb(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function mb(n,t){let e=n.length,r,i;for(;e;)i=t()*e--|0,r=n[e],n[e]=n[i],n[i]=r;return n}function bb(n){return zl(n,_u())}function zl(n,t){for(var e=0,r=(n=mb(Array.from(n),t)).length,i=[],o,a;e<r;)o=n[e],a&&Dl(a,o)?++e:(a=_b(i=yb(i,o)),e=0);return a}function yb(n,t){var e,r;if(Eo(t,n))return[t];for(e=0;e<n.length;++e)if(Nr(t,n[e])&&Eo(Be(n[e],t),n))return[n[e],t];for(e=0;e<n.length-1;++e)for(r=e+1;r<n.length;++r)if(Nr(Be(n[e],n[r]),t)&&Nr(Be(n[e],t),n[r])&&Nr(Be(n[r],t),n[e])&&Eo(Ll(n[e],n[r],t),n))return[n[e],n[r],t];throw new Error}function Nr(n,t){var e=n.r-t.r,r=t.x-n.x,i=t.y-n.y;return e<0||e*e<r*r+i*i}function Dl(n,t){var e=n.r-t.r+Math.max(n.r,t.r,1)*1e-9,r=t.x-n.x,i=t.y-n.y;return e>0&&e*e>r*r+i*i}function Eo(n,t){for(var e=0;e<t.length;++e)if(!Dl(n,t[e]))return!1;return!0}function _b(n){switch(n.length){case 1:return vb(n[0]);case 2:return Be(n[0],n[1]);case 3:return Ll(n[0],n[1],n[2])}}function vb(n){return{x:n.x,y:n.y,r:n.r}}function Be(n,t){var e=n.x,r=n.y,i=n.r,o=t.x,a=t.y,u=t.r,f=o-e,c=a-r,l=u-i,h=Math.sqrt(f*f+c*c);return{x:(e+o+f/h*l)/2,y:(r+a+c/h*l)/2,r:(h+i+u)/2}}function Ll(n,t,e){var r=n.x,i=n.y,o=n.r,a=t.x,u=t.y,f=t.r,c=e.x,l=e.y,h=e.r,s=r-a,d=r-c,p=i-u,b=i-l,g=f-o,m=h-o,w=r*r+i*i-o*o,_=w-a*a-u*u+f*f,v=w-c*c-l*l+h*h,y=d*p-s*b,M=(p*v-b*_)/(y*2)-r,S=(b*g-p*m)/y,E=(d*_-s*v)/(y*2)-i,A=(s*m-d*g)/y,P=S*S+A*A-1,C=2*(o+M*S+E*A),I=M*M+E*E-o*o,k=-(Math.abs(P)>1e-6?(C+Math.sqrt(C*C-4*P*I))/(2*P):I/C);return{x:r+M+S*k,y:i+E+A*k,r:k}}function tc(n,t,e){var r=n.x-t.x,i,o,a=n.y-t.y,u,f,c=r*r+a*a;c?(o=t.r+e.r,o*=o,f=n.r+e.r,f*=f,o>f?(i=(c+f-o)/(2*c),u=Math.sqrt(Math.max(0,f/c-i*i)),e.x=n.x-i*r-u*a,e.y=n.y-i*a+u*r):(i=(c+o-f)/(2*c),u=Math.sqrt(Math.max(0,o/c-i*i)),e.x=t.x+i*r-u*a,e.y=t.y+i*a+u*r)):(e.x=t.x+e.r,e.y=t.y)}function ec(n,t){var e=n.r+t.r-1e-6,r=t.x-n.x,i=t.y-n.y;return e>0&&e*e>r*r+i*i}function rc(n){var t=n._,e=n.next._,r=t.r+e.r,i=(t.x*e.r+e.x*t.r)/r,o=(t.y*e.r+e.y*t.r)/r;return i*i+o*o}function Ir(n){this._=n,this.next=null,this.previous=null}function Ol(n,t){if(!(o=(n=pb(n)).length))return 0;var e,r,i,o,a,u,f,c,l,h,s;if(e=n[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=n[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;tc(r,e,i=n[2]),e=new Ir(e),r=new Ir(r),i=new Ir(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;n:for(f=3;f<o;++f){tc(e._,r._,i=n[f]),i=new Ir(i),c=r.next,l=e.previous,h=r._.r,s=e._.r;do if(h<=s){if(ec(c._,i._)){r=c,e.next=r,r.previous=e,--f;continue n}h+=c._.r,c=c.next}else{if(ec(l._,i._)){e=l,e.next=r,r.previous=e,--f;continue n}s+=l._.r,l=l.previous}while(c!==l.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,a=rc(e);(i=i.next)!==r;)(u=rc(i))<a&&(e=i,a=u);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=zl(e,t),f=0;f<o;++f)e=n[f],e.x-=i.x,e.y-=i.y;return i.r}function wb(n){return Ol(n,_u()),n}function Mb(n){return Math.sqrt(n.value)}function xb(){var n=null,t=1,e=1,r=zt;function i(o){const a=_u();return o.x=t/2,o.y=e/2,n?o.eachBefore(ic(n)).eachAfter(Po(r,.5,a)).eachBefore(oc(1)):o.eachBefore(ic(Mb)).eachAfter(Po(zt,1,a)).eachAfter(Po(r,o.r/Math.min(t,e),a)).eachBefore(oc(Math.min(t,e)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(n=Xr(o),i):n},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:oe(+o),i):r},i}function ic(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function Po(n,t,e){return function(r){if(i=r.children){var i,o,a=i.length,u=n(r)*t||0,f;if(u)for(o=0;o<a;++o)i[o].r+=u;if(f=Ol(i,e),u)for(o=0;o<a;++o)i[o].r-=u;r.r=f+u}}}function oc(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function Yl(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function vr(n,t,e,r,i){for(var o=n.children,a,u=-1,f=o.length,c=n.value&&(r-t)/n.value;++u<f;)a=o[u],a.y0=e,a.y1=i,a.x0=t,a.x1=t+=a.value*c}function Sb(){var n=1,t=1,e=0,r=!1;function i(a){var u=a.height+1;return a.x0=a.y0=e,a.x1=n,a.y1=t/u,a.eachBefore(o(t,u)),r&&a.eachBefore(Yl),a}function o(a,u){return function(f){f.children&&vr(f,f.x0,a*(f.depth+1)/u,f.x1,a*(f.depth+2)/u);var c=f.x0,l=f.y0,h=f.x1-e,s=f.y1-e;h<c&&(c=h=(c+h)/2),s<l&&(l=s=(l+s)/2),f.x0=c,f.y0=l,f.x1=h,f.y1=s}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(n=+a[0],t=+a[1],i):[n,t]},i.padding=function(a){return arguments.length?(e=+a,i):e},i}var Tb={depth:-1},ac={},Co={};function $b(n){return n.id}function Ab(n){return n.parentId}function Eb(){var n=$b,t=Ab,e;function r(i){var o=Array.from(i),a=n,u=t,f,c,l,h,s,d,p,b,g=new Map;if(e!=null){const m=o.map((v,y)=>Pb(e(v,y,i))),w=m.map(uc),_=new Set(m).add("");for(const v of w)_.has(v)||(_.add(v),m.push(v),w.push(uc(v)),o.push(Co));a=(v,y)=>m[y],u=(v,y)=>w[y]}for(l=0,f=o.length;l<f;++l)c=o[l],d=o[l]=new qt(c),(p=a(c,l,i))!=null&&(p+="")&&(b=d.id=p,g.set(b,g.has(b)?ac:d)),(p=u(c,l,i))!=null&&(p+="")&&(d.parent=p);for(l=0;l<f;++l)if(d=o[l],p=d.parent){if(s=g.get(p),!s)throw new Error("missing: "+p);if(s===ac)throw new Error("ambiguous: "+p);s.children?s.children.push(d):s.children=[d],d.parent=s}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(e!=null){for(;h.data===Co&&h.children.length===1;)h=h.children[0],--f;for(let m=o.length-1;m>=0&&(d=o[m],d.data===Co);--m)d.data=null}if(h.parent=Tb,h.eachBefore(function(m){m.depth=m.parent.depth+1,--f}).eachBefore(Nl),h.parent=null,f>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(n=Xr(i),r):n},r.parentId=function(i){return arguments.length?(t=Xr(i),r):t},r.path=function(i){return arguments.length?(e=Xr(i),r):e},r}function Pb(n){n=`${n}`;let t=n.length;return Ta(n,t-1)&&!Ta(n,t-2)&&(n=n.slice(0,-1)),n[0]==="/"?n:`/${n}`}function uc(n){let t=n.length;if(t<2)return"";for(;--t>1&&!Ta(n,t););return n.slice(0,t)}function Ta(n,t){if(n[t]==="/"){let e=0;for(;t>0&&n[--t]==="\\";)++e;if(!(e&1))return!0}return!1}function Cb(n,t){return n.parent===t.parent?1:2}function ko(n){var t=n.children;return t?t[0]:n.t}function Ro(n){var t=n.children;return t?t[t.length-1]:n.t}function kb(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Rb(n){for(var t=0,e=0,r=n.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(e+=o.c)}function Nb(n,t,e){return n.a.parent===t.parent?n.a:e}function jr(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}jr.prototype=Object.create(qt.prototype);function Ib(n){for(var t=new jr(n,0),e,r=[t],i,o,a,u;e=r.pop();)if(o=e._.children)for(e.children=new Array(u=o.length),a=u-1;a>=0;--a)r.push(i=e.children[a]=new jr(o[a],a)),i.parent=e;return(t.parent=new jr(null,0)).children=[t],t}function zb(){var n=Cb,t=1,e=1,r=null;function i(c){var l=Ib(c);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)c.eachBefore(f);else{var h=c,s=c,d=c;c.eachBefore(function(w){w.x<h.x&&(h=w),w.x>s.x&&(s=w),w.depth>d.depth&&(d=w)});var p=h===s?1:n(h,s)/2,b=p-h.x,g=t/(s.x+p+b),m=e/(d.depth||1);c.eachBefore(function(w){w.x=(w.x+b)*g,w.y=w.depth*m})}return c}function o(c){var l=c.children,h=c.parent.children,s=c.i?h[c.i-1]:null;if(l){Rb(c);var d=(l[0].z+l[l.length-1].z)/2;s?(c.z=s.z+n(c._,s._),c.m=c.z-d):c.z=d}else s&&(c.z=s.z+n(c._,s._));c.parent.A=u(c,s,c.parent.A||h[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function u(c,l,h){if(l){for(var s=c,d=c,p=l,b=s.parent.children[0],g=s.m,m=d.m,w=p.m,_=b.m,v;p=Ro(p),s=ko(s),p&&s;)b=ko(b),d=Ro(d),d.a=c,v=p.z+w-s.z-g+n(p._,s._),v>0&&(kb(Nb(p,c,h),c,v),g+=v,m+=v),w+=p.m,g+=s.m,_+=b.m,m+=d.m;p&&!Ro(d)&&(d.t=p,d.m+=w-m),s&&!ko(b)&&(b.t=s,b.m+=g-_,h=c)}return h}function f(c){c.x*=t,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(n=c,i):n},i.size=function(c){return arguments.length?(r=!1,t=+c[0],e=+c[1],i):r?null:[t,e]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],e=+c[1],i):r?[t,e]:null},i}function qi(n,t,e,r,i){for(var o=n.children,a,u=-1,f=o.length,c=n.value&&(i-e)/n.value;++u<f;)a=o[u],a.x0=t,a.x1=r,a.y0=e,a.y1=e+=a.value*c}var Ul=(1+Math.sqrt(5))/2;function Fl(n,t,e,r,i,o){for(var a=[],u=t.children,f,c,l=0,h=0,s=u.length,d,p,b=t.value,g,m,w,_,v,y,M;l<s;){d=i-e,p=o-r;do g=u[h++].value;while(!g&&h<s);for(m=w=g,y=Math.max(p/d,d/p)/(b*n),M=g*g*y,v=Math.max(w/M,M/m);h<s;++h){if(g+=c=u[h].value,c<m&&(m=c),c>w&&(w=c),M=g*g*y,_=Math.max(w/M,M/m),_>v){g-=c;break}v=_}a.push(f={value:g,dice:d<p,children:u.slice(l,h)}),f.dice?vr(f,e,r,i,b?r+=p*g/b:o):qi(f,e,r,b?e+=d*g/b:i,o),b-=g,l=h}return a}const ql=function n(t){function e(r,i,o,a,u){Fl(t,r,i,o,a,u)}return e.ratio=function(r){return n((r=+r)>1?r:1)},e}(Ul);function Db(){var n=ql,t=!1,e=1,r=1,i=[0],o=zt,a=zt,u=zt,f=zt,c=zt;function l(s){return s.x0=s.y0=0,s.x1=e,s.y1=r,s.eachBefore(h),i=[0],t&&s.eachBefore(Yl),s}function h(s){var d=i[s.depth],p=s.x0+d,b=s.y0+d,g=s.x1-d,m=s.y1-d;g<p&&(p=g=(p+g)/2),m<b&&(b=m=(b+m)/2),s.x0=p,s.y0=b,s.x1=g,s.y1=m,s.children&&(d=i[s.depth+1]=o(s)/2,p+=c(s)-d,b+=a(s)-d,g-=u(s)-d,m-=f(s)-d,g<p&&(p=g=(p+g)/2),m<b&&(b=m=(b+m)/2),n(s,p,b,g,m))}return l.round=function(s){return arguments.length?(t=!!s,l):t},l.size=function(s){return arguments.length?(e=+s[0],r=+s[1],l):[e,r]},l.tile=function(s){return arguments.length?(n=Il(s),l):n},l.padding=function(s){return arguments.length?l.paddingInner(s).paddingOuter(s):l.paddingInner()},l.paddingInner=function(s){return arguments.length?(o=typeof s=="function"?s:oe(+s),l):o},l.paddingOuter=function(s){return arguments.length?l.paddingTop(s).paddingRight(s).paddingBottom(s).paddingLeft(s):l.paddingTop()},l.paddingTop=function(s){return arguments.length?(a=typeof s=="function"?s:oe(+s),l):a},l.paddingRight=function(s){return arguments.length?(u=typeof s=="function"?s:oe(+s),l):u},l.paddingBottom=function(s){return arguments.length?(f=typeof s=="function"?s:oe(+s),l):f},l.paddingLeft=function(s){return arguments.length?(c=typeof s=="function"?s:oe(+s),l):c},l}function Lb(n,t,e,r,i){var o=n.children,a,u=o.length,f,c=new Array(u+1);for(c[0]=f=a=0;a<u;++a)c[a+1]=f+=o[a].value;l(0,u,n.value,t,e,r,i);function l(h,s,d,p,b,g,m){if(h>=s-1){var w=o[h];w.x0=p,w.y0=b,w.x1=g,w.y1=m;return}for(var _=c[h],v=d/2+_,y=h+1,M=s-1;y<M;){var S=y+M>>>1;c[S]<v?y=S+1:M=S}v-c[y-1]<c[y]-v&&h+1<y&&--y;var E=c[y]-_,A=d-E;if(g-p>m-b){var P=d?(p*A+g*E)/d:g;l(h,y,E,p,b,P,m),l(y,s,A,P,b,g,m)}else{var C=d?(b*A+m*E)/d:m;l(h,y,E,p,b,g,C),l(y,s,A,p,C,g,m)}}}function Ob(n,t,e,r,i){(n.depth&1?qi:vr)(n,t,e,r,i)}const Yb=function n(t){function e(r,i,o,a,u){if((f=r._squarify)&&f.ratio===t)for(var f,c,l,h,s=-1,d,p=f.length,b=r.value;++s<p;){for(c=f[s],l=c.children,h=c.value=0,d=l.length;h<d;++h)c.value+=l[h].value;c.dice?vr(c,i,o,a,b?o+=(u-o)*c.value/b:u):qi(c,i,o,b?i+=(a-i)*c.value/b:a,u),b-=c.value}else r._squarify=f=Fl(t,r,i,o,a,u),f.ratio=t}return e.ratio=function(r){return n((r=+r)>1?r:1)},e}(Ul);function Ub(n){for(var t=-1,e=n.length,r,i=n[e-1],o=0;++t<e;)r=i,i=n[t],o+=r[1]*i[0]-r[0]*i[1];return o/2}function Fb(n){for(var t=-1,e=n.length,r=0,i=0,o,a=n[e-1],u,f=0;++t<e;)o=a,a=n[t],f+=u=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*u,i+=(o[1]+a[1])*u;return f*=3,[r/f,i/f]}function qb(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function Bb(n,t){return n[0]-t[0]||n[1]-t[1]}function fc(n){const t=n.length,e=[0,1];let r=2,i;for(i=2;i<t;++i){for(;r>1&&qb(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Hb(n){if((e=n.length)<3)return null;var t,e,r=new Array(e),i=new Array(e);for(t=0;t<e;++t)r[t]=[+n[t][0],+n[t][1],t];for(r.sort(Bb),t=0;t<e;++t)i[t]=[r[t][0],-r[t][1]];var o=fc(r),a=fc(i),u=a[0]===o[0],f=a[a.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(n[r[o[t]][2]]);for(t=+u;t<a.length-f;++t)c.push(n[r[a[t]][2]]);return c}function Wb(n,t){for(var e=n.length,r=n[e-1],i=t[0],o=t[1],a=r[0],u=r[1],f,c,l=!1,h=0;h<e;++h)r=n[h],f=r[0],c=r[1],c>o!=u>o&&i<(a-f)*(o-c)/(u-c)+f&&(l=!l),a=f,u=c;return l}function Gb(n){for(var t=-1,e=n.length,r=n[e-1],i,o,a=r[0],u=r[1],f=0;++t<e;)i=a,o=u,r=n[t],a=r[0],u=r[1],i-=a,o-=u,f+=Math.hypot(i,o);return f}const wn=Math.random,Xb=function n(t){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return e.source=n,e}(wn),jb=function n(t){function e(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return e.source=n,e}(wn),vu=function n(t){function e(r,i){var o,a;return r=r==null?0:+r,i=i==null?1:+i,function(){var u;if(o!=null)u=o,o=null;else do o=t()*2-1,u=t()*2-1,a=o*o+u*u;while(!a||a>1);return r+i*u*Math.sqrt(-2*Math.log(a)/a)}}return e.source=n,e}(wn),Vb=function n(t){var e=vu.source(t);function r(){var i=e.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=n,r}(wn),Bl=function n(t){function e(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=t();return i+o*t()}}return e.source=n,e}(wn),Zb=function n(t){var e=Bl.source(t);function r(i){if((i=+i)==0)return t;var o=e(i);return function(){return o()/i}}return r.source=n,r}(wn),Qb=function n(t){function e(r){return function(){return-Math.log1p(-t())/r}}return e.source=n,e}(wn),Kb=function n(t){function e(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return e.source=n,e}(wn),Jb=function n(t){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return e.source=n,e}(wn),Hl=function n(t){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return e.source=n,e}(wn),wu=function n(t){var e=vu.source(t)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-t())*o;var a=(i<1?i+1:i)-1/3,u=1/(3*Math.sqrt(a)),f=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var c=e(),l=1+u*c;while(l<=0);l*=l*l;var h=1-t()}while(h>=1-.0331*c*c*c*c&&Math.log(h)>=.5*c*c+a*(1-l+Math.log(l)));return a*l*f()*o}}return r.source=n,r}(wn),Wl=function n(t){var e=wu.source(t);function r(i,o){var a=e(i),u=e(o);return function(){var f=a();return f===0?0:f/(f+u())}}return r.source=n,r}(wn),Gl=function n(t){var e=Hl.source(t),r=Wl.source(t);function i(o,a){return o=+o,(a=+a)>=1?()=>o:a<=0?()=>0:function(){for(var u=0,f=o,c=a;f*c>16&&f*(1-c)>16;){var l=Math.floor((f+1)*c),h=r(l,f-l+1)();h<=c?(u+=l,f-=l,c=(c-h)/(1-h)):(f=l-1,c/=h)}for(var s=c<.5,d=s?c:1-c,p=e(d),b=p(),g=0;b<=f;++g)b+=p();return u+(s?g:f-g)}}return i.source=n,i}(wn),ny=function n(t){function e(r,i,o){var a;return(r=+r)==0?a=u=>-Math.log(u):(r=1/r,a=u=>Math.pow(u,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*a(-Math.log1p(-t()))}}return e.source=n,e}(wn),ty=function n(t){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*t())}}return e.source=n,e}(wn),ey=function n(t){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=t();return r+i*Math.log(o/(1-o))}}return e.source=n,e}(wn),ry=function n(t){var e=wu.source(t),r=Gl.source(t);function i(o){return function(){for(var a=0,u=o;u>16;){var f=Math.floor(.875*u),c=e(f)();if(c>u)return a+r(f-1,u/c)();a+=f,u-=c}for(var l=-Math.log1p(-t()),h=0;l<=u;++h)l-=Math.log1p(-t());return a+h}}return i.source=n,i}(wn),iy=1664525,oy=1013904223,cc=1/4294967296;function ay(n=Math.random()){let t=(0<=n&&n<1?n/cc:Math.abs(n))|0;return()=>(t=iy*t+oy|0,cc*(t>>>0))}const $a=Symbol("implicit");function Mu(){var n=new Je,t=[],e=[],r=$a;function i(o){let a=n.get(o);if(a===void 0){if(r!==$a)return r;n.set(o,a=t.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new Je;for(const a of o)n.has(a)||n.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Mu(t,e).unknown(r)},ut.apply(i,arguments),i}function xu(){var n=Mu().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,o,a,u=!1,f=0,c=0,l=.5;delete n.unknown;function h(){var s=t().length,d=i<r,p=d?i:r,b=d?r:i;o=(b-p)/Math.max(1,s-f+c*2),u&&(o=Math.floor(o)),p+=(b-p-o*(s-f))*l,a=o*(1-f),u&&(p=Math.round(p),a=Math.round(a));var g=$t(s).map(function(m){return p+o*m});return e(d?g.reverse():g)}return n.domain=function(s){return arguments.length?(t(s),h()):t()},n.range=function(s){return arguments.length?([r,i]=s,r=+r,i=+i,h()):[r,i]},n.rangeRound=function(s){return[r,i]=s,r=+r,i=+i,u=!0,h()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(s){return arguments.length?(u=!!s,h()):u},n.padding=function(s){return arguments.length?(f=Math.min(1,c=+s),h()):f},n.paddingInner=function(s){return arguments.length?(f=Math.min(1,s),h()):f},n.paddingOuter=function(s){return arguments.length?(c=+s,h()):c},n.align=function(s){return arguments.length?(l=Math.max(0,Math.min(1,s)),h()):l},n.copy=function(){return xu(t(),[r,i]).round(u).paddingInner(f).paddingOuter(c).align(l)},ut.apply(h(),arguments)}function Xl(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Xl(t())},n}function uy(){return Xl(xu.apply(null,arguments).paddingInner(1))}function jl(n){var t;function e(r){return r==null||isNaN(r=+r)?t:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(n=Array.from(r,Bo),e):n.slice()},e.unknown=function(r){return arguments.length?(t=r,e):t},e.copy=function(){return jl(n).unknown(t)},n=arguments.length?Array.from(n,Bo):[0,1],Se(e)}function Vl(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],o=n[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),n[e]=t.floor(i),n[r]=t.ceil(o),n}function sc(n){return Math.log(n)}function lc(n){return Math.exp(n)}function fy(n){return-Math.log(-n)}function cy(n){return-Math.exp(-n)}function sy(n){return isFinite(n)?+("1e"+n):n<0?0:n}function ly(n){return n===10?sy:n===Math.E?Math.exp:t=>Math.pow(n,t)}function hy(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function hc(n){return(t,e)=>-n(-t,e)}function Su(n){const t=n(sc,lc),e=t.domain;let r=10,i,o;function a(){return i=hy(r),o=ly(r),e()[0]<0?(i=hc(i),o=hc(o),n(fy,cy)):n(sc,lc),t}return t.base=function(u){return arguments.length?(r=+u,a()):r},t.domain=function(u){return arguments.length?(e(u),a()):e()},t.ticks=u=>{const f=e();let c=f[0],l=f[f.length-1];const h=l<c;h&&([c,l]=[l,c]);let s=i(c),d=i(l),p,b;const g=u==null?10:+u;let m=[];if(!(r%1)&&d-s<g){if(s=Math.floor(s),d=Math.ceil(d),c>0){for(;s<=d;++s)for(p=1;p<r;++p)if(b=s<0?p/o(-s):p*o(s),!(b<c)){if(b>l)break;m.push(b)}}else for(;s<=d;++s)for(p=r-1;p>=1;--p)if(b=s>0?p/o(-s):p*o(s),!(b<c)){if(b>l)break;m.push(b)}m.length*2<g&&(m=he(c,l,g))}else m=he(s,d,Math.min(d-s,g)).map(o);return h?m.reverse():m},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Gc(f)).precision==null&&(f.trim=!0),f=Da(f)),u===1/0)return f;const c=Math.max(1,r*u/t.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=c?f(l):""}},t.nice=()=>e(Vl(e(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function Zl(){const n=Su(Wc()).domain([1,10]);return n.copy=()=>za(n,Zl()).base(n.base()),ut.apply(n,arguments),n}function dc(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function gc(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function Tu(n){var t=1,e=n(dc(t),gc(t));return e.constant=function(r){return arguments.length?n(dc(t=+r),gc(t)):t},Se(e)}function Ql(){var n=Tu(Wc());return n.copy=function(){return za(n,Ql()).constant(n.constant())},ut.apply(n,arguments)}function pc(n){return Math.sign(n)*n*n}function dy(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function Kl(){var n=Xc(),t=[0,1],e=!1,r;function i(o){var a=dy(n(o));return isNaN(a)?r:e?Math.round(a):a}return i.invert=function(o){return n.invert(pc(o))},i.domain=function(o){return arguments.length?(n.domain(o),i):n.domain()},i.range=function(o){return arguments.length?(n.range((t=Array.from(o,Bo)).map(pc)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(e=!!o,i):e},i.clamp=function(o){return arguments.length?(n.clamp(o),i):n.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Kl(n.domain(),t).round(e).clamp(n.clamp()).unknown(r)},ut.apply(i,arguments),Se(i)}function Jl(){var n=[],t=[],e=[],r;function i(){var a=0,u=Math.max(1,t.length);for(e=new Array(u-1);++a<u;)e[a-1]=gs(n,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:t[xe(e,a)]}return o.invertExtent=function(a){var u=t.indexOf(a);return u<0?[NaN,NaN]:[u>0?e[u-1]:n[0],u<e.length?e[u]:n[n.length-1]]},o.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let u of a)u!=null&&!isNaN(u=+u)&&n.push(u);return n.sort(bn),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return Jl().domain(n).range(t).unknown(r)},ut.apply(o,arguments)}function nh(){var n=0,t=1,e=1,r=[.5],i=[0,1],o;function a(f){return f!=null&&f<=f?i[xe(r,f,0,e)]:o}function u(){var f=-1;for(r=new Array(e);++f<e;)r[f]=((f+1)*t-(f-e)*n)/(e+1);return a}return a.domain=function(f){return arguments.length?([n,t]=f,n=+n,t=+t,u()):[n,t]},a.range=function(f){return arguments.length?(e=(i=Array.from(f)).length-1,u()):i.slice()},a.invertExtent=function(f){var c=i.indexOf(f);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=e?[r[e-1],t]:[r[c-1],r[c]]},a.unknown=function(f){return arguments.length&&(o=f),a},a.thresholds=function(){return r.slice()},a.copy=function(){return nh().domain([n,t]).range(i).unknown(o)},ut.apply(Se(a),arguments)}function th(){var n=[.5],t=[0,1],e,r=1;function i(o){return o!=null&&o<=o?t[xe(n,o,0,r)]:e}return i.domain=function(o){return arguments.length?(n=Array.from(o),r=Math.min(n.length,t.length-1),i):n.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(n.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[n[a-1],n[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return th().domain(n).range(t).unknown(e)},ut.apply(i,arguments)}const No=new Date,Io=new Date;function mn(n,t,e,r){function i(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(n(o=new Date(+o)),o),i.ceil=o=>(n(o=new Date(o-1)),t(o,1),n(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return f;let c;do f.push(c=new Date(+o)),t(o,u),n(o);while(c<o&&o<a);return f},i.filter=o=>mn(a=>{if(a>=a)for(;n(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;t(a,-1),!o(a););else for(;--u>=0;)for(;t(a,1),!o(a););}),e&&(i.count=(o,a)=>(No.setTime(+o),Io.setTime(+a),n(No),n(Io),Math.floor(e(No,Io))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ye=mn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);ye.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?mn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):ye);const mc=ye.range,gt=1e3,Xn=gt*60,pt=Xn*60,_t=pt*24,$u=_t*7,bc=_t*30,zo=_t*365,mt=mn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*gt)},(n,t)=>(t-n)/gt,n=>n.getUTCSeconds()),yc=mt.range,Bi=mn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*gt)},(n,t)=>{n.setTime(+n+t*Xn)},(n,t)=>(t-n)/Xn,n=>n.getMinutes()),gy=Bi.range,Hi=mn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Xn)},(n,t)=>(t-n)/Xn,n=>n.getUTCMinutes()),py=Hi.range,Wi=mn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*gt-n.getMinutes()*Xn)},(n,t)=>{n.setTime(+n+t*pt)},(n,t)=>(t-n)/pt,n=>n.getHours()),my=Wi.range,Gi=mn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*pt)},(n,t)=>(t-n)/pt,n=>n.getUTCHours()),by=Gi.range,Ae=mn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Xn)/_t,n=>n.getDate()-1),yy=Ae.range,wr=mn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/_t,n=>n.getUTCDate()-1),_y=wr.range,Au=mn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/_t,n=>Math.floor(n/_t)),vy=Au.range;function Xt(n){return mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/$u)}const _e=Xt(0),sr=Xt(1),eh=Xt(2),rh=Xt(3),Bt=Xt(4),ih=Xt(5),oh=Xt(6),_c=_e.range,wy=sr.range,My=eh.range,xy=rh.range,Sy=Bt.range,Ty=ih.range,$y=oh.range;function jt(n){return mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/$u)}const ve=jt(0),lr=jt(1),ah=jt(2),uh=jt(3),Ht=jt(4),fh=jt(5),ch=jt(6),vc=ve.range,Ay=lr.range,Ey=ah.range,Py=uh.range,Cy=Ht.range,ky=fh.range,Ry=ch.range,Xi=mn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth()),Ny=Xi.range,ji=mn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth()),Iy=ji.range,ot=mn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());ot.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});const zy=ot.range,at=mn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());at.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});const Dy=at.range;function sh(n,t,e,r,i,o){const a=[[mt,1,gt],[mt,5,5*gt],[mt,15,15*gt],[mt,30,30*gt],[o,1,Xn],[o,5,5*Xn],[o,15,15*Xn],[o,30,30*Xn],[i,1,pt],[i,3,3*pt],[i,6,6*pt],[i,12,12*pt],[r,1,_t],[r,2,2*_t],[e,1,$u],[t,1,bc],[t,3,3*bc],[n,1,zo]];function u(c,l,h){const s=l<c;s&&([c,l]=[l,c]);const d=h&&typeof h.range=="function"?h:f(c,l,h),p=d?d.range(c,+l+1):[];return s?p.reverse():p}function f(c,l,h){const s=Math.abs(l-c)/h,d=jc(([,,g])=>g).right(a,s);if(d===a.length)return n.every(Ho(c/zo,l/zo,h));if(d===0)return ye.every(Math.max(Ho(c,l,h),1));const[p,b]=a[s/a[d-1][2]<a[d][2]/s?d-1:d];return p.every(b)}return[u,f]}const[lh,hh]=sh(at,ji,ve,Au,Gi,Hi),[dh,gh]=sh(ot,Xi,_e,Ae,Wi,Bi);function Do(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Lo(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Re(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function ph(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,o=n.days,a=n.shortDays,u=n.months,f=n.shortMonths,c=Ne(i),l=Ie(i),h=Ne(o),s=Ie(o),d=Ne(a),p=Ie(a),b=Ne(u),g=Ie(u),m=Ne(f),w=Ie(f),_={a:R,A:D,b:N,B:L,c:null,d:$c,e:$c,f:o3,g:p3,G:b3,H:e3,I:r3,j:i3,L:mh,m:a3,M:u3,p:Y,q:F,Q:Pc,s:Cc,S:f3,u:c3,U:s3,V:l3,w:h3,W:d3,x:null,X:null,y:g3,Y:m3,Z:y3,"%":Ec},v={a:J,A:V,b:K,B:fn,c:null,d:Ac,e:Ac,f:M3,g:R3,G:I3,H:_3,I:v3,j:w3,L:yh,m:x3,M:S3,p:tn,q:pn,Q:Pc,s:Cc,S:T3,u:$3,U:A3,V:E3,w:P3,W:C3,x:null,X:null,y:k3,Y:N3,Z:z3,"%":Ec},y={a:P,A:C,b:I,B:k,c:x,d:Sc,e:Sc,f:Ky,g:xc,G:Mc,H:Tc,I:Tc,j:jy,L:Qy,m:Xy,M:Vy,p:A,q:Gy,Q:n3,s:t3,S:Zy,u:Fy,U:qy,V:By,w:Uy,W:Hy,x:T,X:$,y:xc,Y:Mc,Z:Wy,"%":Jy};_.x=M(e,_),_.X=M(r,_),_.c=M(t,_),v.x=M(e,v),v.X=M(r,v),v.c=M(t,v);function M(O,G){return function(Z){var z=[],ln=-1,rn=0,En=O.length,Pn,W,hn;for(Z instanceof Date||(Z=new Date(+Z));++ln<En;)O.charCodeAt(ln)===37&&(z.push(O.slice(rn,ln)),(W=wc[Pn=O.charAt(++ln)])!=null?Pn=O.charAt(++ln):W=Pn==="e"?" ":"0",(hn=G[Pn])&&(Pn=hn(Z,W)),z.push(Pn),rn=ln+1);return z.push(O.slice(rn,ln)),z.join("")}}function S(O,G){return function(Z){var z=Re(1900,void 0,1),ln=E(z,O,Z+="",0),rn,En;if(ln!=Z.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(G&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(rn=Lo(Re(z.y,0,1)),En=rn.getUTCDay(),rn=En>4||En===0?lr.ceil(rn):lr(rn),rn=wr.offset(rn,(z.V-1)*7),z.y=rn.getUTCFullYear(),z.m=rn.getUTCMonth(),z.d=rn.getUTCDate()+(z.w+6)%7):(rn=Do(Re(z.y,0,1)),En=rn.getDay(),rn=En>4||En===0?sr.ceil(rn):sr(rn),rn=Ae.offset(rn,(z.V-1)*7),z.y=rn.getFullYear(),z.m=rn.getMonth(),z.d=rn.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),En="Z"in z?Lo(Re(z.y,0,1)).getUTCDay():Do(Re(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(En+5)%7:z.w+z.U*7-(En+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Lo(z)):Do(z)}}function E(O,G,Z,z){for(var ln=0,rn=G.length,En=Z.length,Pn,W;ln<rn;){if(z>=En)return-1;if(Pn=G.charCodeAt(ln++),Pn===37){if(Pn=G.charAt(ln++),W=y[Pn in wc?G.charAt(ln++):Pn],!W||(z=W(O,Z,z))<0)return-1}else if(Pn!=Z.charCodeAt(z++))return-1}return z}function A(O,G,Z){var z=c.exec(G.slice(Z));return z?(O.p=l.get(z[0].toLowerCase()),Z+z[0].length):-1}function P(O,G,Z){var z=d.exec(G.slice(Z));return z?(O.w=p.get(z[0].toLowerCase()),Z+z[0].length):-1}function C(O,G,Z){var z=h.exec(G.slice(Z));return z?(O.w=s.get(z[0].toLowerCase()),Z+z[0].length):-1}function I(O,G,Z){var z=m.exec(G.slice(Z));return z?(O.m=w.get(z[0].toLowerCase()),Z+z[0].length):-1}function k(O,G,Z){var z=b.exec(G.slice(Z));return z?(O.m=g.get(z[0].toLowerCase()),Z+z[0].length):-1}function x(O,G,Z){return E(O,t,G,Z)}function T(O,G,Z){return E(O,e,G,Z)}function $(O,G,Z){return E(O,r,G,Z)}function R(O){return a[O.getDay()]}function D(O){return o[O.getDay()]}function N(O){return f[O.getMonth()]}function L(O){return u[O.getMonth()]}function Y(O){return i[+(O.getHours()>=12)]}function F(O){return 1+~~(O.getMonth()/3)}function J(O){return a[O.getUTCDay()]}function V(O){return o[O.getUTCDay()]}function K(O){return f[O.getUTCMonth()]}function fn(O){return u[O.getUTCMonth()]}function tn(O){return i[+(O.getUTCHours()>=12)]}function pn(O){return 1+~~(O.getUTCMonth()/3)}return{format:function(O){var G=M(O+="",_);return G.toString=function(){return O},G},parse:function(O){var G=S(O+="",!1);return G.toString=function(){return O},G},utcFormat:function(O){var G=M(O+="",v);return G.toString=function(){return O},G},utcParse:function(O){var G=S(O+="",!0);return G.toString=function(){return O},G}}}var wc={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,Ly=/^%/,Oy=/[\\^$*+?|[\]().{}]/g;function en(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(t)+i:i)}function Yy(n){return n.replace(Oy,"\\$&")}function Ne(n){return new RegExp("^(?:"+n.map(Yy).join("|")+")","i")}function Ie(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function Uy(n,t,e){var r=vn.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Fy(n,t,e){var r=vn.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function qy(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function By(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function Hy(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function Mc(n,t,e){var r=vn.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function xc(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Wy(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Gy(n,t,e){var r=vn.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function Xy(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Sc(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function jy(n,t,e){var r=vn.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function Tc(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Vy(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Zy(n,t,e){var r=vn.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function Qy(n,t,e){var r=vn.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Ky(n,t,e){var r=vn.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Jy(n,t,e){var r=Ly.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function n3(n,t,e){var r=vn.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function t3(n,t,e){var r=vn.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function $c(n,t){return en(n.getDate(),t,2)}function e3(n,t){return en(n.getHours(),t,2)}function r3(n,t){return en(n.getHours()%12||12,t,2)}function i3(n,t){return en(1+Ae.count(ot(n),n),t,3)}function mh(n,t){return en(n.getMilliseconds(),t,3)}function o3(n,t){return mh(n,t)+"000"}function a3(n,t){return en(n.getMonth()+1,t,2)}function u3(n,t){return en(n.getMinutes(),t,2)}function f3(n,t){return en(n.getSeconds(),t,2)}function c3(n){var t=n.getDay();return t===0?7:t}function s3(n,t){return en(_e.count(ot(n)-1,n),t,2)}function bh(n){var t=n.getDay();return t>=4||t===0?Bt(n):Bt.ceil(n)}function l3(n,t){return n=bh(n),en(Bt.count(ot(n),n)+(ot(n).getDay()===4),t,2)}function h3(n){return n.getDay()}function d3(n,t){return en(sr.count(ot(n)-1,n),t,2)}function g3(n,t){return en(n.getFullYear()%100,t,2)}function p3(n,t){return n=bh(n),en(n.getFullYear()%100,t,2)}function m3(n,t){return en(n.getFullYear()%1e4,t,4)}function b3(n,t){var e=n.getDay();return n=e>=4||e===0?Bt(n):Bt.ceil(n),en(n.getFullYear()%1e4,t,4)}function y3(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+en(t/60|0,"0",2)+en(t%60,"0",2)}function Ac(n,t){return en(n.getUTCDate(),t,2)}function _3(n,t){return en(n.getUTCHours(),t,2)}function v3(n,t){return en(n.getUTCHours()%12||12,t,2)}function w3(n,t){return en(1+wr.count(at(n),n),t,3)}function yh(n,t){return en(n.getUTCMilliseconds(),t,3)}function M3(n,t){return yh(n,t)+"000"}function x3(n,t){return en(n.getUTCMonth()+1,t,2)}function S3(n,t){return en(n.getUTCMinutes(),t,2)}function T3(n,t){return en(n.getUTCSeconds(),t,2)}function $3(n){var t=n.getUTCDay();return t===0?7:t}function A3(n,t){return en(ve.count(at(n)-1,n),t,2)}function _h(n){var t=n.getUTCDay();return t>=4||t===0?Ht(n):Ht.ceil(n)}function E3(n,t){return n=_h(n),en(Ht.count(at(n),n)+(at(n).getUTCDay()===4),t,2)}function P3(n){return n.getUTCDay()}function C3(n,t){return en(lr.count(at(n)-1,n),t,2)}function k3(n,t){return en(n.getUTCFullYear()%100,t,2)}function R3(n,t){return n=_h(n),en(n.getUTCFullYear()%100,t,2)}function N3(n,t){return en(n.getUTCFullYear()%1e4,t,4)}function I3(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Ht(n):Ht.ceil(n),en(n.getUTCFullYear()%1e4,t,4)}function z3(){return"+0000"}function Ec(){return"%"}function Pc(n){return+n}function Cc(n){return Math.floor(+n/1e3)}var ie,Eu,vh,Vi,Pu;wh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wh(n){return ie=ph(n),Eu=ie.format,vh=ie.parse,Vi=ie.utcFormat,Pu=ie.utcParse,ie}var Mh="%Y-%m-%dT%H:%M:%S.%LZ";function D3(n){return n.toISOString()}var L3=Date.prototype.toISOString?D3:Vi(Mh);const O3=L3;function Y3(n){var t=new Date(n);return isNaN(t)?null:t}var U3=+new Date("2000-01-01T00:00:00.000Z")?Y3:Pu(Mh);const F3=U3;function q3(n){return new Date(n)}function B3(n){return n instanceof Date?+n:+new Date(+n)}function Cu(n,t,e,r,i,o,a,u,f,c){var l=Xc(),h=l.invert,s=l.domain,d=c(".%L"),p=c(":%S"),b=c("%I:%M"),g=c("%I %p"),m=c("%a %d"),w=c("%b %d"),_=c("%B"),v=c("%Y");function y(M){return(f(M)<M?d:u(M)<M?p:a(M)<M?b:o(M)<M?g:r(M)<M?i(M)<M?m:w:e(M)<M?_:v)(M)}return l.invert=function(M){return new Date(h(M))},l.domain=function(M){return arguments.length?s(Array.from(M,B3)):s().map(q3)},l.ticks=function(M){var S=s();return n(S[0],S[S.length-1],M??10)},l.tickFormat=function(M,S){return S==null?y:c(S)},l.nice=function(M){var S=s();return(!M||typeof M.range!="function")&&(M=t(S[0],S[S.length-1],M??10)),M?s(Vl(S,M)):l},l.copy=function(){return za(l,Cu(n,t,e,r,i,o,a,u,f,c))},l}function H3(){return ut.apply(Cu(dh,gh,ot,Xi,_e,Ae,Wi,Bi,mt,Eu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W3(){return ut.apply(Cu(lh,hh,at,ji,ve,wr,Gi,Hi,mt,Vi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zi(){var n=0,t=1,e,r,i,o,a=dr,u=!1,f;function c(h){return h==null||isNaN(h=+h)?f:a(i===0?.5:(h=(o(h)-e)*i,u?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([n,t]=h,e=o(n=+n),r=o(t=+t),i=e===r?0:1/(r-e),c):[n,t]},c.clamp=function(h){return arguments.length?(u=!!h,c):u},c.interpolator=function(h){return arguments.length?(a=h,c):a};function l(h){return function(s){var d,p;return arguments.length?([d,p]=s,a=h(d,p),c):[a(0),a(1)]}}return c.range=l(hr),c.rangeRound=l(La),c.unknown=function(h){return arguments.length?(f=h,c):f},function(h){return o=h,e=h(n),r=h(t),i=e===r?0:1/(r-e),c}}function Ct(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function xh(){var n=Se(Zi()(dr));return n.copy=function(){return Ct(n,xh())},vt.apply(n,arguments)}function Sh(){var n=Su(Zi()).domain([1,10]);return n.copy=function(){return Ct(n,Sh()).base(n.base())},vt.apply(n,arguments)}function Th(){var n=Tu(Zi());return n.copy=function(){return Ct(n,Th()).constant(n.constant())},vt.apply(n,arguments)}function ku(){var n=Vc(Zi());return n.copy=function(){return Ct(n,ku()).exponent(n.exponent())},vt.apply(n,arguments)}function G3(){return ku.apply(null,arguments).exponent(.5)}function $h(){var n=[],t=dr;function e(r){if(r!=null&&!isNaN(r=+r))return t((xe(n,r,1)-1)/(n.length-1))}return e.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(bn),e},e.interpolator=function(r){return arguments.length?(t=r,e):t},e.range=function(){return n.map((r,i)=>t(i/(n.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(i,o)=>tr(n,o/r))},e.copy=function(){return $h(t).domain(n)},vt.apply(e,arguments)}function Qi(){var n=0,t=.5,e=1,r=1,i,o,a,u,f,c=dr,l,h=!1,s;function d(b){return isNaN(b=+b)?s:(b=.5+((b=+l(b))-o)*(r*b<r*o?u:f),c(h?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([n,t,e]=b,i=l(n=+n),o=l(t=+t),a=l(e=+e),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,d):[n,t,e]},d.clamp=function(b){return arguments.length?(h=!!b,d):h},d.interpolator=function(b){return arguments.length?(c=b,d):c};function p(b){return function(g){var m,w,_;return arguments.length?([m,w,_]=g,c=Ds(b,[m,w,_]),d):[c(0),c(.5),c(1)]}}return d.range=p(hr),d.rangeRound=p(La),d.unknown=function(b){return arguments.length?(s=b,d):s},function(b){return l=b,i=b(n),o=b(t),a=b(e),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Ah(){var n=Se(Qi()(dr));return n.copy=function(){return Ct(n,Ah())},vt.apply(n,arguments)}function Eh(){var n=Su(Qi()).domain([.1,1,10]);return n.copy=function(){return Ct(n,Eh()).base(n.base())},vt.apply(n,arguments)}function Ph(){var n=Tu(Qi());return n.copy=function(){return Ct(n,Ph()).constant(n.constant())},vt.apply(n,arguments)}function Ru(){var n=Vc(Qi());return n.copy=function(){return Ct(n,Ru()).exponent(n.exponent())},vt.apply(n,arguments)}function X3(){return Ru.apply(null,arguments).exponent(.5)}function j(n){for(var t=n.length/6|0,e=new Array(t),r=0;r<t;)e[r]="#"+n.slice(r*6,++r*6);return e}const j3=j("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),V3=j("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Z3=j("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Q3=j("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),K3=j("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),J3=j("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),n6=j("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),t6=j("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),e6=j("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),r6=j("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),i6=j("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),an=n=>Zc(n[n.length-1]);var Ch=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(j);const o6=an(Ch);var kh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(j);const a6=an(kh);var Rh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(j);const u6=an(Rh);var Nh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(j);const f6=an(Nh);var Ih=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(j);const c6=an(Ih);var zh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(j);const s6=an(zh);var Dh=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(j);const l6=an(Dh);var Lh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(j);const h6=an(Lh);var Oh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(j);const d6=an(Oh);var Yh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(j);const g6=an(Yh);var Uh=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(j);const p6=an(Uh);var Fh=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(j);const m6=an(Fh);var qh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(j);const b6=an(qh);var Bh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(j);const y6=an(Bh);var Hh=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(j);const _6=an(Hh);var Wh=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(j);const v6=an(Wh);var Gh=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(j);const w6=an(Gh);var Xh=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(j);const M6=an(Xh);var jh=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(j);const x6=an(jh);var Vh=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(j);const S6=an(Vh);var Zh=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(j);const T6=an(Zh);var Qh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(j);const $6=an(Qh);var Kh=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(j);const A6=an(Kh);var Jh=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(j);const E6=an(Jh);var n0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(j);const P6=an(n0);var t0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(j);const C6=an(t0);var e0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(j);const k6=an(e0);function R6(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}const N6=Li(Kn(300,.5,0),Kn(-240,.5,1));var I6=Li(Kn(-100,.75,.35),Kn(80,1.5,.8)),z6=Li(Kn(260,.75,.35),Kn(80,1.5,.8)),zr=Kn();function D6(n){(n<0||n>1)&&(n-=Math.floor(n));var t=Math.abs(n-.5);return zr.h=360*n-100,zr.s=1.5-1.5*t,zr.l=.8-.9*t,zr+""}var Dr=Qc(),L6=Math.PI/3,O6=Math.PI*2/3;function Y6(n){var t;return n=(.5-n)*Math.PI,Dr.r=255*(t=Math.sin(n))*t,Dr.g=255*(t=Math.sin(n+L6))*t,Dr.b=255*(t=Math.sin(n+O6))*t,Dr+""}function U6(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function Ki(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}}const F6=Ki(j("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var q6=Ki(j("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),B6=Ki(j("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),H6=Ki(j("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function X(n){return function(){return n}}const kc=Math.abs,Tn=Math.atan2,lt=Math.cos,W6=Math.max,le=Math.min,Yn=Math.sin,un=Math.sqrt,$n=1e-12,Et=Math.PI,Ai=Et/2,At=2*Et;function G6(n){return n>1?0:n<-1?Et:Math.acos(n)}function Rc(n){return n>=1?Ai:n<=-1?-Ai:Math.asin(n)}function Mr(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);t=r}return n},()=>new gr(t)}function X6(n){return n.innerRadius}function j6(n){return n.outerRadius}function V6(n){return n.startAngle}function Z6(n){return n.endAngle}function Q6(n){return n&&n.padAngle}function K6(n,t,e,r,i,o,a,u){var f=e-n,c=r-t,l=a-i,h=u-o,s=h*f-l*c;if(!(s*s<$n))return s=(l*(t-o)-h*(n-i))/s,[n+s*f,t+s*c]}function Lr(n,t,e,r,i,o,a){var u=n-e,f=t-r,c=(a?o:-o)/un(u*u+f*f),l=c*f,h=-c*u,s=n+l,d=t+h,p=e+l,b=r+h,g=(s+p)/2,m=(d+b)/2,w=p-s,_=b-d,v=w*w+_*_,y=i-o,M=s*b-p*d,S=(_<0?-1:1)*un(W6(0,y*y*v-M*M)),E=(M*_-w*S)/v,A=(-M*w-_*S)/v,P=(M*_+w*S)/v,C=(-M*w+_*S)/v,I=E-g,k=A-m,x=P-g,T=C-m;return I*I+k*k>x*x+T*T&&(E=P,A=C),{cx:E,cy:A,x01:-l,y01:-h,x11:E*(i/y-1),y11:A*(i/y-1)}}function r0(){var n=X6,t=j6,e=X(0),r=null,i=V6,o=Z6,a=Q6,u=null,f=Mr(c);function c(){var l,h,s=+n.apply(this,arguments),d=+t.apply(this,arguments),p=i.apply(this,arguments)-Ai,b=o.apply(this,arguments)-Ai,g=kc(b-p),m=b>p;if(u||(u=l=f()),d<s&&(h=d,d=s,s=h),!(d>$n))u.moveTo(0,0);else if(g>At-$n)u.moveTo(d*lt(p),d*Yn(p)),u.arc(0,0,d,p,b,!m),s>$n&&(u.moveTo(s*lt(b),s*Yn(b)),u.arc(0,0,s,b,p,m));else{var w=p,_=b,v=p,y=b,M=g,S=g,E=a.apply(this,arguments)/2,A=E>$n&&(r?+r.apply(this,arguments):un(s*s+d*d)),P=le(kc(d-s)/2,+e.apply(this,arguments)),C=P,I=P,k,x;if(A>$n){var T=Rc(A/s*Yn(E)),$=Rc(A/d*Yn(E));(M-=T*2)>$n?(T*=m?1:-1,v+=T,y-=T):(M=0,v=y=(p+b)/2),(S-=$*2)>$n?($*=m?1:-1,w+=$,_-=$):(S=0,w=_=(p+b)/2)}var R=d*lt(w),D=d*Yn(w),N=s*lt(y),L=s*Yn(y);if(P>$n){var Y=d*lt(_),F=d*Yn(_),J=s*lt(v),V=s*Yn(v),K;if(g<Et)if(K=K6(R,D,J,V,Y,F,N,L)){var fn=R-K[0],tn=D-K[1],pn=Y-K[0],O=F-K[1],G=1/Yn(G6((fn*pn+tn*O)/(un(fn*fn+tn*tn)*un(pn*pn+O*O)))/2),Z=un(K[0]*K[0]+K[1]*K[1]);C=le(P,(s-Z)/(G-1)),I=le(P,(d-Z)/(G+1))}else C=I=0}S>$n?I>$n?(k=Lr(J,V,R,D,d,I,m),x=Lr(Y,F,N,L,d,I,m),u.moveTo(k.cx+k.x01,k.cy+k.y01),I<P?u.arc(k.cx,k.cy,I,Tn(k.y01,k.x01),Tn(x.y01,x.x01),!m):(u.arc(k.cx,k.cy,I,Tn(k.y01,k.x01),Tn(k.y11,k.x11),!m),u.arc(0,0,d,Tn(k.cy+k.y11,k.cx+k.x11),Tn(x.cy+x.y11,x.cx+x.x11),!m),u.arc(x.cx,x.cy,I,Tn(x.y11,x.x11),Tn(x.y01,x.x01),!m))):(u.moveTo(R,D),u.arc(0,0,d,w,_,!m)):u.moveTo(R,D),!(s>$n)||!(M>$n)?u.lineTo(N,L):C>$n?(k=Lr(N,L,Y,F,s,-C,m),x=Lr(R,D,J,V,s,-C,m),u.lineTo(k.cx+k.x01,k.cy+k.y01),C<P?u.arc(k.cx,k.cy,C,Tn(k.y01,k.x01),Tn(x.y01,x.x01),!m):(u.arc(k.cx,k.cy,C,Tn(k.y01,k.x01),Tn(k.y11,k.x11),!m),u.arc(0,0,s,Tn(k.cy+k.y11,k.cx+k.x11),Tn(x.cy+x.y11,x.cx+x.x11),m),u.arc(x.cx,x.cy,C,Tn(x.y11,x.x11),Tn(x.y01,x.x01),!m))):u.arc(0,0,s,y,v,m)}if(u.closePath(),l)return u=null,l+""||null}return c.centroid=function(){var l=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Et/2;return[lt(h)*l,Yn(h)*l]},c.innerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:X(+l),c):n},c.outerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:X(+l),c):t},c.cornerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:X(+l),c):e},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:X(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:X(+l),c):i},c.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:X(+l),c):o},c.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:X(+l),c):a},c.context=function(l){return arguments.length?(u=l??null,c):u},c}var J6=Array.prototype.slice;function Ji(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function i0(n){this._context=n}i0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function no(n){return new i0(n)}function Nu(n){return n[0]}function Iu(n){return n[1]}function zu(n,t){var e=X(!0),r=null,i=no,o=null,a=Mr(u);n=typeof n=="function"?n:n===void 0?Nu:X(n),t=typeof t=="function"?t:t===void 0?Iu:X(t);function u(f){var c,l=(f=Ji(f)).length,h,s=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=l;++c)!(c<l&&e(h=f[c],c,f))===s&&((s=!s)?o.lineStart():o.lineEnd()),s&&o.point(+n(h,c,f),+t(h,c,f));if(d)return o=null,d+""||null}return u.x=function(f){return arguments.length?(n=typeof f=="function"?f:X(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:X(+f),u):t},u.defined=function(f){return arguments.length?(e=typeof f=="function"?f:X(!!f),u):e},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function o0(n,t,e){var r=null,i=X(!0),o=null,a=no,u=null,f=Mr(c);n=typeof n=="function"?n:n===void 0?Nu:X(+n),t=typeof t=="function"?t:X(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?Iu:X(+e);function c(h){var s,d,p,b=(h=Ji(h)).length,g,m=!1,w,_=new Array(b),v=new Array(b);for(o==null&&(u=a(w=f())),s=0;s<=b;++s){if(!(s<b&&i(g=h[s],s,h))===m)if(m=!m)d=s,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),p=s-1;p>=d;--p)u.point(_[p],v[p]);u.lineEnd(),u.areaEnd()}m&&(_[s]=+n(g,s,h),v[s]=+t(g,s,h),u.point(r?+r(g,s,h):_[s],e?+e(g,s,h):v[s]))}if(w)return u=null,w+""||null}function l(){return zu().defined(i).curve(a).context(o)}return c.x=function(h){return arguments.length?(n=typeof h=="function"?h:X(+h),r=null,c):n},c.x0=function(h){return arguments.length?(n=typeof h=="function"?h:X(+h),c):n},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:X(+h),c):r},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:X(+h),e=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:X(+h),c):t},c.y1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:X(+h),c):e},c.lineX0=c.lineY0=function(){return l().x(n).y(t)},c.lineY1=function(){return l().x(n).y(e)},c.lineX1=function(){return l().x(r).y(t)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:X(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,o!=null&&(u=a(o)),c):a},c.context=function(h){return arguments.length?(h==null?o=u=null:u=a(o=h),c):o},c}function n5(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function t5(n){return n}function e5(){var n=t5,t=n5,e=null,r=X(0),i=X(At),o=X(0);function a(u){var f,c=(u=Ji(u)).length,l,h,s=0,d=new Array(c),p=new Array(c),b=+r.apply(this,arguments),g=Math.min(At,Math.max(-At,i.apply(this,arguments)-b)),m,w=Math.min(Math.abs(g)/c,o.apply(this,arguments)),_=w*(g<0?-1:1),v;for(f=0;f<c;++f)(v=p[d[f]=f]=+n(u[f],f,u))>0&&(s+=v);for(t!=null?d.sort(function(y,M){return t(p[y],p[M])}):e!=null&&d.sort(function(y,M){return e(u[y],u[M])}),f=0,h=s?(g-c*_)/s:0;f<c;++f,b=m)l=d[f],v=p[l],m=b+(v>0?v*h:0)+_,p[l]={data:u[l],index:f,value:v,startAngle:b,endAngle:m,padAngle:w};return p}return a.value=function(u){return arguments.length?(n=typeof u=="function"?u:X(+u),a):n},a.sortValues=function(u){return arguments.length?(t=u,e=null,a):t},a.sort=function(u){return arguments.length?(e=u,t=null,a):e},a.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:X(+u),a):r},a.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:X(+u),a):i},a.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:X(+u),a):o},a}var a0=Du(no);function u0(n){this._curve=n}u0.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(n,t){this._curve.point(t*Math.sin(n),t*-Math.cos(n))}};function Du(n){function t(e){return new u0(n(e))}return t._curve=n,t}function He(n){var t=n.curve;return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n.curve=function(e){return arguments.length?t(Du(e)):t()._curve},n}function Nc(){return He(zu().curve(a0))}function Ic(){var n=o0().curve(a0),t=n.curve,e=n.lineX0,r=n.lineX1,i=n.lineY0,o=n.lineY1;return n.angle=n.x,delete n.x,n.startAngle=n.x0,delete n.x0,n.endAngle=n.x1,delete n.x1,n.radius=n.y,delete n.y,n.innerRadius=n.y0,delete n.y0,n.outerRadius=n.y1,delete n.y1,n.lineStartAngle=function(){return He(e())},delete n.lineX0,n.lineEndAngle=function(){return He(r())},delete n.lineX1,n.lineInnerRadius=function(){return He(i())},delete n.lineY0,n.lineOuterRadius=function(){return He(o())},delete n.lineY1,n.curve=function(a){return arguments.length?t(Du(a)):t()._curve},n}function We(n,t){return[(t=+t)*Math.cos(n-=Math.PI/2),t*Math.sin(n)]}class f0{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}class r5{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,this._point===0)this._point=1;else{const r=We(this._x0,this._y0),i=We(this._x0,this._y0=(this._y0+e)/2),o=We(t,this._y0),a=We(t,e);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=t,this._y0=e}}function c0(n){return new f0(n,!0)}function s0(n){return new f0(n,!1)}function i5(n){return new r5(n)}function o5(n){return n.source}function a5(n){return n.target}function to(n){let t=o5,e=a5,r=Nu,i=Iu,o=null,a=null,u=Mr(f);function f(){let c;const l=J6.call(arguments),h=t.apply(this,l),s=e.apply(this,l);if(o==null&&(a=n(c=u())),a.lineStart(),l[0]=h,a.point(+r.apply(this,l),+i.apply(this,l)),l[0]=s,a.point(+r.apply(this,l),+i.apply(this,l)),a.lineEnd(),c)return a=null,c+""||null}return f.source=function(c){return arguments.length?(t=c,f):t},f.target=function(c){return arguments.length?(e=c,f):e},f.x=function(c){return arguments.length?(r=typeof c=="function"?c:X(+c),f):r},f.y=function(c){return arguments.length?(i=typeof c=="function"?c:X(+c),f):i},f.context=function(c){return arguments.length?(c==null?o=a=null:a=n(o=c),f):o},f}function u5(){return to(c0)}function f5(){return to(s0)}function c5(){const n=to(i5);return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n}const s5=un(3),l0={draw(n,t){const e=un(t+le(t/28,.75))*.59436,r=e/2,i=r*s5;n.moveTo(0,e),n.lineTo(0,-e),n.moveTo(-i,-r),n.lineTo(i,r),n.moveTo(-i,r),n.lineTo(i,-r)}},eo={draw(n,t){const e=un(t/Et);n.moveTo(e,0),n.arc(0,0,e,0,At)}},h0={draw(n,t){const e=un(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},d0=un(1/3),l5=d0*2,g0={draw(n,t){const e=un(t/l5),r=e*d0;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},p0={draw(n,t){const e=un(t)*.62625;n.moveTo(0,-e),n.lineTo(e,0),n.lineTo(0,e),n.lineTo(-e,0),n.closePath()}},m0={draw(n,t){const e=un(t-le(t/7,2))*.87559;n.moveTo(-e,0),n.lineTo(e,0),n.moveTo(0,e),n.lineTo(0,-e)}},b0={draw(n,t){const e=un(t),r=-e/2;n.rect(r,r,e,e)}},y0={draw(n,t){const e=un(t)*.4431;n.moveTo(e,e),n.lineTo(e,-e),n.lineTo(-e,-e),n.lineTo(-e,e),n.closePath()}},h5=.8908130915292852,_0=Yn(Et/10)/Yn(7*Et/10),d5=Yn(At/10)*_0,g5=-lt(At/10)*_0,v0={draw(n,t){const e=un(t*h5),r=d5*e,i=g5*e;n.moveTo(0,-e),n.lineTo(r,i);for(let o=1;o<5;++o){const a=At*o/5,u=lt(a),f=Yn(a);n.lineTo(f*e,-u*e),n.lineTo(u*r-f*i,f*r+u*i)}n.closePath()}},Oo=un(3),w0={draw(n,t){const e=-un(t/(Oo*3));n.moveTo(0,e*2),n.lineTo(-Oo*e,-e),n.lineTo(Oo*e,-e),n.closePath()}},p5=un(3),M0={draw(n,t){const e=un(t)*.6824,r=e/2,i=e*p5/2;n.moveTo(0,-e),n.lineTo(i,r),n.lineTo(-i,r),n.closePath()}},Bn=-.5,Hn=un(3)/2,Aa=1/un(12),m5=(Aa/2+1)*3,x0={draw(n,t){const e=un(t/m5),r=e/2,i=e*Aa,o=r,a=e*Aa+e,u=-o,f=a;n.moveTo(r,i),n.lineTo(o,a),n.lineTo(u,f),n.lineTo(Bn*r-Hn*i,Hn*r+Bn*i),n.lineTo(Bn*o-Hn*a,Hn*o+Bn*a),n.lineTo(Bn*u-Hn*f,Hn*u+Bn*f),n.lineTo(Bn*r+Hn*i,Bn*i-Hn*r),n.lineTo(Bn*o+Hn*a,Bn*a-Hn*o),n.lineTo(Bn*u+Hn*f,Bn*f-Hn*u),n.closePath()}},Ea={draw(n,t){const e=un(t-le(t/6,1.7))*.6189;n.moveTo(-e,-e),n.lineTo(e,e),n.moveTo(-e,e),n.lineTo(e,-e)}},zc=[eo,h0,g0,b0,v0,w0,x0],b5=[eo,m0,Ea,M0,l0,y0,p0];function y5(n,t){let e=null,r=Mr(i);n=typeof n=="function"?n:X(n||eo),t=typeof t=="function"?t:X(t===void 0?64:+t);function i(){let o;if(e||(e=o=r()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(n=typeof o=="function"?o:X(o),i):n},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:X(+o),i):t},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function Pt(){}function Ei(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function ro(n){this._context=n}ro.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ei(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ei(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function _5(n){return new ro(n)}function S0(n){this._context=n}S0.prototype={areaStart:Pt,areaEnd:Pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:Ei(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function v5(n){return new S0(n)}function T0(n){this._context=n}T0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ei(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function w5(n){return new T0(n)}function $0(n,t){this._basis=new ro(n),this._beta=t}$0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,t=this._y,e=n.length-1;if(e>0)for(var r=n[0],i=t[0],o=n[e]-r,a=t[e]-i,u=-1,f;++u<=e;)f=u/e,this._basis.point(this._beta*n[u]+(1-this._beta)*(r+f*o),this._beta*t[u]+(1-this._beta)*(i+f*a));this._x=this._y=null,this._basis.lineEnd()},point:function(n,t){this._x.push(+n),this._y.push(+t)}};const M5=function n(t){function e(r){return t===1?new ro(r):new $0(r,t)}return e.beta=function(r){return n(+r)},e}(.85);function Pi(n,t,e){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-e),n._x2,n._y2)}function Lu(n,t){this._context=n,this._k=(1-t)/6}Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pi(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:Pi(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const x5=function n(t){function e(r){return new Lu(r,t)}return e.tension=function(r){return n(+r)},e}(0);function Ou(n,t){this._context=n,this._k=(1-t)/6}Ou.prototype={areaStart:Pt,areaEnd:Pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:Pi(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const S5=function n(t){function e(r){return new Ou(r,t)}return e.tension=function(r){return n(+r)},e}(0);function Yu(n,t){this._context=n,this._k=(1-t)/6}Yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pi(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const T5=function n(t){function e(r){return new Yu(r,t)}return e.tension=function(r){return n(+r)},e}(0);function Uu(n,t,e){var r=n._x1,i=n._y1,o=n._x2,a=n._y2;if(n._l01_a>$n){var u=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,f=3*n._l01_a*(n._l01_a+n._l12_a);r=(r*u-n._x0*n._l12_2a+n._x2*n._l01_2a)/f,i=(i*u-n._y0*n._l12_2a+n._y2*n._l01_2a)/f}if(n._l23_a>$n){var c=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,l=3*n._l23_a*(n._l23_a+n._l12_a);o=(o*c+n._x1*n._l23_2a-t*n._l12_2a)/l,a=(a*c+n._y1*n._l23_2a-e*n._l12_2a)/l}n._context.bezierCurveTo(r,i,o,a,n._x2,n._y2)}function A0(n,t){this._context=n,this._alpha=t}A0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Uu(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $5=function n(t){function e(r){return t?new A0(r,t):new Lu(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function E0(n,t){this._context=n,this._alpha=t}E0.prototype={areaStart:Pt,areaEnd:Pt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:Uu(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const A5=function n(t){function e(r){return t?new E0(r,t):new Ou(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function P0(n,t){this._context=n,this._alpha=t}P0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Uu(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const E5=function n(t){function e(r){return t?new P0(r,t):new Yu(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function C0(n){this._context=n}C0.prototype={areaStart:Pt,areaEnd:Pt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function P5(n){return new C0(n)}function Dc(n){return n<0?-1:1}function Lc(n,t,e){var r=n._x1-n._x0,i=t-n._x1,o=(n._y1-n._y0)/(r||i<0&&-0),a=(e-n._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Dc(o)+Dc(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Oc(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function Yo(n,t,e){var r=n._x0,i=n._y0,o=n._x1,a=n._y1,u=(o-r)/3;n._context.bezierCurveTo(r+u,i+u*t,o-u,a-u*e,o,a)}function Ci(n){this._context=n}Ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yo(this,this._t0,Oc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Yo(this,Oc(this,e=Lc(this,n,t)),e);break;default:Yo(this,this._t0,e=Lc(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function k0(n){this._context=new R0(n)}(k0.prototype=Object.create(Ci.prototype)).point=function(n,t){Ci.prototype.point.call(this,t,n)};function R0(n){this._context=n}R0.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,i,o){this._context.bezierCurveTo(t,n,r,e,o,i)}};function C5(n){return new Ci(n)}function k5(n){return new k0(n)}function N0(n){this._context=n}N0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var r=Yc(n),i=Yc(t),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],n[a],t[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function Yc(n){var t,e=n.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=n[0]+2*n[1],t=1;t<e-1;++t)i[t]=1,o[t]=4,a[t]=4*n[t]+2*n[t+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[e-1]=a[e-1]/o[e-1],t=e-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[e-1]=(n[e]+i[e-1])/2,t=0;t<e-1;++t)o[t]=2*n[t+1]-i[t+1];return[i,o]}function R5(n){return new N0(n)}function io(n,t){this._context=n,this._t=t}io.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function N5(n){return new io(n,.5)}function I5(n){return new io(n,0)}function z5(n){return new io(n,1)}function we(n,t){if((a=n.length)>1)for(var e=1,r,i,o=n[t[0]],a,u=o.length;e<a;++e)for(i=o,o=n[t[e]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Me(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function D5(n,t){return n[t]}function L5(n){const t=[];return t.key=n,t}function O5(){var n=X([]),t=Me,e=we,r=D5;function i(o){var a=Array.from(n.apply(this,arguments),L5),u,f=a.length,c=-1,l;for(const h of o)for(u=0,++c;u<f;++u)(a[u][c]=[0,+r(h,a[u].key,c,o)]).data=h;for(u=0,l=Ji(t(a));u<f;++u)a[l[u]].index=u;return e(a,l),a}return i.keys=function(o){return arguments.length?(n=typeof o=="function"?o:X(Array.from(o)),i):n},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:X(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Me:typeof o=="function"?o:X(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(e=o??we,i):e},i}function Y5(n,t){if((r=n.length)>0){for(var e,r,i=0,o=n[0].length,a;i<o;++i){for(a=e=0;e<r;++e)a+=n[e][i][1]||0;if(a)for(e=0;e<r;++e)n[e][i][1]/=a}we(n,t)}}function U5(n,t){if((f=n.length)>0)for(var e,r=0,i,o,a,u,f,c=n[t[0]].length;r<c;++r)for(a=u=0,e=0;e<f;++e)(o=(i=n[t[e]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=u,i[0]=u+=o):(i[0]=0,i[1]=o)}function F5(n,t){if((i=n.length)>0){for(var e=0,r=n[t[0]],i,o=r.length;e<o;++e){for(var a=0,u=0;a<i;++a)u+=n[a][e][1]||0;r[e][1]+=r[e][0]=-u/2}we(n,t)}}function q5(n,t){if(!(!((a=n.length)>0)||!((o=(i=n[t[0]]).length)>0))){for(var e=0,r=1,i,o,a;r<o;++r){for(var u=0,f=0,c=0;u<a;++u){for(var l=n[t[u]],h=l[r][1]||0,s=l[r-1][1]||0,d=(h-s)/2,p=0;p<u;++p){var b=n[t[p]],g=b[r][1]||0,m=b[r-1][1]||0;d+=g-m}f+=h,c+=d*h}i[r-1][1]+=i[r-1][0]=e,f&&(e-=c/f)}i[r-1][1]+=i[r-1][0]=e,we(n,t)}}function I0(n){var t=n.map(B5);return Me(n).sort(function(e,r){return t[e]-t[r]})}function B5(n){for(var t=-1,e=0,r=n.length,i,o=-1/0;++t<r;)(i=+n[t][1])>o&&(o=i,e=t);return e}function z0(n){var t=n.map(D0);return Me(n).sort(function(e,r){return t[e]-t[r]})}function D0(n){for(var t=0,e=-1,r=n.length,i;++e<r;)(i=+n[e][1])&&(t+=i);return t}function H5(n){return z0(n).reverse()}function W5(n){var t=n.length,e,r,i=n.map(D0),o=I0(n),a=0,u=0,f=[],c=[];for(e=0;e<t;++e)r=o[e],a<u?(a+=i[r],f.push(r)):(u+=i[r],c.push(r));return c.reverse().concat(f)}function G5(n){return Me(n).reverse()}const Or=n=>()=>n;function X5(n,{sourceEvent:t,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Uo(n){n.stopImmediatePropagation()}function ze(n){n.preventDefault(),n.stopImmediatePropagation()}function j5(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function V5(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Uc(){return this.__zoom||Oa}function Z5(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Q5(){return navigator.maxTouchPoints||"ontouchstart"in this}function K5(n,t,e){var r=n.invertX(t[0][0])-e[0][0],i=n.invertX(t[1][0])-e[1][0],o=n.invertY(t[0][1])-e[0][1],a=n.invertY(t[1][1])-e[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function J5(){var n=j5,t=V5,e=K5,r=Z5,i=Q5,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Rs,c=Ra("start","zoom","end"),l,h,s,d=500,p=150,b=0,g=10;function m(x){x.property("__zoom",Uc).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(x,T,$,R){var D=x.selection?x.selection():x;D.property("__zoom",Uc),x!==D?y(x,T,$,R):D.interrupt().each(function(){M(this,arguments).event(R).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},m.scaleBy=function(x,T,$,R){m.scaleTo(x,function(){var D=this.__zoom.k,N=typeof T=="function"?T.apply(this,arguments):T;return D*N},$,R)},m.scaleTo=function(x,T,$,R){m.transform(x,function(){var D=t.apply(this,arguments),N=this.__zoom,L=$==null?v(D):typeof $=="function"?$.apply(this,arguments):$,Y=N.invert(L),F=typeof T=="function"?T.apply(this,arguments):T;return e(_(w(N,F),L,Y),D,a)},$,R)},m.translateBy=function(x,T,$,R){m.transform(x,function(){return e(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),a)},null,R)},m.translateTo=function(x,T,$,R,D){m.transform(x,function(){var N=t.apply(this,arguments),L=this.__zoom,Y=R==null?v(N):typeof R=="function"?R.apply(this,arguments):R;return e(Oa.translate(Y[0],Y[1]).scale(L.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof $=="function"?-$.apply(this,arguments):-$),N,a)},R,D)};function w(x,T){return T=Math.max(o[0],Math.min(o[1],T)),T===x.k?x:new Yr(T,x.x,x.y)}function _(x,T,$){var R=T[0]-$[0]*x.k,D=T[1]-$[1]*x.k;return R===x.x&&D===x.y?x:new Yr(x.k,R,D)}function v(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function y(x,T,$,R){x.on("start.zoom",function(){M(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(R).end()}).tween("zoom",function(){var D=this,N=arguments,L=M(D,N).event(R),Y=t.apply(D,N),F=$==null?v(Y):typeof $=="function"?$.apply(D,N):$,J=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),V=D.__zoom,K=typeof T=="function"?T.apply(D,N):T,fn=f(V.invert(F).concat(J/V.k),K.invert(F).concat(J/K.k));return function(tn){if(tn===1)tn=K;else{var pn=fn(tn),O=J/pn[2];tn=new Yr(O,F[0]-pn[0]*O,F[1]-pn[1]*O)}L.zoom(null,tn)}})}function M(x,T,$){return!$&&x.__zooming||new S(x,T)}function S(x,T){this.that=x,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,T),this.taps=0}S.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,T){return this.mouse&&x!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var T=In(this.that).datum();c.call(x,this.that,new X5(x,{sourceEvent:this.sourceEvent,target:m,type:x,transform:this.that.__zoom,dispatch:c}),T)}};function E(x,...T){if(!n.apply(this,arguments))return;var $=M(this,T).event(x),R=this.__zoom,D=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),N=jn(x);if($.wheel)($.mouse[0][0]!==N[0]||$.mouse[0][1]!==N[1])&&($.mouse[1]=R.invert($.mouse[0]=N)),clearTimeout($.wheel);else{if(R.k===D)return;$.mouse=[N,R.invert(N)],fe(this),$.start()}ze(x),$.wheel=setTimeout(L,p),$.zoom("mouse",e(_(w(R,D),$.mouse[0],$.mouse[1]),$.extent,a));function L(){$.wheel=null,$.end()}}function A(x,...T){if(s||!n.apply(this,arguments))return;var $=x.currentTarget,R=M(this,T,!0).event(x),D=In(x.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",J,!0),N=jn(x,$),L=x.clientX,Y=x.clientY;Na(x.view),Uo(x),R.mouse=[N,this.__zoom.invert(N)],fe(this),R.start();function F(V){if(ze(V),!R.moved){var K=V.clientX-L,fn=V.clientY-Y;R.moved=K*K+fn*fn>b}R.event(V).zoom("mouse",e(_(R.that.__zoom,R.mouse[0]=jn(V,$),R.mouse[1]),R.extent,a))}function J(V){D.on("mousemove.zoom mouseup.zoom",null),Ia(V.view,R.moved),ze(V),R.event(V).end()}}function P(x,...T){if(n.apply(this,arguments)){var $=this.__zoom,R=jn(x.changedTouches?x.changedTouches[0]:x,this),D=$.invert(R),N=$.k*(x.shiftKey?.5:2),L=e(_(w($,N),R,D),t.apply(this,T),a);ze(x),u>0?In(this).transition().duration(u).call(y,L,R,x):In(this).call(m.transform,L,R,x)}}function C(x,...T){if(n.apply(this,arguments)){var $=x.touches,R=$.length,D=M(this,T,x.changedTouches.length===R).event(x),N,L,Y,F;for(Uo(x),L=0;L<R;++L)Y=$[L],F=jn(Y,this),F=[F,this.__zoom.invert(F),Y.identifier],D.touch0?!D.touch1&&D.touch0[2]!==F[2]&&(D.touch1=F,D.taps=0):(D.touch0=F,N=!0,D.taps=1+!!l);l&&(l=clearTimeout(l)),N&&(D.taps<2&&(h=F[0],l=setTimeout(function(){l=null},d)),fe(this),D.start())}}function I(x,...T){if(this.__zooming){var $=M(this,T).event(x),R=x.changedTouches,D=R.length,N,L,Y,F;for(ze(x),N=0;N<D;++N)L=R[N],Y=jn(L,this),$.touch0&&$.touch0[2]===L.identifier?$.touch0[0]=Y:$.touch1&&$.touch1[2]===L.identifier&&($.touch1[0]=Y);if(L=$.that.__zoom,$.touch1){var J=$.touch0[0],V=$.touch0[1],K=$.touch1[0],fn=$.touch1[1],tn=(tn=K[0]-J[0])*tn+(tn=K[1]-J[1])*tn,pn=(pn=fn[0]-V[0])*pn+(pn=fn[1]-V[1])*pn;L=w(L,Math.sqrt(tn/pn)),Y=[(J[0]+K[0])/2,(J[1]+K[1])/2],F=[(V[0]+fn[0])/2,(V[1]+fn[1])/2]}else if($.touch0)Y=$.touch0[0],F=$.touch0[1];else return;$.zoom("touch",e(_(L,Y,F),$.extent,a))}}function k(x,...T){if(this.__zooming){var $=M(this,T).event(x),R=x.changedTouches,D=R.length,N,L;for(Uo(x),s&&clearTimeout(s),s=setTimeout(function(){s=null},d),N=0;N<D;++N)L=R[N],$.touch0&&$.touch0[2]===L.identifier?delete $.touch0:$.touch1&&$.touch1[2]===L.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(L=jn(L,this),Math.hypot(h[0]-L[0],h[1]-L[1])<g)){var Y=In(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return m.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:Or(+x),m):r},m.filter=function(x){return arguments.length?(n=typeof x=="function"?x:Or(!!x),m):n},m.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:Or(!!x),m):i},m.extent=function(x){return arguments.length?(t=typeof x=="function"?x:Or([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),m):t},m.scaleExtent=function(x){return arguments.length?(o[0]=+x[0],o[1]=+x[1],m):[o[0],o[1]]},m.translateExtent=function(x){return arguments.length?(a[0][0]=+x[0][0],a[1][0]=+x[1][0],a[0][1]=+x[0][1],a[1][1]=+x[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(x){return arguments.length?(e=x,m):e},m.duration=function(x){return arguments.length?(u=+x,m):u},m.interpolate=function(x){return arguments.length?(f=x,m):f},m.on=function(){var x=c.on.apply(c,arguments);return x===c?m:x},m.clickDistance=function(x){return arguments.length?(b=(x=+x)*x,m):Math.sqrt(b)},m.tapDistance=function(x){return arguments.length?(g=+x,m):g},m}const n8=Object.freeze(Object.defineProperty({__proto__:null,Adder:yn,Delaunay:Ja,FormatSpecifier:H0,InternMap:Je,InternSet:Yt,Node:qt,Path:gr,Voronoi:Bs,ZoomTransform:Yr,active:Lg,arc:r0,area:o0,areaRadial:Ic,ascending:bn,autoType:up,axisBottom:Hd,axisLeft:Wd,axisRight:Bd,axisTop:qd,bin:Gu,bisect:xe,bisectCenter:W0,bisectLeft:G0,bisectRight:X0,bisector:jc,blob:sp,blur:q1,blur2:Jc,blurImage:B1,brush:Zg,brushSelection:Xg,brushX:jg,brushY:Vg,buffer:hp,chord:Kg,chordDirected:n2,chordTranspose:Jg,cluster:Xm,color:j0,contourDensity:$2,contours:Jo,count:Ni,create:Gd,creator:qc,cross:Z1,csv:pp,csvFormat:Z2,csvFormatBody:Q2,csvFormatRow:J2,csvFormatRows:K2,csvFormatValue:np,csvParse:Ws,csvParseRows:V2,cubehelix:Kn,cumsum:Q1,curveBasis:_5,curveBasisClosed:v5,curveBasisOpen:w5,curveBumpX:c0,curveBumpY:s0,curveBundle:M5,curveCardinal:x5,curveCardinalClosed:S5,curveCardinalOpen:T5,curveCatmullRom:$5,curveCatmullRomClosed:A5,curveCatmullRomOpen:E5,curveLinear:no,curveLinearClosed:P5,curveMonotoneX:C5,curveMonotoneY:k5,curveNatural:R5,curveStep:N5,curveStepAfter:z5,curveStepBefore:I5,descending:V0,deviation:es,difference:Cd,disjoint:kd,dispatch:Ra,drag:Z0,dragDisable:Na,dragEnable:Ia,dsv:gp,dsvFormat:Oi,easeBack:of,easeBackIn:Ig,easeBackInOut:of,easeBackOut:zg,easeBounce:rr,easeBounceIn:Rg,easeBounceInOut:Ng,easeBounceOut:rr,easeCircle:rf,easeCircleIn:Mg,easeCircleInOut:rf,easeCircleOut:xg,easeCubic:Qr,easeCubicIn:Q0,easeCubicInOut:Qr,easeCubicOut:K0,easeElastic:Wu,easeElasticIn:J0,easeElasticInOut:n1,easeElasticOut:Wu,easeExp:ef,easeExpIn:vg,easeExpInOut:ef,easeExpOut:wg,easeLinear:dg,easePoly:nf,easePolyIn:mg,easePolyInOut:nf,easePolyOut:bg,easeQuad:Ju,easeQuadIn:gg,easeQuadInOut:Ju,easeQuadOut:pg,easeSin:tf,easeSinIn:yg,easeSinInOut:tf,easeSinOut:_g,every:Sd,extent:Xe,fcumsum:J1,filter:$d,flatGroup:nd,flatRollup:td,forceCenter:xp,forceCollide:t1,forceLink:Tp,forceManyBody:e1,forceRadial:$p,forceSimulation:r1,forceX:i1,forceY:o1,get format(){return Da},formatDefaultLocale:a1,formatLocale:u1,get formatPrefix(){return f1},formatSpecifier:Gc,fsum:K1,geoAlbers:El,geoAlbersUsa:Tm,geoArea:Cp,geoAzimuthalEqualArea:$m,geoAzimuthalEqualAreaRaw:su,geoAzimuthalEquidistant:Am,geoAzimuthalEquidistantRaw:lu,geoBounds:Ip,geoCentroid:Up,geoCircle:Fp,geoClipAntimeridian:ha,geoClipCircle:hl,geoClipExtent:jp,geoClipRectangle:Ui,geoConicConformal:Pm,geoConicConformalRaw:kl,geoConicEqualArea:Ti,geoConicEqualAreaRaw:Al,geoConicEquidistant:km,geoConicEquidistantRaw:Rl,geoContains:tm,geoDistance:bi,geoEqualEarth:Nm,geoEqualEarthRaw:hu,geoEquirectangular:Cm,geoEquirectangularRaw:cr,geoGnomonic:Im,geoGnomonicRaw:du,geoGraticule:pl,geoGraticule10:em,geoIdentity:zm,geoInterpolate:rm,geoLength:dl,geoMercator:Em,geoMercatorRaw:_r,geoNaturalEarth1:Dm,geoNaturalEarth1Raw:gu,geoOrthographic:Lm,geoOrthographicRaw:pu,geoPath:pm,geoProjection:ft,geoProjectionMutator:fu,geoRotation:al,geoStereographic:Om,geoStereographicRaw:mu,geoStream:Vn,geoTransform:mm,geoTransverseMercator:Ym,geoTransverseMercatorRaw:bu,gray:Qd,greatest:ds,greatestIndex:yd,group:as,groupSort:id,groups:us,hcl:ti,hierarchy:yu,histogram:Gu,hsl:qo,html:wp,image:bp,index:ed,indexes:rd,interpolate:hr,interpolateArray:c1,interpolateBasis:s1,interpolateBasisClosed:l1,interpolateBlues:$6,interpolateBrBG:o6,interpolateBuGn:g6,interpolateBuPu:p6,interpolateCividis:R6,interpolateCool:z6,interpolateCubehelix:sg,interpolateCubehelixDefault:N6,interpolateCubehelixLong:Li,interpolateDate:h1,interpolateDiscrete:ng,interpolateGnBu:m6,interpolateGreens:A6,interpolateGreys:E6,interpolateHcl:fg,interpolateHclLong:cg,interpolateHsl:og,interpolateHslLong:ag,interpolateHue:tg,interpolateInferno:B6,interpolateLab:ug,interpolateMagma:q6,interpolateNumber:d1,interpolateNumberArray:g1,interpolateObject:p1,interpolateOrRd:b6,interpolateOranges:k6,interpolatePRGn:a6,interpolatePiYG:u6,interpolatePlasma:H6,interpolatePuBu:_6,interpolatePuBuGn:y6,interpolatePuOr:f6,interpolatePuRd:v6,interpolatePurples:P6,interpolateRainbow:D6,interpolateRdBu:c6,interpolateRdGy:s6,interpolateRdPu:w6,interpolateRdYlBu:l6,interpolateRdYlGn:h6,interpolateReds:C6,interpolateRgb:m1,interpolateRgbBasis:Zc,interpolateRgbBasisClosed:b1,interpolateRound:La,interpolateSinebow:Y6,interpolateSpectral:d6,interpolateString:y1,interpolateTransformCss:_1,interpolateTransformSvg:v1,interpolateTurbo:U6,interpolateViridis:F6,interpolateWarm:I6,interpolateYlGn:x6,interpolateYlGnBu:M6,interpolateYlOrBr:S6,interpolateYlOrRd:T6,interpolateZoom:Rs,interrupt:fe,intersection:Rd,interval:hg,isoFormat:O3,isoParse:F3,json:_p,lab:ni,lch:Kd,least:bd,leastIndex:ms,line:zu,lineRadial:Nc,link:to,linkHorizontal:u5,linkRadial:c5,linkVertical:f5,local:vs,map:Ad,matcher:w1,max:nr,maxIndex:Ba,mean:cd,median:sd,medianIndex:ld,merge:Wa,min:Kr,minIndex:Ha,mode:dd,namespace:M1,namespaces:x1,nice:Fa,now:Hc,pack:xb,packEnclose:bb,packSiblings:wb,pairs:gd,partition:Sb,path:Ka,pathRound:r2,permute:hs,pie:e5,piecewise:Ds,pointRadial:We,pointer:jn,pointers:jd,polygonArea:Ub,polygonCentroid:Fb,polygonContains:Wb,polygonHull:Hb,polygonLength:Gb,precisionFixed:S1,precisionPrefix:T1,precisionRound:$1,quadtree:A1,quantile:tr,quantileIndex:ps,quantileSorted:gs,quantize:lg,quickselect:Ii,radialArea:Ic,radialLine:Nc,randomBates:Zb,randomBernoulli:Jb,randomBeta:Wl,randomBinomial:Gl,randomCauchy:ty,randomExponential:Qb,randomGamma:wu,randomGeometric:Hl,randomInt:jb,randomIrwinHall:Bl,randomLcg:ay,randomLogNormal:Vb,randomLogistic:ey,randomNormal:vu,randomPareto:Kb,randomPoisson:ry,randomUniform:Xb,randomWeibull:ny,range:$t,rank:md,reduce:Ed,reverse:Pd,rgb:Qc,ribbon:l2,ribbonArrow:h2,rollup:cs,rollups:ss,scaleBand:xu,scaleDiverging:Ah,scaleDivergingLog:Eh,scaleDivergingPow:Ru,scaleDivergingSqrt:X3,scaleDivergingSymlog:Ph,scaleIdentity:jl,scaleImplicit:$a,scaleLinear:Kc,scaleLog:Zl,scaleOrdinal:Mu,scalePoint:uy,scalePow:E1,scaleQuantile:Jl,scaleQuantize:nh,scaleRadial:Kl,scaleSequential:xh,scaleSequentialLog:Sh,scaleSequentialPow:ku,scaleSequentialQuantile:$h,scaleSequentialSqrt:G3,scaleSequentialSymlog:Th,scaleSqrt:P1,scaleSymlog:Ql,scaleThreshold:th,scaleTime:H3,scaleUtc:W3,scan:_d,schemeAccent:V3,schemeBlues:Qh,schemeBrBG:Ch,schemeBuGn:Yh,schemeBuPu:Uh,schemeCategory10:j3,schemeDark2:Z3,schemeGnBu:Fh,schemeGreens:Kh,schemeGreys:Jh,schemeObservable10:Q3,schemeOrRd:qh,schemeOranges:e0,schemePRGn:kh,schemePaired:K3,schemePastel1:J3,schemePastel2:n6,schemePiYG:Rh,schemePuBu:Hh,schemePuBuGn:Bh,schemePuOr:Nh,schemePuRd:Wh,schemePurples:n0,schemeRdBu:Ih,schemeRdGy:zh,schemeRdPu:Gh,schemeRdYlBu:Dh,schemeRdYlGn:Lh,schemeReds:t0,schemeSet1:t6,schemeSet2:e6,schemeSet3:r6,schemeSpectral:Oh,schemeTableau10:i6,schemeYlGn:jh,schemeYlGnBu:Xh,schemeYlOrBr:Vh,schemeYlOrRd:Zh,select:In,selectAll:Vd,selection:C1,selector:k1,selectorAll:R1,shuffle:vd,shuffler:bs,some:Td,sort:Go,stack:O5,stackOffsetDiverging:U5,stackOffsetExpand:Y5,stackOffsetNone:we,stackOffsetSilhouette:F5,stackOffsetWiggle:q5,stackOrderAppearance:I0,stackOrderAscending:z0,stackOrderDescending:H5,stackOrderInsideOut:W5,stackOrderNone:Me,stackOrderReverse:G5,stratify:Eb,style:N1,subset:Id,sum:wd,superset:_s,svg:Mp,symbol:y5,symbolAsterisk:l0,symbolCircle:eo,symbolCross:h0,symbolDiamond:g0,symbolDiamond2:p0,symbolPlus:m0,symbolSquare:b0,symbolSquare2:y0,symbolStar:v0,symbolTimes:Ea,symbolTriangle:w0,symbolTriangle2:M0,symbolWye:x0,symbolX:Ea,symbols:zc,symbolsFill:zc,symbolsStroke:b5,text:Yi,thresholdFreedmanDiaconis:ud,thresholdScott:fd,thresholdSturges:qa,tickFormat:I1,tickIncrement:Vr,tickStep:Ho,ticks:he,timeDay:Ae,timeDays:yy,get timeFormat(){return Eu},timeFormatDefaultLocale:wh,timeFormatLocale:ph,timeFriday:ih,timeFridays:Ty,timeHour:Wi,timeHours:my,timeInterval:mn,timeMillisecond:ye,timeMilliseconds:mc,timeMinute:Bi,timeMinutes:gy,timeMonday:sr,timeMondays:wy,timeMonth:Xi,timeMonths:Ny,get timeParse(){return vh},timeSaturday:oh,timeSaturdays:$y,timeSecond:mt,timeSeconds:yc,timeSunday:_e,timeSundays:_c,timeThursday:Bt,timeThursdays:Sy,timeTickInterval:gh,timeTicks:dh,timeTuesday:eh,timeTuesdays:My,timeWednesday:rh,timeWednesdays:xy,timeWeek:_e,timeWeeks:_c,timeYear:ot,timeYears:zy,timeout:z1,timer:D1,timerFlush:L1,transition:O1,transpose:ys,tree:zb,treemap:Db,treemapBinary:Lb,treemapDice:vr,treemapResquarify:Yb,treemapSlice:qi,treemapSliceDice:Ob,treemapSquarify:ql,tsv:mp,tsvFormat:ep,tsvFormatBody:rp,tsvFormatRow:op,tsvFormatRows:ip,tsvFormatValue:ap,tsvParse:Gs,tsvParseRows:tp,union:zd,unixDay:Au,unixDays:vy,utcDay:wr,utcDays:_y,get utcFormat(){return Vi},utcFriday:fh,utcFridays:ky,utcHour:Gi,utcHours:by,utcMillisecond:ye,utcMilliseconds:mc,utcMinute:Hi,utcMinutes:py,utcMonday:lr,utcMondays:Ay,utcMonth:ji,utcMonths:Iy,get utcParse(){return Pu},utcSaturday:ch,utcSaturdays:Ry,utcSecond:mt,utcSeconds:yc,utcSunday:ve,utcSundays:vc,utcThursday:Ht,utcThursdays:Cy,utcTickInterval:hh,utcTicks:lh,utcTuesday:ah,utcTuesdays:Ey,utcWednesday:uh,utcWednesdays:Py,utcWeek:ve,utcWeeks:vc,utcYear:at,utcYears:Dy,variance:ts,window:Y1,xml:vp,zip:xd,zoom:J5,zoomIdentity:Oa,zoomTransform:U1},Symbol.toStringTag,{value:"Module"}));function a8(n){try{return n.node().getBBox()}catch(t){throw new Error(t)}}function u8(n,t){function e(i){var u;const o=document.createElementNS("http://www.w3.org/1999/xhtml","div");o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+i+"</svg>";const a=document.createDocumentFragment();for(;a&&((u=o==null?void 0:o.firstChild)!=null&&u.firstChild);)a.appendChild(o.firstChild.firstChild);return a}const r=n.node();for(;r.hasChildNodes();)r.removeChild(r.firstChild);n.node().appendChild(e(t))}function f8(n){return n.substring(0,4)!=="ease"?Qr:n8[n]??Qr}function c8({axisWidth:n,innerRadius:t,outerRadius:e,padAngle:r,cornerRadius:i}){const o=Kc().domain([0,1]).range([0,n/2]),a=o(e);return r0().innerRadius(o(t)).outerRadius(a).padAngle(r).padRadius(a).cornerRadius(i)}const s8=(n,t)=>t instanceof Function?t(n):Da(t)(n);function t8(n,t=10){var i;const e=document.createElement("canvas").getContext("2d");return(((i=e==null?void 0:e.measureText(n))==null?void 0:i.width)??0)*t/10}function e8(n){const t=[0,0];return n.length?n.reduce((r,i)=>[i<r[0]?i:r[0],i>r[1]?i:r[1]],[n[0],n[0]]):t}function l8(n){const t=n.filter(e=>e.value!=null&&e.visible!=!1).map(e=>e.value);return e8(t)}function Fc(n,t){const e=t.colors[t.colorScheme];return n==="series"?e.series[0]:n=="none"?"none":e[n]!=null?e[n]:e.primary}function r8(n,t){const e=n<t.colors[t.colorScheme].series.length?n:n%t.colors[t.colorScheme].series.length;return t.colors[t.colorScheme].series[e]}function h8({datum:n,colorType:t,fullChartParams:e}){return t==="series"?n.color?n.color:e.colors[e.colorScheme].series[0]:t=="none"?"none":e.colors[e.colorScheme][t]!=null?e.colors[e.colorScheme][t]:e.colors[e.colorScheme].primary}function Ge(n,t,e){const r=e?`--${e}`:"";return`orbcharts-${n}__${t}${r}`}function d8(n,t){const r=Math.random().toString(36).substr(2,5);return Ge(n,t,r)}const g8=(n,{rootSelection:t,seriesLabels$:e,fullParams$:r,layout$:i,fullChartParams$:o})=>{const a=Ge(n,"root-position"),u=Ge(n,"legend-card"),f=Ge(n,"legend-list"),c=Ge(n,"legend-item"),l=new F1,h=r.pipe(Jn(l),nt(y=>y.position==="bottom"||y.position==="top"?"row":"column")),s=Mt({fullParams:r,layout:i}).pipe(Jn(l),xt(async y=>y),nt(y=>{const M=y.fullParams.padding*2+y.fullParams.gap*2;return y.fullParams.position==="bottom"||y.fullParams.position==="top"?y.layout.rootWidth-M:y.layout.rootHeight-M})),p=Mt({layout:i,fullParams:r}).pipe(Jn(l),xt(async y=>y),nt(y=>{let M=0,S=0;return y.fullParams.position==="bottom"?(S=y.layout.rootHeight,y.fullParams.justify==="start"?M=0:y.fullParams.justify==="center"?M=y.layout.rootWidth/2:y.fullParams.justify==="end"&&(M=y.layout.rootWidth)):y.fullParams.position==="right"?(M=y.layout.rootWidth,y.fullParams.justify==="start"?S=0:y.fullParams.justify==="center"?S=y.layout.rootHeight/2:y.fullParams.justify==="end"&&(S=y.layout.rootHeight)):y.fullParams.position==="top"?(S=0,y.fullParams.justify==="start"?M=0:y.fullParams.justify==="center"?M=y.layout.rootWidth/2:y.fullParams.justify==="end"&&(M=y.layout.rootWidth)):y.fullParams.position==="left"&&(M=0,y.fullParams.justify==="start"?S=0:y.fullParams.justify==="center"?S=y.layout.rootHeight/2:y.fullParams.justify==="end"&&(S=y.layout.rootHeight)),{x:M,y:S}})).pipe(Jn(l),nt(y=>t.selectAll(`g.${a}`).data([y]).join(M=>M.append("g").classed(a,!0).attr("transform",S=>`translate(${S.x}, ${S.y})`),M=>M.transition().attr("transform",S=>`translate(${S.x}, ${S.y})`),M=>M.remove()))),b=Mt({fullParams:r,fullChartParams:o,seriesLabels:e,lineDirection:h,lineMaxSize:s}).pipe(Jn(l),xt(async y=>y),nt(y=>y.seriesLabels.reduce((M,S,E)=>{const A=t8(S,y.fullChartParams.styles.textSize),P=y.fullChartParams.styles.textSize*1.5+A,C=r8(E,y.fullChartParams),I=M[0]&&M[0][0]?M[M.length-1][M[M.length-1].length-1]:null,{translateX:k,translateY:x,lineIndex:T,itemIndex:$}=((R,D,N)=>{let L=0,Y=0,F=0,J=0;if(R.lineDirection==="column"){let V=N?N.translateY+R.fullChartParams.styles.textSize+R.fullParams.gap:0;if(V+R.fullChartParams.styles.textSize>R.lineMaxSize){F=N.lineIndex+1,J=0,Y=0;const K=D[D.length-1].reduce((fn,tn)=>tn.itemWidth>fn?tn.itemWidth:fn,0);L=N.translateX+K+R.fullParams.gap}else F=N?N.lineIndex:0,J=N?N.itemIndex+1:0,Y=V,L=N?N.translateX:0}else{let V=N?N.translateX+N.itemWidth+R.fullParams.gap:0;V+P>R.lineMaxSize?(F=N.lineIndex+1,J=0,L=0):(F=N?N.lineIndex:0,J=N?N.itemIndex+1:0,L=V),Y=(R.fullChartParams.styles.textSize+R.fullParams.gap)*F}return{translateX:L,translateY:Y,lineIndex:F,itemIndex:J}})(y,M,I);return M[T]||(M[T]=[]),M[T].push({id:S,seriesLabel:S,seriesIndex:E,lineIndex:T,itemIndex:$,text:S,itemWidth:P,translateX:k,translateY:x,color:C}),console.log("items",M),M},[]))),g=Mt({fullParams:r,fullChartParams:o,lineDirection:h,lengendItems:b}).pipe(Jn(l),xt(async y=>y),nt(y=>{const{width:M,height:S}=((E,A)=>{let P=0,C=0;if(!A.length||!A[0].length)return{width:P,height:C};const I=A[0][A[0].length-1];return E.lineDirection==="column"?(P=A.reduce((k,x)=>{const T=x.reduce(($,R)=>R.itemWidth>$?R.itemWidth:$,0);return k+T},0),P+=E.fullParams.gap*(A.length-1),C=I.translateY+E.fullChartParams.styles.textSize):(P=I.translateX+I.itemWidth,C=E.fullChartParams.styles.textSize*A.length+E.fullParams.gap*(A.length-1)),{width:P,height:C}})(y,y.lengendItems);return{direction:y.lineDirection,width:M,height:S,translateX:y.fullParams.gap,translateY:y.fullParams.gap}})),m=Mt({fullParams:r,lengendList:g}).pipe(Jn(l),xt(async y=>y),nt(y=>{const M=y.lengendList.width+y.fullParams.gap*2,S=y.lengendList.height+y.fullParams.gap*2;let E=0,A=0;return y.fullParams.position==="left"?y.fullParams.justify==="start"?(E=y.fullParams.padding,A=y.fullParams.padding):y.fullParams.justify==="center"?(E=y.fullParams.padding,A=-S/2):y.fullParams.justify==="end"&&(E=y.fullParams.padding,A=-S-y.fullParams.padding):y.fullParams.position==="right"?y.fullParams.justify==="start"?(E=-M-y.fullParams.padding,A=y.fullParams.padding):y.fullParams.justify==="center"?(E=-M-y.fullParams.padding,A=-S/2):y.fullParams.justify==="end"&&(E=-M-y.fullParams.padding,A=-S-y.fullParams.padding):y.fullParams.position==="top"?y.fullParams.justify==="start"?(E=y.fullParams.padding,A=y.fullParams.padding):y.fullParams.justify==="center"?(E=-M/2,A=y.fullParams.padding):y.fullParams.justify==="end"&&(E=-M-y.fullParams.padding,A=y.fullParams.padding):y.fullParams.justify==="start"?(E=y.fullParams.padding,A=-S-y.fullParams.padding):y.fullParams.justify==="center"?(E=-M/2,A=-S-y.fullParams.padding):y.fullParams.justify==="end"&&(E=-M-y.fullParams.padding,A=-S-y.fullParams.padding),{width:M,height:S,translateX:E,translateY:A}})),w=Mt({rootPositionSelection:p,fullParams:r,fullChartParams:o,legendCard:m}).pipe(Jn(l),xt(async y=>y),nt(y=>y.rootPositionSelection.selectAll("g").data([y.legendCard]).join(M=>M.append("g").classed(u,!0).attr("transform",S=>`translate(${S.translateX}, ${S.translateY})`),M=>M.transition().attr("transform",S=>`translate(${S.translateX}, ${S.translateY})`),M=>M.remove()).each((M,S,E)=>{In(E[S]).selectAll("rect").data([M]).join("rect").attr("width",A=>A.width).attr("height",A=>A.height).attr("fill",Fc(y.fullParams.backgroundFill,y.fullChartParams)).attr("stroke",Fc(y.fullParams.backgroundStroke,y.fullChartParams))}))),_=Mt({lengendCardSelection:w,fullParams:r,lengendList:g}).pipe(Jn(l),xt(async y=>y),nt(y=>y.lengendCardSelection.selectAll("g").data([y.lengendList]).join(M=>M.append("g").classed(f,!0).attr("transform",S=>`translate(${S.translateX}, ${S.translateY})`),M=>M.transition().attr("transform",S=>`translate(${S.translateX}, ${S.translateY})`),M=>M.remove())));return Mt({lengendListSelection:_,fullParams:r,fullChartParams:o,lengendItems:b}).pipe(Jn(l),xt(async y=>y),nt(y=>{const M=y.lengendItems[0]?y.lengendItems.flat():[];return y.lengendListSelection.selectAll(`g.${c}`).data(M).join(S=>S.append("g").classed(c,!0).attr("cursor","default"),S=>S,S=>S.remove()).attr("transform",(S,E)=>`translate(${S.translateX}, ${S.translateY})`).each((S,E,A)=>{const P=y.fullChartParams.styles.textSize/2,C=y.fullParams.listRectWidth,I=y.fullParams.listRectHeight;In(A[E]).selectAll("rect").data([S]).join("rect").attr("x",P).attr("y",P).attr("width",C).attr("height",I).attr("transform",`translate(${-C/2}, ${-I/2})`).attr("fill",k=>k.color).attr("rx",y.fullParams.listRectRadius),In(A[E]).selectAll("text").data([S]).join(k=>k.append("text").attr("dominant-baseline","hanging"),k=>k,k=>k.remove()).attr("x",y.fullChartParams.styles.textSize*1.5).attr("font-size",y.fullChartParams.styles.textSize).text(k=>k.text)})})).subscribe(),()=>{l.next(void 0)}};export{h8 as a,Ge as b,Fc as c,qd as d,Wd as e,l8 as f,d8 as g,e8 as h,u8 as i,a8 as j,f8 as k,c8 as l,t8 as m,uy as n,zu as o,s8 as p,n8 as q,g8 as r,e5 as s,J5 as z};
