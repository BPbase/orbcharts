import{aj as O,S as P,Z as X,N as q,t as S,s as b,m as y,h as v,o as x,p as C,Q as j,_ as k,i as z,ak as H,al as W,am as F,P as B}from"./Cs0Bj4Sj.js";import{s as T,m as G}from"./1EbxBTk9.js";import{m as V,g as w,a as Y,b as _}from"./T4xlXSKD.js";import{f as J}from"./kl5w2QSj.js";var I=function(g){O(e,g);function e(u){var r=g.call(this)||this;return r._value=u,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(u){var r=g.prototype._subscribe.call(this,u);return!r.closed&&u.next(this._value),r},e.prototype.getValue=function(){var u=this,r=u.hasError,s=u.thrownError,c=u._value;if(r)throw s;return this._throwIfClosed(),c},e.prototype.next=function(u){g.prototype.next.call(this,this._value=u)},e}(P);const L="PieLabels",U=w(L,"label-g"),Q=w(L,"line-g"),Z=w(L,"text"),M=2;function K({pieData:g,arc:e,arcMouseover:u,labelCentroid:r,lineStartCentroid:s,fullParams:c}){return g.map((t,n)=>{const[i,o]=e.centroid(t),[h,l]=u.centroid(t),f=c.labelFn(t.data);return{pieDatum:t,arcIndex:n,arcLabels:f.split(`
`),lineStartX:i*s,lineStartY:o*s,lineStartMouseoverX:h*s,lineStartMouseoverY:l*s,x:i*r,y:o*r,mouseoverX:h*r,mouseoverY:l*r,textWidth:0,collisionShiftX:0,collisionShiftY:0,quadrant:i>=0&&o<=0?1:i<0&&o<=0?2:i<0&&o>0?3:4}}).filter(t=>t.pieDatum.data.visible)}function tt({labelGSelection:g,data:e,fullParams:u,fullChartParams:r,textSizePx:s}){const c=g.selectAll("text").data(e,t=>t.pieDatum.id).join("text").classed(Z,!0).attr("font-weight","bold").attr("text-anchor",t=>t.quadrant==1||t.quadrant==4?"start":"end").style("dominant-baseline",t=>t.quadrant==1||t.quadrant==2?"auto":"hanging").style("cursor",t=>r.highlightTarget&&r.highlightTarget!="none"?"pointer":"none").attr("font-size",r.styles.textSize).attr("x",0).attr("y",0).attr("fill",(t,n)=>Y({datum:t.pieDatum.data,colorType:u.labelColorType,fullChartParams:r})).each((t,n,i)=>{b(i[n]).selectAll("tspan").data(t.arcLabels).join("tspan").attr("x",0).attr("y",(o,h)=>t.quadrant==1||t.quadrant==2?-(t.arcLabels.length-1-h)*s:h*s).text(o=>o)});return c.transition().attr("transform",t=>"translate("+t.x+","+t.y+")"),c}function et(g,e,u){const r=g.nodes(),s=u,c=r.map((t,n)=>{const i=t.getBBox(),o=[e[n].x,e[n].y];return{node:t,x:o[0],y:o[1],width:i.width,height:i.height}});for(let t=0;t<c.length;t++){const n=c[t];for(let i=t+1;i<c.length;i++){const o=c[i];e[t].textWidth=n.width;const h=n.x+e[t].collisionShiftX,l=n.y+e[t].collisionShiftY,f=o.x+e[i].collisionShiftX,a=o.y+e[i].collisionShiftY;if(!(h+n.width/2<f-o.width/2||h-n.width/2>f+o.width/2||l+n.height/2<a-o.height/2||l-n.height/2>a+o.height/2)){if(e[i].quadrant==2){const p=a>l?-s*2:-s;e[i].collisionShiftY+=p}else if(e[i].quadrant==4){const p=a>l?s:s*2;e[i].collisionShiftY+=p}}}}for(let t=c.length-1;t>=0;t--){const n=c[t];for(let i=t-1;i>=0;i--){const o=c[i];e[t].textWidth=n.width;const h=n.x+e[t].collisionShiftX,l=n.y+e[t].collisionShiftY,f=o.x+e[i].collisionShiftX,a=o.y+e[i].collisionShiftY;if(!(h+n.width/2<f-o.width/2||h-n.width/2>f+o.width/2||l+n.height/2<a-o.height/2||l-n.height/2>a+o.height/2)){if(e[i].quadrant==1){const p=a>l?-s*2:-s;e[i].collisionShiftY+=p}else if(e[i].quadrant==3){const p=a>l?s:s*2;e[i].collisionShiftY+=p}}}}g.data(e).transition().attr("transform",t=>`translate(${t.x+t.collisionShiftX},${t.y+t.collisionShiftY})`)}function it({lineGSelection:g,data:e,fullParams:u,fullChartParams:r}){const s=e.filter(t=>t.collisionShiftX||t.collisionShiftY),c=g.selectAll("polyline").data(s,t=>t.pieDatum.id).join("polyline").attr("stroke",t=>Y({datum:t.pieDatum.data,colorType:u.labelColorType,fullChartParams:r})).attr("stroke-width",1).attr("fill","none").attr("points",t=>[[t.lineStartX,t.lineStartY],[t.lineStartX,t.lineStartY]]);return c.transition().attr("points",t=>{let n=t.x+t.collisionShiftX,i=t.y+t.collisionShiftY;return[[n,i],[t.lineStartX,t.lineStartY]]}),c}function at({textSelection:g,lineSelection:e,ids:u,fullChartParams:r}){if(g.interrupt("highlight"),e.interrupt("highlight"),!u.length){g.transition("highlight").duration(200).attr("transform",s=>`translate(${s.x+s.collisionShiftX},${s.y+s.collisionShiftY})`).style("opacity",1),e.transition("highlight").duration(200).style("opacity",1);return}g.each((s,c,t)=>{const n=b(t[c]);u.includes(s.pieDatum.id)?n.style("opacity",1).transition("highlight").duration(200).attr("transform",i=>i.collisionShiftX||i.collisionShiftY?`translate(${i.x+i.collisionShiftX},${i.y+i.collisionShiftY})`:`translate(${i.mouseoverX+i.collisionShiftX},${i.mouseoverY+i.collisionShiftY})`):n.style("opacity",r.styles.unhighlightedOpacity).transition("highlight").duration(200).attr("transform",i=>`translate(${i.x+i.collisionShiftX},${i.y+i.collisionShiftY})`)}),e.each((s,c,t)=>{const n=b(t[c]);u.includes(s.pieDatum.data.id)?n.style("opacity",1).transition("highlight").duration(200):n.style("opacity",r.styles.unhighlightedOpacity).transition("highlight").duration(200)})}function nt(g,e){const u=new P;e.containerSelection.selectAll("g").remove();const r=e.containerSelection.append("g");r.classed(Q,!0);const s=e.containerSelection.append("g");s.classed(U,!0);const c=new P,t=new P;let n=[];const i=e.seriesContainerPosition$.pipe(S(u),y(h=>h.width<h.height?h.width:h.height),v()),o=e.fullParams$.pipe(S(u),y(h=>h.labelCentroid>=M?M:h.labelCentroid));return x({shorterSideWith:i,containerVisibleComputedLayoutData:e.containerVisibleComputedLayoutData$,fullParams:e.fullParams$,fullChartParams:e.fullChartParams$,textSizePx:e.textSizePx$,lineStartCentroid:o}).pipe(S(u),C(async h=>h)).subscribe(h=>{const l=V({axisWidth:h.shorterSideWith,innerRadius:0,outerRadius:h.fullParams.outerRadius,padAngle:0,cornerRadius:0}),f=V({axisWidth:h.shorterSideWith,innerRadius:0,outerRadius:h.fullParams.outerRadiusWhileHighlight,padAngle:0,cornerRadius:0}),a=G({data:h.containerVisibleComputedLayoutData,startAngle:h.fullParams.startAngle,endAngle:h.fullParams.endAngle});n=K({pieData:a,arc:l,arcMouseover:f,labelCentroid:h.fullParams.labelCentroid,lineStartCentroid:h.lineStartCentroid,fullParams:h.fullParams}),r.selectAll("polyline").remove();const p=tt({labelGSelection:s,data:n,fullParams:h.fullParams,fullChartParams:h.fullChartParams,textSizePx:h.textSizePx});setTimeout(()=>{et(p,n,h.textSizePx);const m=it({lineGSelection:r,data:n,fullParams:h.fullParams,fullChartParams:h.fullChartParams});t.next(m)},1e3),c.next(p)}),x({textSelection:c,lineSelection:t,highlight:e.seriesHighlight$.pipe(y(h=>h.map(l=>l.id))),fullChartParams:e.fullChartParams$}).pipe(S(u),C(async h=>h)).subscribe(h=>{at({textSelection:h.textSelection,lineSelection:h.lineSelection,ids:h.highlight,fullChartParams:h.fullChartParams})}),()=>{u.next(void 0)}}const xt=X(L,q)(({selection:g,observer:e,subject:u})=>{const r=new P,{seriesCenterSelection$:s}=T({selection:g,pluginName:L,separateSeries$:e.separateSeries$,seriesLabels$:e.seriesLabels$,seriesContainerPosition$:e.seriesContainerPosition$}),c=[];return s.pipe(S(r)).subscribe(t=>{c.forEach(n=>n()),t.each((n,i,o)=>{const h=b(o[i]),l=e.visibleComputedLayoutData$.pipe(S(r),y(a=>a[i]??a[0])),f=e.seriesContainerPosition$.pipe(S(r),y(a=>a[i]??a[0]));c[i]=nt(L,{containerSelection:h,containerVisibleComputedLayoutData$:l,fullParams$:e.fullParams$,fullChartParams$:e.fullChartParams$,textSizePx$:e.textSizePx$,seriesHighlight$:e.seriesHighlight$,seriesContainerPosition$:f,event$:u.event$})})}),()=>{r.next(void 0)}}),R="Rose",st=Math.PI*2;function lt({cornerRadius:g,outerRadius:e,axisWidth:u,maxValue:r,arcScaleType:s,fullParams:c}){const t=u/2*e,n=s==="area"?.5:1,i=W().domain([0,r]).range([0,t]).exponent(n);return o=>{const h=i(o.prevValue),l=i(o.value),f=F(h,l);return a=>{const p=f(a);return _().innerRadius(0).outerRadius(p).padAngle(c.padAngle).padRadius(p).cornerRadius(g)(o)}}}function rt({pathSelection:g,ids:e,fullParams:u,fullChartParams:r,tweenArc:s}){if(g.interrupt("highlight"),!e.length){g.transition("highlight").style("opacity",1).attr("d",c=>s(c)(1));return}g.each((c,t,n)=>{const i=b(n[t]);e.includes(c.data.id)?i.style("opacity",1).transition("highlight").ease(H).duration(500).attr("d",o=>s({...o,startAngle:o.startAngle-u.angleIncreaseWhileHighlight,endAngle:o.endAngle+u.angleIncreaseWhileHighlight})(1)):i.style("opacity",r.styles.unhighlightedOpacity).transition("highlight").attr("d",o=>s(o)(1))})}function ot(g,e){const u=new P,r=w(g,"path");let s=[];const c=e.seriesContainerPosition$.pipe(S(u),y(a=>a.width<a.height?a.width:a.height),v()),t=x({containerVisibleComputedLayoutData:e.containerVisibleComputedLayoutData$,fullParams:e.fullParams$}).pipe(S(u),C(async a=>a),y(a=>{const p=st/a.containerVisibleComputedLayoutData.length;return a.containerVisibleComputedLayoutData.map((m,$)=>({id:m.id,data:m,index:$,value:m.value,startAngle:p*$,endAngle:p*($+1),padAngle:a.fullParams.padAngle,prevValue:s[$]&&s[$].id===m.id?s[$].value:0}))})),n=e.fullChartParams$.pipe(S(u),y(a=>a.highlightTarget),v()),i=e.visibleComputedLayoutData$.pipe(y(a=>Math.max(...a.flat().map(p=>p.value))),v()),o=x({fullParams:e.fullParams$,axisWidth:c,maxValue:i}).pipe(S(u),C(async a=>a),y(a=>lt({cornerRadius:a.fullParams.cornerRadius,outerRadius:a.fullParams.outerRadius,axisWidth:a.axisWidth,maxValue:a.maxValue,arcScaleType:a.fullParams.arcScaleType,fullParams:a.fullParams}))),h=e.fullChartParams$.pipe(S(u),y(a=>a.transitionDuration),v()),l=new I(!1),f=new k(a=>{x({pieData:t,tweenArc:o,transitionDuration:h,fullParams:e.fullParams$,fullChartParams:e.fullChartParams$}).pipe(S(u),C(async p=>p)).subscribe(p=>{const m=p.pieData.map((d,D)=>(d.prevValue=s[D]&&s[D].id===d.id?s[D].value:0,d));l.next(!0);const $=e.containerSelection.selectAll("path").data(m,d=>d.id).join("path").classed(r,!0).style("cursor","pointer").attr("fill",(d,D)=>d.data.color).attr("stroke",(d,D)=>Y({datum:d.data,colorType:p.fullParams.strokeColorType,fullChartParams:p.fullChartParams})).attr("stroke-width",p.fullParams.strokeWidth);$.interrupt("graphicMove"),$.transition("graphicMove").duration(p.transitionDuration).attrTween("d",p.tweenArc).on("end",()=>{a.next($),l.next(!1)}),s=Object.assign([],m)})}).pipe(z(1));return x({pathSelection:f,SeriesDataMap:e.SeriesDataMap$,computedData:e.computedData$,highlightTarget:n}).pipe(S(u),C(async a=>a)).subscribe(a=>{a.pathSelection.on("mouseover",(p,m)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"mouseover",pluginName:g,highlightTarget:a.highlightTarget,datum:m.data,series:a.SeriesDataMap.get(m.data.seriesLabel),seriesIndex:m.data.seriesIndex,seriesLabel:m.data.seriesLabel,event:p,data:a.computedData})}).on("mousemove",(p,m)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"mousemove",pluginName:g,highlightTarget:a.highlightTarget,datum:m.data,series:a.SeriesDataMap.get(m.data.seriesLabel),seriesIndex:m.data.seriesIndex,seriesLabel:m.data.seriesLabel,event:p,data:a.computedData})}).on("mouseout",(p,m)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"mouseout",pluginName:g,highlightTarget:a.highlightTarget,datum:m.data,series:a.SeriesDataMap.get(m.data.seriesLabel),seriesIndex:m.data.seriesIndex,seriesLabel:m.data.seriesLabel,event:p,data:a.computedData})}).on("click",(p,m)=>{p.stopPropagation(),e.event$.next({type:"series",eventName:"click",pluginName:g,highlightTarget:a.highlightTarget,datum:m.data,series:a.SeriesDataMap.get(m.data.seriesLabel),seriesIndex:m.data.seriesIndex,seriesLabel:m.data.seriesLabel,event:p,data:a.computedData})})}),x({pathSelection:f,highlight:e.seriesHighlight$.pipe(y(a=>a.map(p=>p.id))),fullParams:e.fullParams$,fullChartParams:e.fullChartParams$,tweenArc:o,isTransitionMoving:l}).pipe(S(u),C(async a=>a),J(a=>!a.isTransitionMoving)).subscribe(a=>{rt({pathSelection:a.pathSelection,ids:a.highlight,fullParams:a.fullParams,fullChartParams:a.fullChartParams,tweenArc:a.tweenArc})}),()=>{u.next(void 0)}}const Ct=X(R,j)(({selection:g,name:e,subject:u,observer:r})=>{const s=new P,{seriesCenterSelection$:c}=T({selection:g,pluginName:R,separateSeries$:r.separateSeries$,seriesLabels$:r.seriesLabels$,seriesContainerPosition$:r.seriesContainerPosition$}),t=[];return c.pipe(S(s)).subscribe(n=>{t.forEach(i=>i()),n.each((i,o,h)=>{const l=b(h[o]),f=r.visibleComputedLayoutData$.pipe(S(s),y(p=>JSON.parse(JSON.stringify(p[o]??p[0])))),a=r.seriesContainerPosition$.pipe(S(s),y(p=>JSON.parse(JSON.stringify(p[o]??p[0]))));t[o]=ot(R,{containerSelection:l,computedData$:r.computedData$,visibleComputedData$:r.visibleComputedData$,visibleComputedLayoutData$:r.visibleComputedLayoutData$,containerVisibleComputedLayoutData$:f,SeriesDataMap$:r.SeriesDataMap$,fullParams$:r.fullParams$,fullChartParams$:r.fullChartParams$,seriesHighlight$:r.seriesHighlight$,seriesContainerPosition$:a,event$:u.event$})})}),()=>{s.next(void 0),t.forEach(n=>n())}}),A="RoseLabels",ht=w(A,"label-g"),ut=w(A,"line-g"),ct=w(A,"text"),N=2;function pt({pieData:g,labelCentroid:e,arcScaleType:u,maxValue:r,axisWidth:s,outerRadius:c,lineStartCentroid:t,fullParams:n}){const i=s/2*c,o=u==="area"?.5:1,h=W().domain([0,r]).range([0,i]).exponent(o);return g.map((l,f)=>{const a=h(l.value),p=_().innerRadius(0).outerRadius(a).padAngle(0).padRadius(a).cornerRadius(0),[m,$]=p.centroid(l),[d,D]=[m,$],E=n.labelFn(l.data);return{pieDatum:l,arcIndex:f,arcLabels:E.split(`
`),lineStartX:m*t,lineStartY:$*t,lineStartMouseoverX:d*t,lineStartMouseoverY:D*t,x:m*e,y:$*e,mouseoverX:d*e,mouseoverY:D*e,textWidth:0,collisionShiftX:0,collisionShiftY:0,quadrant:m>=0&&$<=0?1:m<0&&$<=0?2:m<0&&$>0?3:4}}).filter(l=>l.pieDatum.data.visible)}function gt({labelGSelection:g,data:e,fullParams:u,fullChartParams:r,textSizePx:s}){const c=g.selectAll("text").data(e,t=>t.pieDatum.id).join("text").classed(ct,!0).attr("font-weight","bold").attr("text-anchor",t=>t.quadrant==1||t.quadrant==4?"start":"end").style("dominant-baseline",t=>t.quadrant==1||t.quadrant==2?"auto":"hanging").style("cursor",t=>r.highlightTarget&&r.highlightTarget!="none"?"pointer":"none").attr("font-size",r.styles.textSize).attr("fill",(t,n)=>Y({datum:t.pieDatum.data,colorType:u.labelColorType,fullChartParams:r})).each((t,n,i)=>{b(i[n]).selectAll("tspan").data(t.arcLabels).join("tspan").attr("x",0).attr("y",(o,h)=>t.quadrant==1||t.quadrant==2?-(t.arcLabels.length-1-h)*s:h*s).text(o=>o)});return c.transition().attr("transform",t=>"translate("+t.x+","+t.y+")"),c}function mt(g,e,u){const r=g.nodes(),s=u,c=r.map((t,n)=>{const i=t.getBBox(),o=[e[n].x,e[n].y];return{node:t,x:o[0],y:o[1],width:i.width,height:i.height}});for(let t=0;t<c.length;t++){const n=c[t];for(let i=t+1;i<c.length;i++){const o=c[i];e[t].textWidth=n.width;const h=n.x+e[t].collisionShiftX,l=n.y+e[t].collisionShiftY,f=o.x+e[i].collisionShiftX,a=o.y+e[i].collisionShiftY;if(!(h+n.width/2<f-o.width/2||h-n.width/2>f+o.width/2||l+n.height/2<a-o.height/2||l-n.height/2>a+o.height/2)){if(e[i].quadrant==2){const p=a>l?-s*2:-s;e[i].collisionShiftY+=p}else if(e[i].quadrant==4){const p=a>l?s:s*2;e[i].collisionShiftY+=p}}}}for(let t=c.length-1;t>=0;t--){const n=c[t];for(let i=t-1;i>=0;i--){const o=c[i];e[t].textWidth=n.width;const h=n.x+e[t].collisionShiftX,l=n.y+e[t].collisionShiftY,f=o.x+e[i].collisionShiftX,a=o.y+e[i].collisionShiftY;if(!(h+n.width/2<f-o.width/2||h-n.width/2>f+o.width/2||l+n.height/2<a-o.height/2||l-n.height/2>a+o.height/2)){if(e[i].quadrant==1){const p=a>l?-s*2:-s;e[i].collisionShiftY+=p}else if(e[i].quadrant==3){const p=a>l?s:s*2;e[i].collisionShiftY+=p}}}}g.data(e).transition().attr("transform",t=>`translate(${t.x+t.collisionShiftX},${t.y+t.collisionShiftY})`)}function ft({lineGSelection:g,data:e,fullParams:u,fullChartParams:r}){const s=e.filter(t=>t.collisionShiftX||t.collisionShiftY),c=g.selectAll("polyline").data(s,t=>t.pieDatum.id).join("polyline").attr("stroke",t=>Y({datum:t.pieDatum.data,colorType:u.labelColorType,fullChartParams:r})).attr("stroke-width",1).attr("fill","none").attr("points",t=>[[t.lineStartX,t.lineStartY],[t.lineStartX,t.lineStartY]]);return c.transition().attr("points",t=>{let n=t.x+t.collisionShiftX,i=t.y+t.collisionShiftY;return[[n,i],[t.lineStartX,t.lineStartY]]}),c}function St({textSelection:g,lineSelection:e,ids:u,fullChartParams:r}){if(g.interrupt("highlight"),e.interrupt("highlight"),!u.length){g.transition("highlight").duration(200).attr("transform",s=>`translate(${s.x+s.collisionShiftX},${s.y+s.collisionShiftY})`).style("opacity",1),e.transition("highlight").duration(200).style("opacity",1);return}g.each((s,c,t)=>{const n=b(t[c]);u.includes(s.pieDatum.data.id)?n.style("opacity",1).transition("highlight").duration(200).attr("transform",i=>`translate(${i.mouseoverX+i.collisionShiftX},${i.mouseoverY+i.collisionShiftY})`):n.style("opacity",r.styles.unhighlightedOpacity).transition("highlight").duration(200).attr("transform",i=>`translate(${i.x+i.collisionShiftX},${i.y+i.collisionShiftY})`)}),e.each((s,c,t)=>{const n=b(t[c]);u.includes(s.pieDatum.data.id)?n.style("opacity",1).transition("highlight").duration(200):n.style("opacity",r.styles.unhighlightedOpacity).transition("highlight").duration(200)})}function $t(g,e){const u=new P;e.containerSelection.selectAll("g").remove();const r=e.containerSelection.append("g");r.classed(ut,!0);const s=e.containerSelection.append("g");s.classed(ht,!0);const c=new P,t=new P;let n=[];const i=e.seriesContainerPosition$.pipe(S(u),y(l=>l.width<l.height?l.width:l.height),v()),o=e.visibleComputedLayoutData$.pipe(y(l=>Math.max(...l.flat().map(f=>f.value))),v()),h=e.fullParams$.pipe(S(u),y(l=>l.labelCentroid>=N?N:l.labelCentroid));return x({shorterSideWith:i,containerVisibleComputedLayoutData:e.containerVisibleComputedLayoutData$,maxValue:o,fullParams:e.fullParams$,fullChartParams:e.fullChartParams$,textSizePx:e.textSizePx$,lineStartCentroid:h}).pipe(S(u),C(async l=>l)).subscribe(l=>{const f=Math.PI*2/l.containerVisibleComputedLayoutData.length,a=l.containerVisibleComputedLayoutData.map((m,$)=>({id:m.id,data:m,index:$,value:m.value,startAngle:f*$,endAngle:f*($+1),padAngle:0}));n=pt({pieData:a,labelCentroid:l.fullParams.labelCentroid,arcScaleType:l.fullParams.arcScaleType,maxValue:l.maxValue,axisWidth:l.shorterSideWith,outerRadius:l.fullParams.outerRadius,lineStartCentroid:l.lineStartCentroid,fullParams:l.fullParams}),r.selectAll("polyline").remove();const p=gt({labelGSelection:s,data:n,fullParams:l.fullParams,fullChartParams:l.fullChartParams,textSizePx:l.textSizePx});setTimeout(()=>{mt(p,n,l.textSizePx);const m=ft({lineGSelection:r,data:n,fullParams:l.fullParams,fullChartParams:l.fullChartParams});t.next(m)},1e3),c.next(p)}),x({textSelection:c,lineSelection:t,highlight:e.seriesHighlight$.pipe(y(l=>l.map(f=>f.id))),fullChartParams:e.fullChartParams$}).pipe(S(u),C(async l=>l)).subscribe(l=>{St({textSelection:l.textSelection,lineSelection:l.lineSelection,ids:l.highlight,fullChartParams:l.fullChartParams})}),()=>{u.next(void 0)}}const Dt=X(A,B)(({selection:g,observer:e,subject:u})=>{const r=new P,{seriesCenterSelection$:s}=T({selection:g,pluginName:A,separateSeries$:e.separateSeries$,seriesLabels$:e.seriesLabels$,seriesContainerPosition$:e.seriesContainerPosition$}),c=[];return s.pipe(S(r)).subscribe(t=>{c.forEach(n=>n()),t.each((n,i,o)=>{const h=b(o[i]),l=e.visibleComputedLayoutData$.pipe(S(r),y(a=>JSON.parse(JSON.stringify(a[i]??a[0])))),f=e.seriesContainerPosition$.pipe(S(r),y(a=>JSON.parse(JSON.stringify(a[i]??a[0]))));c[i]=$t(A,{containerSelection:h,visibleComputedLayoutData$:e.visibleComputedLayoutData$,containerVisibleComputedLayoutData$:l,fullParams$:e.fullParams$,fullChartParams$:e.fullChartParams$,textSizePx$:e.textSizePx$,seriesHighlight$:e.seriesHighlight$,seriesContainerPosition$:f,event$:u.event$})})}),()=>{r.next(void 0)}});export{xt as P,Ct as R,Dt as a};
