import{n as Ct,u as Mt,q as Ut,o as yt,c as Ht}from"./CL5as7Q2.js";import{D as bt,a as vt,S as C}from"./elroECq0.js";import{G as n}from"./CX0rQqAK.js";import{c as Ft,D as wt,m as Dt,a as kt,M as g,b as m,d as A,e as v,f as I,g as G,h as O,i as k}from"./CohrQj4p.js";import{y as Tt,D as Vt,S as N,a as Xt,b as Zt,t as B,m as Lt,s as tt,v as ft,c as at,g as Gt,d as zt,e as pt}from"./CjdleEie.js";import{T as jt,a as Yt,b as Wt,t as qt}from"./DF25qcYR.js";import{L as d}from"./RigWL6Jr.js";import{g as c,L as x}from"./C9r9HfvB.js";import{B as D}from"./DBKa5dbW.js";import{c as Kt}from"./CSteE6Pv.js";import{o as Jt}from"./xOzsrLZS.js";import{i as Qt,c as ta,B as M}from"./B9bGGlmy.js";import{c as aa,B as U}from"./CtSr5C_V.js";import{G as l}from"./TW9S0LCM.js";import{G as _,V as u}from"./BbrMZ-fa.js";import{c as ea}from"./BrLgnobm.js";import{S as E}from"./8bpyd_pO.js";import{g as F,G as Rt}from"./CVK3QN1Y.js";import{g as et,a as ra,m as gt,b as sa}from"./CzUzxl8i.js";import{O as V}from"./gtL6ixxf.js";import{T as e}from"./CrDNbRWq.js";import{B as mt}from"./BvkOOCFE.js";import{m as ia,S as y,P as X}from"./B0k8-tGG.js";import{f as xt}from"./DeVmvt24.js";import{P as na,a as la,b as _a,c as Ea,d as Sa,e as ua,f as rt,g as st,h as it,i as pa,j as oa,k as ca,l as Ta,m as Z,n as z,o as j,p as Ra,q as ga,r as ma,s as Ia,t as da,u as ha,v as Aa,w as Pa,x as $a,y as Da,z as La,A as fa,B as Ga,C as xa,D as nt,E as lt,F as _t,G as Et,H as Na,I as Oa,J as Ba,K as Ca,L as Ma}from"./DQOTT8tN.js";import{g as Ua}from"./Dflj-YB1.js";import"./W937OcHy.js";import"./CDOey7kn.js";import"./DIeAF1OD.js";import"./5rDUwiLZ.js";import"./Degl7Xeb.js";const It="BarsDiverging",ya=Tt(It,Vt)(({selection:p,name:o,subject:s,observer:a})=>{const S=new N,i=Kt(It,{selection:p,computedData$:a.computedData$,visibleComputedData$:a.visibleComputedData$,existSeriesLabels$:a.existSeriesLabels$,SeriesDataMap$:a.SeriesDataMap$,GroupDataMap$:a.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:a.gridAxesTransform$,gridGraphicTransform$:a.gridGraphicTransform$,gridGraphicReverseScale$:a.gridGraphicReverseScale$,gridAxesSize$:a.gridAxesSize$,gridHighlight$:a.gridHighlight$,gridContainer$:a.gridContainer$,isSeriesPositionSeprate$:Jt(!0),event$:s.event$});return()=>{S.next(void 0),i()}}),dt="Dots",L=Tt(dt,Xt)(({selection:p,name:o,subject:s,observer:a})=>{const S=new N,i=Ft(dt,{selection:p,computedData$:a.computedData$,visibleComputedData$:a.visibleComputedData$,existSeriesLabels$:a.existSeriesLabels$,SeriesDataMap$:a.SeriesDataMap$,GroupDataMap$:a.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:a.gridAxesTransform$,gridGraphicTransform$:a.gridGraphicTransform$,gridGraphicReverseScale$:a.gridGraphicReverseScale$,gridAxesSize$:a.gridAxesSize$,gridHighlight$:a.gridHighlight$,gridContainer$:a.gridContainer$,event$:s.event$});return()=>{S.next(void 0),i()}}),ht="ValueStackAxis",H=Tt(ht,Zt)(({selection:p,name:o,observer:s,subject:a})=>{const S=new N,i=s.computedData$.pipe(B(S),Lt(r=>{const t=new Array(r[0]?r[0].length:0).fill(null).map(($,h)=>r.reduce((P,f)=>{if(f&&f[h]){const Bt=f[h].value==null||f[h].visible==!1?0:f[h].value;return P+Bt}return P},0));return r.map(($,h)=>$.map((P,f)=>({...P,value:t[f]})))})),R=ea(ht,{selection:p,computedData$:s.isSeriesPositionSeprate$.pipe(tt(r=>Qt(()=>r,s.computedData$,i))),fullParams$:s.fullParams$,fullDataFormatter$:s.fullDataFormatter$,fullChartParams$:s.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridAxesReverseTransform$:s.gridAxesReverseTransform$,gridAxesSize$:s.gridAxesSize$,gridContainer$:s.gridContainer$,isSeriesPositionSeprate$:s.isSeriesPositionSeprate$});return()=>{S.next(void 0),R()}}),ot="MultiBarStack",At=et(ot,"grid"),Y=ft(ot,wt)(({selection:p,name:o,subject:s,observer:a})=>{const S=new N,i=[];return Dt(a).subscribe(r=>{i.forEach(t=>t()),p.selectAll(`g.${At}`).data(r).join("g").attr("class",At).each((t,T,$)=>{const h=at($[T]);i[T]=ta(ot,{selection:h,computedData$:t.gridComputedData$,visibleComputedData$:t.visibleComputedData$,existSeriesLabels$:t.existSeriesLabels$,SeriesDataMap$:t.SeriesDataMap$,GroupDataMap$:t.GroupDataMap$,fullParams$:a.fullParams$,fullDataFormatter$:t.gridDataFormatter$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:t.gridAxesTransform$,gridGraphicTransform$:t.gridGraphicTransform$,gridGraphicReverseScale$:t.gridGraphicReverseScale$,gridAxesSize$:t.gridAxesSize$,gridHighlight$:t.gridHighlight$,gridContainer$:t.gridContainer$,isSeriesPositionSeprate$:t.isSeriesPositionSeprate$,event$:s.event$})})}),()=>{S.next(void 0),i.forEach(r=>r())}}),ct="MultiBarsTriangle",Pt=et(ct,"grid"),W=ft(ct,kt)(({selection:p,name:o,subject:s,observer:a})=>{const S=new N,i=[];return Dt(a).subscribe(r=>{i.forEach(t=>t()),p.selectAll(`g.${Pt}`).data(r).join("g").attr("class",Pt).each((t,T,$)=>{const h=at($[T]);i[T]=aa(ct,{selection:h,computedData$:t.gridComputedData$,visibleComputedData$:t.visibleComputedData$,existSeriesLabels$:t.existSeriesLabels$,SeriesDataMap$:t.SeriesDataMap$,GroupDataMap$:t.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:t.gridAxesTransform$,gridGraphicTransform$:t.gridGraphicTransform$,gridAxesSize$:t.gridAxesSize$,gridHighlight$:t.gridHighlight$,gridContainer$:t.gridContainer$,isSeriesPositionSeprate$:t.isSeriesPositionSeprate$,event$:s.event$})})}),()=>{S.next(void 0),i.forEach(r=>r())}}),Nt="PieEventTexts",$t=et(Nt,"text");function St(p,o){const s=p.selectAll(`text.${$t}`).data(o),a=s.enter().append("text").classed($t,!0),S=s.merge(a);return S.each((i,R,r)=>{const t=at(r[R]).text(i.text);Object.keys(i.attr).forEach(T=>{t.attr(T,i.attr[T])}),Object.keys(i.style).forEach(T=>{t.style(T,i.style[T])})}),s.exit().remove(),S}function ut({eventData:p,eventName:o,t:s,eventFn:a,textAttrs:S,textStyles:i}){return a(p,o,s).map((r,t)=>({text:r,attr:S[t],style:i[t]}))}const Ha=Gt(Nt,bt)(({selection:p,name:o,observer:s,subject:a})=>{const S=new N,i=p.append("g");let R;s.layout$.pipe(xt()).subscribe(t=>{p.attr("transform",`translate(${t.width/2}, ${t.height/2})`),s.layout$.pipe(B(S)).subscribe(T=>{p.transition().attr("transform",`translate(${T.width/2}, ${T.height/2})`)})});const r=s.fullChartParams$.pipe(B(S),Lt(t=>t.highlightTarget),zt());return pt({computedData:s.computedData$,fullParams:s.fullParams$,fullChartParams:s.fullChartParams$,highlightTarget:r}).pipe(B(S),tt(async t=>t)).subscribe(t=>{i.transition().duration(t.fullChartParams.transitionDuration).ease(ra(t.fullChartParams.transitionEase)).tween("move",(T,$)=>h=>{const P=ut({eventData:{type:"series",pluginName:o,eventName:"transitionMove",event:T,highlightTarget:t.highlightTarget,data:t.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:h,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});St(i,P)}).on("end",(T,$)=>{const h=ut({eventData:{type:"series",pluginName:o,eventName:"transitionEnd",event:T,highlightTarget:t.highlightTarget,data:t.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:1,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});St(i,h),R&&R.unsubscribe(),R=a.event$.subscribe(P=>{const f=ut({eventData:P,eventName:P.eventName,t:1,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});St(i,f)})})}),()=>{S.next(void 0)}}),Ot="PieLabels",ba=et(Ot,"text");function va(p,o,s,a){return p.map((S,i)=>{const[R,r]=o.centroid(S),[t,T]=s.centroid(S);return{pieDatum:S,arcIndex:i,arcLabel:S.data.label,x:R*a,y:r*a,mouseoverX:t*a,mouseoverY:T*a}}).filter(S=>S.pieDatum.data.visible)}function Fa(p,o,s,a){let S=p.selectAll("text").data(o,t=>t.pieDatum.id),i=S.enter().append("text").classed(ba,!0),R=S.exit();i.append("text");const r=S.merge(i);return r.attr("font-weight","bold").attr("text-anchor","middle").style("dominant-baseline","middle").style("cursor",t=>a.highlightTarget&&a.highlightTarget!="none"?"pointer":"none").text(t=>s.labelFn(t.pieDatum.data)).attr("font-size",a.styles.textSize).attr("fill",(t,T)=>sa({datum:t.pieDatum.data,colorType:s.labelColorType,fullChartParams:a})).transition().attr("transform",t=>"translate("+t.x+","+t.y+")"),R.remove(),r}function wa({labelSelection:p,ids:o,fullChartParams:s}){if(p.interrupt("highlight"),!o.length){p.transition().duration(200).attr("transform",a=>"translate("+a.x+","+a.y+")").style("opacity",1);return}p.each((a,S,i)=>{const R=at(i[S]);o.includes(a.pieDatum.id)?R.style("opacity",1).transition().duration(200).attr("transform",r=>"translate("+r.mouseoverX+","+r.mouseoverY+")"):R.style("opacity",s.styles.unhighlightedOpacity).transition().duration(200).attr("transform",r=>"translate("+r.x+","+r.y+")")})}const q=Gt(Ot,vt)(({selection:p,observer:o,subject:s})=>{const a=new N,S=p.append("g");let i=new N,R=[];return o.layout$.pipe(xt()).subscribe(r=>{p.attr("transform",`translate(${r.width/2}, ${r.height/2})`),o.layout$.pipe(B(a)).subscribe(t=>{p.transition().attr("transform",`translate(${t.width/2}, ${t.height/2})`)})}),pt({layout:o.layout$,computedData:o.computedData$,fullParams:o.fullParams$,fullChartParams:o.fullChartParams$}).pipe(B(a),tt(async r=>r)).subscribe(r=>{const t=r.layout.width<r.layout.height?r.layout.width:r.layout.height,T=gt({axisWidth:t,innerRadius:0,outerRadius:r.fullParams.outerRadius,padAngle:0,cornerRadius:0}),$=gt({axisWidth:t,innerRadius:0,outerRadius:r.fullParams.outerMouseoverRadius,padAngle:0,cornerRadius:0}),h=ia({computedDataSeries:r.computedData,startAngle:r.fullParams.startAngle,endAngle:r.fullParams.endAngle});R=va(h,T,$,r.fullParams.labelCentroid);const P=Fa(S,R,r.fullParams,r.fullChartParams);i.next(P)}),pt({labelSelection:i,highlight:o.seriesHighlight$,fullChartParams:o.fullChartParams$}).pipe(B(a),tt(async r=>r)).subscribe(r=>{wa({labelSelection:r.labelSelection,ids:r.highlight,fullChartParams:r.fullChartParams})}),()=>{a.next(void 0)}}),b=[15,38,25,17,26,72,64,29],w=[[55,80,50,11,150],[35,40,15,65,120],[75,90,600,50,120]],K=[[[1205,850,930,1111,1500],[735,900,880,1035,1120]],[[555,805,500,1150,1050],[1350,840,915,650,1200]],[[1200,1100,950,1105,850],[750,650,980,850,700]]],J=[[[1205,850,930,1111,1500],[735,900,880,1035,1120]],[[555,805,500,1150,1050],[1350,840,915,650,1200]],[[1200,1100,950,1105,850],[750,650,980,850,700]],[[680,880,770,330,710],[540,480,820,780,600]]],Q={series:{Bubbles:{PRESET_BUBBLES_BASIC:{chart:C,plugins:[mt,y,e],preset:na,data:b},PRESET_BUBBLES_SCALING_BY_RADIUS:{chart:C,plugins:[mt,y,e],preset:la,data:b}},Pie:{PRESET_PIE_BASIC:{chart:C,plugins:[X,q,y,e],preset:_a,data:b},PRESET_PIE_WITH_INNER_LABELS:{chart:C,plugins:[X,q,y,e],preset:Ea,data:b},PRESET_PIE_DONUT:{chart:C,plugins:[X,q,Ha,y,e],preset:Sa,data:b},PRESET_PIE_HALF_DONUT:{chart:C,plugins:[X,q,y,e],preset:ua,data:b}}},grid:{Bars:{PRESET_GRID_BASIC:{chart:n,plugins:[_,u,D,E,l,e],preset:rt,data:c},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:n,plugins:[_,u,D,E,l,e],preset:st,data:c},PRESET_GRID_HORIZONTAL:{chart:n,plugins:[_,u,D,E,l,e],preset:it,data:c},PRESET_BARS_ROUND:{chart:n,plugins:[_,u,D,E,l,e],preset:pa,data:c},PRESET_BARS_HORIZONTAL_AND_ROUND:{chart:n,plugins:[_,u,D,E,l,e],preset:oa,data:c},PRESET_BARS_THIN:{chart:n,plugins:[_,u,D,E,l,e],preset:ca,data:c},PRESET_BARS_HORIZONTAL_AND_THIN:{chart:n,plugins:[_,u,D,E,l,e],preset:Ta,data:c},PRESET_GRID_2_SERIES_SLOT:{chart:n,plugins:[_,u,D,E,l,e],preset:Z,data:c},PRESET_GRID_3_SERIES_SLOT:{chart:n,plugins:[_,u,D,E,l,e],preset:z,data:w},PRESET_GRID_4_SERIES_SLOT:{chart:n,plugins:[_,u,D,E,l,e],preset:j,data:F}},BarsDiverging:{PRESET_GRID_DIVERGING_SCALE:{chart:n,plugins:[_,u,ya,E,l,e],preset:Ra,data:Ua}},BarStack:{PRESET_GRID_BASIC:{chart:n,plugins:[_,H,M,E,l,e],preset:rt,data:c},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:n,plugins:[_,H,M,E,l,e],preset:st,data:c},PRESET_GRID_HORIZONTAL:{chart:n,plugins:[_,H,M,E,l,e],preset:it,data:c},PRESET_GRID_2_SERIES_SLOT:{chart:n,plugins:[_,H,M,E,l,e],preset:Z,data:c},PRESET_GRID_3_SERIES_SLOT:{chart:n,plugins:[_,H,M,E,l,e],preset:z,data:w},PRESET_GRID_4_SERIES_SLOT:{chart:n,plugins:[_,H,M,E,l,e],preset:j,data:F}},BarsTriangle:{PRESET_GRID_BASIC:{chart:n,plugins:[_,u,U,E,l,e],preset:rt,data:c},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:n,plugins:[_,u,U,E,l,e],preset:st,data:c},PRESET_GRID_HORIZONTAL:{chart:n,plugins:[_,u,U,E,l,e],preset:it,data:c},PRESET_GRID_2_SERIES_SLOT:{chart:n,plugins:[_,u,U,E,l,e],preset:Z,data:c},PRESET_GRID_3_SERIES_SLOT:{chart:n,plugins:[_,u,U,E,l,e],preset:z,data:w},PRESET_GRID_4_SERIES_SLOT:{chart:n,plugins:[_,u,U,E,l,e],preset:j,data:F}},Lines:{PRESET_LINES_BASIC:{chart:n,plugins:[_,u,d,L,E,l,e],preset:ga,data:c},PRESET_LINES_ROTATE_AXIS_LABEL:{chart:n,plugins:[_,u,d,L,E,l,e],preset:ma,data:c},PRESET_LINES_HORIZONTAL:{chart:n,plugins:[_,u,d,L,E,l,e],preset:Ia,data:c},PRESET_LINES_CURVE:{chart:n,plugins:[_,u,d,L,E,l,e],preset:da,data:c},PRESET_LINES_HIGHLIGHT_GROUP_DOTS:{chart:n,plugins:[_,u,d,Rt,L,E,l,e],preset:ha,data:c},PRESET_GRID_2_SERIES_SLOT:{chart:n,plugins:[_,u,d,E,l,e],preset:Z,data:c},PRESET_GRID_3_SERIES_SLOT:{chart:n,plugins:[_,u,d,E,l,e],preset:z,data:w},PRESET_GRID_4_SERIES_SLOT:{chart:n,plugins:[_,u,d,E,l,e],preset:j,data:F}},LineAreas:{PRESET_LINE_AREAS_BASIC:{chart:n,plugins:[_,u,x,d,L,E,l,e],preset:Aa,data:c},PRESET_LINE_AREAS_ROTATE_AXIS_LABEL:{chart:n,plugins:[_,u,x,d,L,E,l,e],preset:Pa,data:c},PRESET_LINE_AREAS_HORIZONTAL:{chart:n,plugins:[_,u,x,d,L,E,l,e],preset:$a,data:c},PRESET_LINE_AREAS_CURVE:{chart:n,plugins:[_,u,x,d,L,E,l,e],preset:Da,data:c},PRESET_LINE_AREAS_HIGHLIGHT_GROUP_DOTS:{chart:n,plugins:[_,u,x,d,Rt,L,E,l,e],preset:La,data:c},PRESET_LINE_AREAS_2_SERIES_SLOT:{chart:n,plugins:[_,u,x,d,E,l,e],preset:fa,data:c},PRESET_LINE_AREAS_3_SERIES_SLOT:{chart:n,plugins:[_,u,x,d,E,l,e],preset:Ga,data:w},PRESET_LINE_AREAS_4_SERIES_SLOT:{chart:n,plugins:[_,u,x,d,E,l,e],preset:xa,data:F}}},multiGrid:{MultiBars:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:g,plugins:[m,A,v,I,e],preset:nt,data:G},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:g,plugins:[m,A,v,I,e],preset:lt,data:K},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:g,plugins:[m,A,v,I,e],preset:_t,data:J},PRESET_MULTI_GRID_BASIC:{chart:g,plugins:[m,V,v,O,k,I,e],preset:Et,data:G},PRESET_MULTI_GRID_ROUND_STYLE:{chart:g,plugins:[m,V,v,O,k,I,e],preset:Na,data:G}},MultiBarStack:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:g,plugins:[m,A,Y,I,e],preset:nt,data:G},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:g,plugins:[m,A,Y,I,e],preset:lt,data:K},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:g,plugins:[m,A,Y,I,e],preset:_t,data:J},PRESET_MULTI_GRID_BASIC:{chart:g,plugins:[m,V,Y,O,k,I,e],preset:Et,data:G}},MultiBarsTriangle:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:g,plugins:[m,A,W,I,e],preset:nt,data:G},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:g,plugins:[m,A,W,I,e],preset:lt,data:K},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:g,plugins:[m,A,W,I,e],preset:_t,data:J},PRESET_MULTI_GRID_BASIC:{chart:g,plugins:[m,V,W,O,k,I,e],preset:Et,data:G}},MultiLines:{PRESET_MULTI_LINES_2_GRID_SLOT:{chart:g,plugins:[m,A,O,I,e],preset:Oa,data:G},PRESET_MULTI_LINES_3_GRID_SLOT:{chart:g,plugins:[m,A,O,I,e],preset:Ba,data:K},PRESET_MULTI_LINES_4_GRID_SLOT:{chart:g,plugins:[m,A,O,I,e],preset:Ca,data:J}}},tree:{TreeMap:{PRESET_TREE_BASIC:{chart:jt,plugins:[Yt,Wt,e],preset:Ma,data:qt}}}},ka={id:"chart",style:{width:"100%",height:"100vh"}},de=Ct({__name:"[presetName]",setup(p){const s=Mt().params,a=Q[s.chartType]&&Q[s.chartType][s.pluginName]&&Q[s.chartType][s.pluginName][s.presetName]?Q[s.chartType][s.pluginName][s.presetName]:null;return Ut(()=>{if(!a)return;const S=document.querySelector("#chart"),i=a.plugins.map(r=>new r);console.log("detail.preset",a.preset);const R=new a.chart(S,{preset:a.preset});R.plugins$.next(i),R.data$.next(a.data)}),(S,i)=>(yt(),Ht("div",ka))}});export{de as default};
