import{n as Nt,u as Ot,q as Ct,o as Mt,c as yt}from"./BeRIXPdR.js";import{D as Ut,a as bt,S as N}from"./DPZ9Ss3w.js";import{G as l}from"./B7w_ic27.js";import{c as Ht,D as vt,m as Dt,a as wt,M as T,b as R,d as I,e as b,f as d,g as L,h as x,i as v}from"./BH3QN9pu.js";import{y as ct,D as Ft,S as G,a as kt,b as Vt,t as B,m as Pt,s as Q,v as At,c as tt,g as Lt,d as Xt,e as ot}from"./BILlwXT2.js";import{T as Zt,a as zt,b as jt,t as Yt}from"./CouioJEr.js";import{L as f}from"./4_79ICuB.js";import{B as P}from"./BNRiMY1O.js";import{c as Wt}from"./euUVgJX9.js";import{o as qt}from"./BglBtAhe.js";import{i as Kt,c as Jt,B as O}from"./fDDo1wY8.js";import{c as Qt,B as C}from"./C012BqQb.js";import{G as _}from"./C9NYNU9b.js";import{G as u,V as E}from"./C0i-LUQf.js";import{c as ta}from"./oeqvDmXO.js";import{S as p,g as w,G as aa}from"./BMDQoLP9.js";import{g as at,a as ea,m as mt,b as ra}from"./C39DfsNA.js";import{O as F}from"./CiPRq-bl.js";import{T as r}from"./CSGGqpdb.js";import{B as gt}from"./B9EJXfpx.js";import{m as sa,S as M,P as k}from"./D28j0XDS.js";import{f as ft}from"./BQZk2i3U.js";import{P as ia,a as na,b as la,c as _a,d as ua,e as pa,f as et,g as rt,h as st,i as oa,j as Sa,k as Ea,l as ca,m as V,n as X,o as Z,p as ma,q as ga,r as Ta,s as Ra,t as da,u as ha,v as it,w as nt,x as lt,y as _t,z as Ia,A as $a,B as Da,C as Pa,D as Aa}from"./CFzxbd-i.js";import{g}from"./B3CSYRx5.js";import{g as La}from"./Dflj-YB1.js";import"./D5nkmhym.js";import"./D2DRzmrC.js";import"./CcDObsfT.js";import"./DopzhtH9.js";import"./CS1bynfi.js";const Tt="BarsDiverging",fa=ct(Tt,Ft)(({selection:o,name:S,subject:s,observer:a})=>{const n=new G,i=Wt(Tt,{selection:o,computedData$:a.computedData$,visibleComputedData$:a.visibleComputedData$,existedSeriesLabels$:a.existedSeriesLabels$,SeriesDataMap$:a.SeriesDataMap$,GroupDataMap$:a.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:a.gridAxesTransform$,gridGraphicTransform$:a.gridGraphicTransform$,gridGraphicReverseScale$:a.gridGraphicReverseScale$,gridAxesSize$:a.gridAxesSize$,gridHighlight$:a.gridHighlight$,gridContainer$:a.gridContainer$,isSeriesPositionSeprate$:qt(!0),event$:s.event$});return()=>{n.next(void 0),i()}}),Rt="Dots",H=ct(Rt,kt)(({selection:o,name:S,subject:s,observer:a})=>{const n=new G,i=Ht(Rt,{selection:o,computedData$:a.computedData$,visibleComputedData$:a.visibleComputedData$,existedSeriesLabels$:a.existedSeriesLabels$,SeriesDataMap$:a.SeriesDataMap$,GroupDataMap$:a.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:a.gridAxesTransform$,gridGraphicTransform$:a.gridGraphicTransform$,gridGraphicReverseScale$:a.gridGraphicReverseScale$,gridAxesSize$:a.gridAxesSize$,gridHighlight$:a.gridHighlight$,gridContainer$:a.gridContainer$,event$:s.event$});return()=>{n.next(void 0),i()}}),dt="ValueStackAxis",y=ct(dt,Vt)(({selection:o,name:S,observer:s,subject:a})=>{const n=new G,i=s.computedData$.pipe(B(n),Pt(e=>{const t=new Array(e[0]?e[0].length:0).fill(null).map((D,h)=>e.reduce(($,A)=>{if(A&&A[h]){const Bt=A[h].value==null||A[h].visible==!1?0:A[h].value;return $+Bt}return $},0));return e.map((D,h)=>D.map(($,A)=>({...$,value:t[A]})))})),m=ta(dt,{selection:o,computedData$:s.isSeriesPositionSeprate$.pipe(Q(e=>Kt(()=>e,s.computedData$,i))),fullParams$:s.fullParams$,fullDataFormatter$:s.fullDataFormatter$,fullChartParams$:s.fullChartParams$,gridAxesTransform$:s.gridAxesTransform$,gridAxesReverseTransform$:s.gridAxesReverseTransform$,gridAxesSize$:s.gridAxesSize$,gridContainer$:s.gridContainer$,isSeriesPositionSeprate$:s.isSeriesPositionSeprate$});return()=>{n.next(void 0),m()}}),St="MultiBarStack",ht=at(St,"grid"),z=At(St,vt)(({selection:o,name:S,subject:s,observer:a})=>{const n=new G,i=[];return Dt(a).subscribe(e=>{i.forEach(t=>t()),o.selectAll(`g.${ht}`).data(e).join("g").attr("class",ht).each((t,c,D)=>{const h=tt(D[c]);i[c]=Jt(St,{selection:h,computedData$:t.gridComputedData$,visibleComputedData$:t.visibleComputedData$,existedSeriesLabels$:t.existedSeriesLabels$,SeriesDataMap$:t.SeriesDataMap$,GroupDataMap$:t.GroupDataMap$,fullParams$:a.fullParams$,fullDataFormatter$:t.gridDataFormatter$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:t.gridAxesTransform$,gridGraphicTransform$:t.gridGraphicTransform$,gridGraphicReverseScale$:t.gridGraphicReverseScale$,gridAxesSize$:t.gridAxesSize$,gridHighlight$:t.gridHighlight$,gridContainer$:t.gridContainer$,isSeriesPositionSeprate$:t.isSeriesPositionSeprate$,event$:s.event$})})}),()=>{n.next(void 0),i.forEach(e=>e())}}),Et="MultiBarsTriangle",It=at(Et,"grid"),j=At(Et,wt)(({selection:o,name:S,subject:s,observer:a})=>{const n=new G,i=[];return Dt(a).subscribe(e=>{i.forEach(t=>t()),o.selectAll(`g.${It}`).data(e).join("g").attr("class",It).each((t,c,D)=>{const h=tt(D[c]);i[c]=Qt(Et,{selection:h,computedData$:t.gridComputedData$,visibleComputedData$:t.visibleComputedData$,existedSeriesLabels$:t.existedSeriesLabels$,SeriesDataMap$:t.SeriesDataMap$,GroupDataMap$:t.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:t.gridAxesTransform$,gridGraphicTransform$:t.gridGraphicTransform$,gridAxesSize$:t.gridAxesSize$,gridHighlight$:t.gridHighlight$,gridContainer$:t.gridContainer$,isSeriesPositionSeprate$:t.isSeriesPositionSeprate$,event$:s.event$})})}),()=>{n.next(void 0),i.forEach(e=>e())}}),Gt="PieEventTexts",$t=at(Gt,"text");function ut(o,S){const s=o.selectAll(`text.${$t}`).data(S),a=s.enter().append("text").classed($t,!0),n=s.merge(a);return n.each((i,m,e)=>{const t=tt(e[m]).text(i.text);Object.keys(i.attr).forEach(c=>{t.attr(c,i.attr[c])}),Object.keys(i.style).forEach(c=>{t.style(c,i.style[c])})}),s.exit().remove(),n}function pt({eventData:o,eventName:S,t:s,eventFn:a,textAttrs:n,textStyles:i}){return a(o,S,s).map((e,t)=>({text:e,attr:n[t],style:i[t]}))}const Ga=Lt(Gt,Ut)(({selection:o,name:S,observer:s,subject:a})=>{const n=new G,i=o.append("g");let m;s.layout$.pipe(ft()).subscribe(t=>{o.attr("transform",`translate(${t.width/2}, ${t.height/2})`),s.layout$.pipe(B(n)).subscribe(c=>{o.transition().attr("transform",`translate(${c.width/2}, ${c.height/2})`)})});const e=s.fullChartParams$.pipe(B(n),Pt(t=>t.highlightTarget),Xt());return ot({computedData:s.computedData$,fullParams:s.fullParams$,fullChartParams:s.fullChartParams$,highlightTarget:e}).pipe(B(n),Q(async t=>t)).subscribe(t=>{i.transition().duration(t.fullChartParams.transitionDuration).ease(ea(t.fullChartParams.transitionEase)).tween("move",(c,D)=>h=>{const $=pt({eventData:{type:"series",pluginName:S,eventName:"transitionMove",event:c,highlightTarget:t.highlightTarget,data:t.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:h,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});ut(i,$)}).on("end",(c,D)=>{const h=pt({eventData:{type:"series",pluginName:S,eventName:"transitionEnd",event:c,highlightTarget:t.highlightTarget,data:t.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:1,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});ut(i,h),m&&m.unsubscribe(),m=a.event$.subscribe($=>{const A=pt({eventData:$,eventName:$.eventName,t:1,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});ut(i,A)})})}),()=>{n.next(void 0)}}),xt="PieLabels",xa=at(xt,"text");function Ba(o,S,s,a){return o.map((n,i)=>{const[m,e]=S.centroid(n),[t,c]=s.centroid(n);return{pieDatum:n,arcIndex:i,arcLabel:n.data.label,x:m*a,y:e*a,mouseoverX:t*a,mouseoverY:c*a}}).filter(n=>n.pieDatum.data.visible)}function Na(o,S,s,a){let n=o.selectAll("text").data(S,t=>t.pieDatum.id),i=n.enter().append("text").classed(xa,!0),m=n.exit();i.append("text");const e=n.merge(i);return e.attr("font-weight","bold").attr("text-anchor","middle").style("dominant-baseline","middle").style("cursor",t=>a.highlightTarget&&a.highlightTarget!="none"?"pointer":"none").text(t=>s.labelFn(t.pieDatum.data)).attr("font-size",a.styles.textSize).attr("fill",(t,c)=>ra({datum:t.pieDatum.data,colorType:s.labelColorType,fullChartParams:a})).transition().attr("transform",t=>"translate("+t.x+","+t.y+")"),m.remove(),e}function Oa({labelSelection:o,ids:S,fullChartParams:s}){if(o.interrupt("highlight"),!S.length){o.transition().duration(200).attr("transform",a=>"translate("+a.x+","+a.y+")").style("opacity",1);return}o.each((a,n,i)=>{const m=tt(i[n]);S.includes(a.pieDatum.id)?m.style("opacity",1).transition().duration(200).attr("transform",e=>"translate("+e.mouseoverX+","+e.mouseoverY+")"):m.style("opacity",s.styles.unhighlightedOpacity).transition().duration(200).attr("transform",e=>"translate("+e.x+","+e.y+")")})}const Y=Lt(xt,bt)(({selection:o,observer:S,subject:s})=>{const a=new G,n=o.append("g");let i=new G,m=[];return S.layout$.pipe(ft()).subscribe(e=>{o.attr("transform",`translate(${e.width/2}, ${e.height/2})`),S.layout$.pipe(B(a)).subscribe(t=>{o.transition().attr("transform",`translate(${t.width/2}, ${t.height/2})`)})}),ot({layout:S.layout$,computedData:S.computedData$,fullParams:S.fullParams$,fullChartParams:S.fullChartParams$}).pipe(B(a),Q(async e=>e)).subscribe(e=>{const t=e.layout.width<e.layout.height?e.layout.width:e.layout.height,c=mt({axisWidth:t,innerRadius:0,outerRadius:e.fullParams.outerRadius,padAngle:0,cornerRadius:0}),D=mt({axisWidth:t,innerRadius:0,outerRadius:e.fullParams.outerMouseoverRadius,padAngle:0,cornerRadius:0}),h=sa({computedDataSeries:e.computedData,startAngle:e.fullParams.startAngle,endAngle:e.fullParams.endAngle});m=Ba(h,c,D,e.fullParams.labelCentroid);const $=Na(n,m,e.fullParams,e.fullChartParams);i.next($)}),ot({labelSelection:i,highlight:S.seriesHighlight$,fullChartParams:S.fullChartParams$}).pipe(B(a),Q(async e=>e)).subscribe(e=>{Oa({labelSelection:e.labelSelection,ids:e.highlight,fullChartParams:e.fullChartParams})}),()=>{a.next(void 0)}}),U=[15,38,25,17,26,72,64,29],W=[[55,80,50,11,150],[35,40,15,65,120],[75,90,600,50,120]],q=[[[1205,850,930,1111,1500],[735,900,880,1035,1120]],[[555,805,500,1150,1050],[1350,840,915,650,1200]],[[1200,1100,950,1105,850],[750,650,980,850,700]]],K=[[[1205,850,930,1111,1500],[735,900,880,1035,1120]],[[555,805,500,1150,1050],[1350,840,915,650,1200]],[[1200,1100,950,1105,850],[750,650,980,850,700]],[[680,880,770,330,710],[540,480,820,780,600]]],J={series:{Bubbles:{PRESET_BUBBLES_BASIC:{chart:N,plugins:[gt,M,r],preset:ia,data:U},PRESET_BUBBLES_SCALING_BY_RADIUS:{chart:N,plugins:[gt,M,r],preset:na,data:U}},Pie:{PRESET_PIE_BASIC:{chart:N,plugins:[k,Y,M,r],preset:la,data:U},PRESET_PIE_WITH_INNER_LABELS:{chart:N,plugins:[k,Y,M,r],preset:_a,data:U},PRESET_PIE_DONUT:{chart:N,plugins:[k,Y,Ga,M,r],preset:ua,data:U},PRESET_PIE_HALF_DONUT:{chart:N,plugins:[k,Y,M,r],preset:pa,data:U}}},grid:{Bars:{PRESET_GRID_BASIC:{chart:l,plugins:[u,E,P,p,_,r],preset:et,data:g},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,E,P,p,_,r],preset:rt,data:g},PRESET_GRID_HORIZONTAL:{chart:l,plugins:[u,E,P,p,_,r],preset:st,data:g},PRESET_BARS_ROUND:{chart:l,plugins:[u,E,P,p,_,r],preset:oa,data:g},PRESET_BARS_HORIZONTAL_AND_ROUND:{chart:l,plugins:[u,E,P,p,_,r],preset:Sa,data:g},PRESET_BARS_THIN:{chart:l,plugins:[u,E,P,p,_,r],preset:Ea,data:g},PRESET_BARS_HORIZONTAL_AND_THIN:{chart:l,plugins:[u,E,P,p,_,r],preset:ca,data:g},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,E,P,p,_,r],preset:V,data:g},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,E,P,p,_,r],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,E,P,p,_,r],preset:Z,data:w}},BarsDiverging:{PRESET_GRID_DIVERGING_SCALE:{chart:l,plugins:[u,E,fa,p,_,r],preset:ma,data:La}},BarStack:{PRESET_GRID_BASIC:{chart:l,plugins:[u,y,O,p,_,r],preset:et,data:g},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,y,O,p,_,r],preset:rt,data:g},PRESET_GRID_HORIZONTAL:{chart:l,plugins:[u,y,O,p,_,r],preset:st,data:g},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,y,O,p,_,r],preset:V,data:g},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,y,O,p,_,r],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,y,O,p,_,r],preset:Z,data:w}},BarsTriangle:{PRESET_GRID_BASIC:{chart:l,plugins:[u,E,C,p,_,r],preset:et,data:g},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,E,C,p,_,r],preset:rt,data:g},PRESET_GRID_HORIZONTAL:{chart:l,plugins:[u,E,C,p,_,r],preset:st,data:g},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,E,C,p,_,r],preset:V,data:g},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,E,C,p,_,r],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,E,C,p,_,r],preset:Z,data:w}},Lines:{PRESET_LINES_BASIC:{chart:l,plugins:[u,E,f,H,p,_,r],preset:ga,data:g},PRESET_LINES_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,E,f,H,p,_,r],preset:Ta,data:g},PRESET_LINES_HORIZONTAL:{chart:l,plugins:[u,E,f,H,p,_,r],preset:Ra,data:g},PRESET_LINES_CURVE:{chart:l,plugins:[u,E,f,H,p,_,r],preset:da,data:g},PRESET_LINES_HIGHLIGHT_GROUP_DOTS:{chart:l,plugins:[u,E,f,H,aa,p,_,r],preset:ha,data:g},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,E,f,p,_,r],preset:V,data:g},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,E,f,p,_,r],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,E,f,p,_,r],preset:Z,data:w}}},multiGrid:{MultiBars:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:T,plugins:[R,I,b,d,r],preset:it,data:L},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:T,plugins:[R,I,b,d,r],preset:nt,data:q},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:T,plugins:[R,I,b,d,r],preset:lt,data:K},PRESET_MULTI_GRID_BASIC:{chart:T,plugins:[R,F,b,x,v,d,r],preset:_t,data:L},PRESET_MULTI_GRID_ROUND_STYLE:{chart:T,plugins:[R,F,b,x,v,d,r],preset:Ia,data:L}},MultiBarStack:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:T,plugins:[R,I,z,d,r],preset:it,data:L},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:T,plugins:[R,I,z,d,r],preset:nt,data:q},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:T,plugins:[R,I,z,d,r],preset:lt,data:K},PRESET_MULTI_GRID_BASIC:{chart:T,plugins:[R,F,z,x,v,d,r],preset:_t,data:L}},MultiBarsTriangle:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:T,plugins:[R,I,j,d,r],preset:it,data:L},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:T,plugins:[R,I,j,d,r],preset:nt,data:q},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:T,plugins:[R,I,j,d,r],preset:lt,data:K},PRESET_MULTI_GRID_BASIC:{chart:T,plugins:[R,F,j,x,v,d,r],preset:_t,data:L}},MultiLines:{PRESET_MULTI_LINES_2_GRID_SLOT:{chart:T,plugins:[R,I,x,d,r],preset:$a,data:L},PRESET_MULTI_LINES_3_GRID_SLOT:{chart:T,plugins:[R,I,x,d,r],preset:Da,data:q},PRESET_MULTI_LINES_4_GRID_SLOT:{chart:T,plugins:[R,I,x,d,r],preset:Pa,data:K}}},tree:{TreeMap:{PRESET_TREE_BASIC:{chart:Zt,plugins:[zt,jt,r],preset:Aa,data:Yt}}}},Ca={id:"chart",style:{width:"100%",height:"100vh"}},pe=Nt({__name:"[presetName]",setup(o){const s=Ot().params,a=J[s.chartType]&&J[s.chartType][s.pluginName]&&J[s.chartType][s.pluginName][s.presetName]?J[s.chartType][s.pluginName][s.presetName]:null;return Ct(()=>{if(!a)return;const n=document.querySelector("#chart"),i=a.plugins.map(e=>new e),m=new a.chart(n,{preset:a.preset});m.plugins$.next(i),m.data$.next(a.data)}),(n,i)=>(Mt(),yt("div",Ca))}});export{pe as default};
