import{n as Yt,u as jt,q as Wt,o as Zt,c as qt}from"./ChVZcr6O.js";import{E as Kt,f as dt,D as Jt,a as Qt,S as X}from"./MjAKtQtj.js";import{D as te,a as ee,b as ae,c as ie,d as re,e as ne,G as _,f as b}from"./DUOO05n7.js";import{c as Pt,i as tt,a as B,m as T,o as se,b as oe,d as le,_ as ue,f as pe,O as U,p as ce,g as ge,h as me,Z as j,S as G,t as d,j as O,s as S,k as P,l as z,G as wt,n as At,q as xe,K as Bt}from"./Dy7f7BI4.js";import{g as he,f as ct,L as W}from"./Bo8xVbEj.js";import{P as Et,a as fe,b as de,c as Ae,d as ye,B as H,e as at,f as it,g as rt,h as De,i as Se,j as $e,k as Te,l as Pe,m as Ee,n as Le,o as _e,p as be}from"./DTrqMhXB.js";import{B as nt}from"./CNNqvDxf.js";import{B as st}from"./x_js2b_l.js";import{g as Fe,a as gt,b as N,c as k,d as Re,p as et,e as Ut,f as Ie,h as ke,z as Ne,m as ve,i as Ce,j as Lt,k as Me,l as _t}from"./CPNhRdj_.js";import{B as bt}from"./BDky3fLC.js";import{m as Oe,S as V,P as q}from"./CHjId4zZ.js";function Ge(l,i,a,n,r,m,c,p){var u=[],s=0,x=0,e=!1,t=function(){e&&!u.length&&!s&&i.complete()},g=function(f){return s<n?o(f):u.push(f)},o=function(f){s++;var A=!1;tt(a(f,x++)).subscribe(Pt(i,function(h){i.next(h)},function(){A=!0},void 0,function(){if(A)try{s--;for(var h=function(){var D=u.shift();c||o(D)};u.length&&s<n;)h();t()}catch(D){i.error(D)}}))};return l.subscribe(Pt(i,g,function(){e=!0,t()})),function(){}}function yt(l,i,a){return a===void 0&&(a=1/0),B(i)?yt(function(n,r){return T(function(m,c){return i(n,m,r,c)})(tt(l(n,r)))},a):(typeof i=="number"&&(a=i),se(function(n,r){return Ge(n,r,l,a)}))}function ze(l){return l===void 0&&(l=1/0),yt(oe,l)}var we=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],Ue=["on","off"];function mt(l,i,a,n){if(B(a)&&(n=a,a=void 0),n)return mt(l,i,a).pipe(le(n));var r=ue(Ve(l)?Be.map(function(p){return function(u){return l[p](i,u,a)}}):He(l)?we.map(Ft(l,i)):Xe(l)?Ue.map(Ft(l,i)):[],2),m=r[0],c=r[1];if(!m&&pe(l))return yt(function(p){return mt(p,i,a)})(tt(l));if(!m)throw new TypeError("Invalid event target");return new U(function(p){var u=function(){for(var s=[],x=0;x<arguments.length;x++)s[x]=arguments[x];return p.next(1<s.length?s:s[0])};return m(u),function(){return c(u)}})}function Ft(l,i){return function(a){return function(n){return l[a](i,n)}}}function He(l){return B(l.addListener)&&B(l.removeListener)}function Xe(l){return B(l.on)&&B(l.off)}function Ve(l){return B(l.addEventListener)&&B(l.removeEventListener)}function xt(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];var a=ce(l),n=ge(l,1/0),r=l;return r.length?r.length===1?tt(r[0]):ze(n)(me(r,a)):Kt}const Q="Dots",Ye=N(Q,"g"),je=N(Q,"circle");function We({selection:l,data:i,fullParams:a,fullChartParams:n,graphicOppositeScale:r}){const m=u=>{const s=u.size();return n.transitionDuration/s};let c=0;return l.selectAll("g").data(i,u=>u.id).join(u=>(c=m(u),u.append("g").classed(Ye,!0)),u=>u,u=>u.remove()).attr("transform",u=>`translate(${u.axisX}, ${u.axisY})`).each((u,s,x)=>{z(x[s]).selectAll("circle").data([u]).join(e=>e.append("circle").style("cursor","pointer").style("vector-effect","non-scaling-stroke").classed(je,!0).attr("opacity",0).transition().delay((t,g)=>s*c).attr("opacity",1),e=>e.transition().duration(50).attr("opacity",1),e=>e.remove()).attr("r",a.radius).attr("fill",(e,t)=>gt({datum:e,colorType:a.fillColorType,fullChartParams:n})).attr("stroke",(e,t)=>gt({datum:e,colorType:a.strokeColorType,fullChartParams:n})).attr("stroke-width",a.strokeWidth).attr("transform",`scale(${r[0]}, ${r[1]})`)})}function Ze({selection:l,ids:i,onlyShowHighlighted:a,fullChartParams:n}){if(l.interrupt("highlight"),!i.length){l.transition("highlight").duration(200).style("opacity",a===!0?0:1);return}l.each((r,m,c)=>{i.includes(r.id)?z(c[m]).style("opacity",1).transition("highlight").duration(200):z(c[m]).style("opacity",a===!0?0:n.styles.unhighlightedOpacity).transition("highlight").duration(200)})}function qe({defsSelection:l,clipPathData:i}){l.selectAll("clipPath").data(i).join(a=>a.append("clipPath"),a=>a,a=>a.remove()).attr("id",a=>a.id).each((a,n,r)=>{z(r[n]).selectAll("rect").data([a]).join("rect").attr("x",0).attr("y",0).attr("width",m=>m.width).attr("height",m=>m.height)})}const Z=j(Q,te)(({selection:l,name:i,subject:a,observer:n})=>{const r=new G,m=Fe(Q,"clipPath-box"),c=l.append("g").attr("clip-path",`url(#${m})`),p=c.append("defs"),u=c.append("g"),s=new G;n.gridAxesTransform$.pipe(d(r),T(o=>o.value),O()).subscribe(o=>{c.style("transform",o)}),n.gridGraphicTransform$.pipe(d(r),S(async o=>o.value),O()).subscribe(o=>{u.transition().duration(50).style("transform",o)});const x=n.gridGraphicTransform$.pipe(d(r),T(o=>[1/o.scale[0],1/o.scale[1]]));n.gridAxesSize$.pipe(d(r),S(async o=>o)).subscribe(o=>{const f=[{id:m,width:o.width,height:o.height}];qe({defsSelection:p,clipPathData:f})});const e=n.fullChartParams$.pipe(d(r),T(o=>o.highlightTarget),O());P({computedData:n.computedData$,visibleComputedData:n.visibleComputedData$,SeriesDataMap:n.SeriesDataMap$,GroupDataMap:n.GroupDataMap$,graphicOppositeScale:x,fullChartParams:n.fullChartParams$,fullParams:n.fullParams$,highlightTarget:e}).pipe(d(r),S(async o=>o)).subscribe(o=>{const f=We({selection:u,data:o.visibleComputedData.flat(),fullParams:o.fullParams,fullChartParams:o.fullChartParams,graphicOppositeScale:o.graphicOppositeScale});f.on("mouseover",(A,h)=>{A.stopPropagation(),a.event$.next({type:"grid",eventName:"mouseover",pluginName:i,highlightTarget:o.highlightTarget,datum:h,series:o.SeriesDataMap.get(h.seriesLabel),seriesIndex:h.seriesIndex,seriesLabel:h.seriesLabel,groups:o.GroupDataMap.get(h.groupLabel),groupIndex:h.groupIndex,groupLabel:h.groupLabel,event:A,data:o.computedData})}).on("mousemove",(A,h)=>{A.stopPropagation(),a.event$.next({type:"grid",eventName:"mousemove",pluginName:i,highlightTarget:o.highlightTarget,data:o.computedData,datum:h,series:o.SeriesDataMap.get(h.seriesLabel),seriesIndex:h.seriesIndex,seriesLabel:h.seriesLabel,groups:o.GroupDataMap.get(h.groupLabel),groupIndex:h.groupIndex,groupLabel:h.groupLabel,event:A})}).on("mouseout",(A,h)=>{A.stopPropagation(),a.event$.next({type:"grid",eventName:"mouseout",pluginName:i,highlightTarget:o.highlightTarget,datum:h,series:o.SeriesDataMap.get(h.seriesLabel),seriesIndex:h.seriesIndex,seriesLabel:h.seriesLabel,groups:o.GroupDataMap.get(h.groupLabel),groupIndex:h.groupIndex,groupLabel:h.groupLabel,event:A,data:o.computedData})}).on("click",(A,h)=>{A.stopPropagation(),a.event$.next({type:"grid",eventName:"click",pluginName:i,highlightTarget:o.highlightTarget,datum:h,series:o.SeriesDataMap.get(h.seriesLabel),seriesIndex:h.seriesIndex,seriesLabel:h.seriesLabel,groups:o.GroupDataMap.get(h.groupLabel),groupIndex:h.groupIndex,groupLabel:h.groupLabel,event:A,data:o.computedData})}),s.next(f)});const t=n.gridHighlight$.subscribe(),g=n.fullParams$.pipe(d(r),T(o=>o.onlyShowHighlighted),O());return n.fullChartParams$.pipe(d(r),S(o=>P({graphicSelection:s,highlight:n.gridHighlight$,onlyShowHighlighted:g,fullChartParams:n.fullChartParams$}).pipe(d(r),S(async f=>f)))).subscribe(o=>{Ze({selection:o.graphicSelection,ids:o.highlight,onlyShowHighlighted:o.onlyShowHighlighted,fullChartParams:o.fullChartParams})}),()=>{t.unsubscribe(),r.next(void 0)}}),Dt="GroupAxis",Rt=N(Dt,"xAxis"),It=N(Dt,"groupingLabel"),ot=6;function Ke({selection:l,params:i,tickTextAlign:a,axisLabelAlign:n,gridAxesSize:r,fullDataFormatter:m,chartParams:c,groupScale:p,contentTransform:u}){const s=l.selectAll(`g.${Rt}`).data([i]).join("g").classed(Rt,!0);l.selectAll(`g.${It}`).data([i]).join("g").classed(It,!0).each((t,g,o)=>{z(o[g]).selectAll("text").data([t]).join(f=>f.append("text").style("font-weight","bold"),f=>f,f=>f.remove()).attr("text-anchor",n.textAnchor).attr("dominant-baseline",n.dominantBaseline).style("font-size",`${c.styles.textSize}px`).style("fill",k(i.labelColorType,c)).style("transform",u).text(f=>m.groupAxis.label)}).attr("transform",t=>`translate(${r.width+t.tickPadding+i.labelOffset[0]}, ${-t.tickPadding-ot-i.labelOffset[1]})`);const x=Re(p).scale(p).tickSize(i.tickFullLine==!0?-r.height:ot).tickSizeOuter(0).tickFormat(t=>et(t,i.tickFormat)).tickPadding(i.tickPadding),e=s.transition().duration(100).call(x);return e.selectAll("line").style("fill","none").style("stroke",i.tickLineVisible==!0?k(i.tickColorType,c):"none").style("stroke-dasharray",i.tickFullLineDasharray).attr("pointer-events","none"),e.selectAll("path").style("fill","none").style("stroke",i.axisLineVisible==!0?k(i.axisLineColorType,c):"none").style("shape-rendering","crispEdges"),s.selectAll("text").style("font-family","sans-serif").style("font-size",`${c.styles.textSize}px`).style("color",k(i.tickTextColorType,c)).attr("text-anchor",a.textAnchor).attr("dominant-baseline",a.dominantBaseline).attr("transform-origin",`0 -${i.tickPadding+ot}`).style("transform",u),s}const F=j(Dt,ee)(({selection:l,name:i,observer:a,subject:n})=>{const r=new G,m=l.append("g");a.gridAxesTransform$.pipe(d(r),T(x=>x.value),O()).subscribe(x=>{m.style("transform",x).attr("opacity",0).transition().attr("opacity",1)});const c=P({fullParams:a.fullParams$,gridAxesOppositeTransform:a.gridAxesOppositeTransform$}).pipe(d(r),S(async x=>{const e=x.gridAxesOppositeTransform.rotate+x.fullParams.tickTextRotate;return`translate(${x.gridAxesOppositeTransform.translate[0]}px, ${x.gridAxesOppositeTransform.translate[1]}px) rotate(${e}deg) rotateX(${x.gridAxesOppositeTransform.rotateX}deg) rotateY(${x.gridAxesOppositeTransform.rotateY}deg)`}),O()),p=new U(x=>{P({fullDataFormatter:a.fullDataFormatter$,gridAxesSize:a.gridAxesSize$,computedData:a.computedData$}).pipe(d(r),S(async e=>e)).subscribe(e=>{const g=e.computedData[0]?e.computedData[0].length-1:0,o=e.fullDataFormatter.groupAxis.scaleDomain[0]==="auto"?0-e.fullDataFormatter.groupAxis.scalePadding:e.fullDataFormatter.groupAxis.scaleDomain[0]-e.fullDataFormatter.groupAxis.scalePadding,f=e.fullDataFormatter.groupAxis.scaleDomain[1]==="auto"?g+e.fullDataFormatter.groupAxis.scalePadding:e.fullDataFormatter.groupAxis.scaleDomain[1]+e.fullDataFormatter.groupAxis.scalePadding,A=e.computedData[0]?e.computedData[0].length:0;let h=e.fullDataFormatter.grid.seriesType==="row"?(e.computedData[0]??[]).map(v=>v.groupLabel):e.computedData.map(v=>v[0].groupLabel);const D=new Array(A).fill(0).map((v,L)=>h[L]!=null?h[L]:String(L)).filter((v,L)=>L>=o&&L<=f),E=e.fullDataFormatter.groupAxis.scalePadding,y=wt({axisLabels:D,axisWidth:e.gridAxesSize.width,padding:E});x.next(y)})}),u=a.fullDataFormatter$.pipe(d(r),T(x=>{let e="middle",t="hanging";return x.groupAxis.position==="bottom"?(e="middle",t="hanging"):x.groupAxis.position==="top"?(e="middle",t="auto"):x.groupAxis.position==="left"?(e="end",t="middle"):x.groupAxis.position==="right"&&(e="start",t="middle"),{textAnchor:e,dominantBaseline:t}})),s=a.fullDataFormatter$.pipe(d(r),T(x=>{let e="start",t="hanging";return x.groupAxis.position==="bottom"?t="hanging":x.groupAxis.position==="top"?t="auto":x.groupAxis.position==="left"?e="end":x.groupAxis.position==="right"&&(e="start"),x.valueAxis.position==="left"?e="start":x.valueAxis.position==="right"?e="end":x.valueAxis.position==="bottom"?t="auto":x.valueAxis.position==="top"&&(t="hanging"),{textAnchor:e,dominantBaseline:t}}));return P({params:a.fullParams$,tickTextAlign:u,axisLabelAlign:s,gridAxesSize:a.gridAxesSize$,fullDataFormatter:a.fullDataFormatter$,chartParams:a.fullChartParams$,groupScale:p,contentTransform:c}).pipe(d(r),S(async x=>x)).subscribe(x=>{Ke({selection:m,params:x.params,tickTextAlign:x.tickTextAlign,axisLabelAlign:x.axisLabelAlign,gridAxesSize:x.gridAxesSize,fullDataFormatter:x.fullDataFormatter,chartParams:x.chartParams,groupScale:x.groupScale,contentTransform:x.contentTransform})}),()=>{r.next(void 0)}}),St="ValueAxis",kt=N(St,"g"),Nt=N(St,"text"),vt=6;function Je({selection:l,fullParams:i,tickTextAlign:a,axisLabelAlign:n,gridAxesSize:r,fullDataFormatter:m,fullChartParams:c,valueScale:p,contentTransform:u,minAndMax:s}){const x=l.selectAll(`g.${kt}`).data([i]).join("g").classed(kt,!0);l.selectAll(`g.${Nt}`).data([i]).join("g").classed(Nt,!0).each((f,A,h)=>{z(h[A]).selectAll("text").data([f]).join(D=>D.append("text").style("font-weight","bold"),D=>D,D=>D.remove()).attr("text-anchor",n.textAnchor).attr("dominant-baseline",n.dominantBaseline).style("font-size",`${c.styles.textSize}px`).style("fill",k(i.labelColorType,c)).style("transform",u).text(D=>m.valueAxis.label)}).attr("transform",f=>`translate(${-f.tickPadding+i.labelOffset[0]}, ${r.height+f.tickPadding+i.labelOffset[1]})`);const e=s[1]-s[0],t=Ut(p).scale(p).ticks(e>i.ticks?i.ticks:s[0]===0&&s[1]===0?1:Math.ceil(e)).tickFormat(f=>et(f,i.tickFormat)).tickSize(i.tickFullLine==!0?-r.width:vt).tickPadding(i.tickPadding),g=x.transition().duration(100).call(t);return g.selectAll("line").style("fill","none").style("stroke",i.tickLineVisible==!0?k(i.tickColorType,c):"none").style("stroke-dasharray",i.tickFullLineDasharray).attr("pointer-events","none"),g.selectAll("path").style("fill","none").style("stroke",i.axisLineVisible==!0?k(i.axisLineColorType,c):"none").style("shape-rendering","crispEdges"),x.selectAll("text").style("font-family","sans-serif").style("font-size",`${c.styles.textSize}px`).style("color",k(i.tickTextColorType,c)).attr("text-anchor",a.textAnchor).attr("dominant-baseline",a.dominantBaseline).attr("transform-origin",`-${i.tickPadding+vt} 0`).style("transform",u),x}const M=j(St,ae)(({selection:l,name:i,observer:a,subject:n})=>{const r=new G,m=l.append("g");a.gridAxesTransform$.pipe(d(r),T(e=>e.value),O()).subscribe(e=>{m.style("transform",e).attr("opacity",0).transition().attr("opacity",1)});const c=P({fullParams:a.fullParams$,gridAxesOppositeTransform:a.gridAxesOppositeTransform$}).pipe(d(r),S(async e=>{const t=e.gridAxesOppositeTransform.rotate+e.fullParams.tickTextRotate;return`translate(${e.gridAxesOppositeTransform.translate[0]}px, ${e.gridAxesOppositeTransform.translate[1]}px) rotate(${t}deg) rotateX(${e.gridAxesOppositeTransform.rotateX}deg) rotateY(${e.gridAxesOppositeTransform.rotateY}deg)`}),O()),p=new U(e=>{P({fullDataFormatter:a.fullDataFormatter$,gridAxesSize:a.gridAxesSize$,computedData:a.computedData$}).pipe(d(r),S(async t=>t)).subscribe(t=>{const o=t.computedData[0]?t.computedData[0].length-1:0,f=t.fullDataFormatter.groupAxis.scaleDomain[0]==="auto"?0-t.fullDataFormatter.groupAxis.scalePadding:t.fullDataFormatter.groupAxis.scaleDomain[0]-t.fullDataFormatter.groupAxis.scalePadding,A=t.fullDataFormatter.groupAxis.scaleDomain[1]==="auto"?o+t.fullDataFormatter.groupAxis.scalePadding:t.fullDataFormatter.groupAxis.scaleDomain[1]+t.fullDataFormatter.groupAxis.scalePadding,h=t.computedData.map((E,y)=>E.filter((v,L)=>L>=f&&L<=A)),D=Ie(h.flat());e.next(D)})}),u=new U(e=>{P({fullDataFormatter:a.fullDataFormatter$,gridAxesSize:a.gridAxesSize$,minAndMax:p}).pipe(d(r),S(async t=>t)).subscribe(t=>{const g=At({maxValue:t.minAndMax[1],minValue:t.minAndMax[0],axisWidth:t.gridAxesSize.height,scaleDomain:t.fullDataFormatter.valueAxis.scaleDomain,scaleRange:t.fullDataFormatter.valueAxis.scaleRange});e.next(g)})}),s=a.fullDataFormatter$.pipe(d(r),T(e=>{let t="start",g="hanging";return e.valueAxis.position==="left"?(t="end",g="middle"):e.valueAxis.position==="right"?(t="start",g="middle"):e.valueAxis.position==="bottom"?(t="middle",g="hanging"):e.valueAxis.position==="top"&&(t="middle",g="auto"),{textAnchor:t,dominantBaseline:g}})),x=a.fullDataFormatter$.pipe(d(r),T(e=>{let t="start",g="hanging";return e.groupAxis.position==="bottom"?g="auto":e.groupAxis.position==="top"?g="hanging":e.groupAxis.position==="left"?t="start":e.groupAxis.position==="right"&&(t="end"),e.valueAxis.position==="left"?t="end":e.valueAxis.position==="right"?t="start":e.valueAxis.position==="bottom"?g="hanging":e.valueAxis.position==="top"&&(g="auto"),{textAnchor:t,dominantBaseline:g}}));return P({fullParams:a.fullParams$,tickTextAlign:s,axisLabelAlign:x,computedData:a.computedData$,gridAxesSize:a.gridAxesSize$,fullDataFormatter:a.fullDataFormatter$,fullChartParams:a.fullChartParams$,valueScale:u,contentTransform:c,minAndMax:p}).pipe(d(r),S(async e=>e)).subscribe(e=>{Je({selection:m,fullParams:e.fullParams,tickTextAlign:e.tickTextAlign,axisLabelAlign:e.axisLabelAlign,gridAxesSize:e.gridAxesSize,fullDataFormatter:e.fullDataFormatter,fullChartParams:e.fullChartParams,valueScale:e.valueScale,contentTransform:e.contentTransform,minAndMax:e.minAndMax})}),()=>{r.next(void 0)}}),$t="ValueStackAxis",Ct=N($t,"g"),Mt=N($t,"text"),Ot=6;function Qe({selection:l,fullParams:i,tickTextAlign:a,axisLabelAlign:n,gridAxesSize:r,fullDataFormatter:m,fullChartParams:c,valueScale:p,contentTransform:u,minAndMax:s}){const x=l.selectAll(`g.${Ct}`).data([i]).join("g").classed(Ct,!0);l.selectAll(`g.${Mt}`).data([i]).join("g").classed(Mt,!0).each((f,A,h)=>{z(h[A]).selectAll("text").data([f]).join(D=>D.append("text").style("font-weight","bold"),D=>D,D=>D.remove()).attr("text-anchor",n.textAnchor).attr("dominant-baseline",n.dominantBaseline).style("font-size",`${c.styles.textSize}px`).style("fill",k(i.labelColorType,c)).style("transform",u).text(D=>m.valueAxis.label)}).attr("transform",f=>`translate(${-f.tickPadding+i.labelOffset[0]}, ${r.height+f.tickPadding+i.labelOffset[1]})`);const e=s[1]-s[0],t=Ut(p).scale(p).ticks(e>i.ticks?i.ticks:s[0]===0&&s[1]===0?1:Math.ceil(e)).tickFormat(f=>et(f,i.tickFormat)).tickSize(i.tickFullLine==!0?-r.width:Ot).tickPadding(i.tickPadding),g=x.transition().duration(100).call(t);return g.selectAll("line").style("fill","none").style("stroke",i.tickLineVisible==!0?k(i.tickColorType,c):"none").style("stroke-dasharray",i.tickFullLineDasharray).attr("pointer-events","none"),g.selectAll("path").style("fill","none").style("stroke",i.axisLineVisible==!0?k(i.axisLineColorType,c):"none").style("shape-rendering","crispEdges"),x.selectAll("text").style("font-family","sans-serif").style("font-size",`${c.styles.textSize}px`).style("color",k(i.tickTextColorType,c)).attr("text-anchor",a.textAnchor).attr("dominant-baseline",a.dominantBaseline).attr("transform-origin",`-${i.tickPadding+Ot} 0`).style("transform",u),x}const lt=j($t,ie)(({selection:l,name:i,observer:a,subject:n})=>{const r=new G,m=l.append("g");a.gridAxesTransform$.pipe(d(r),T(e=>e.value),O()).subscribe(e=>{m.style("transform",e).attr("opacity",0).transition().attr("opacity",1)});const c=P({fullParams:a.fullParams$,gridAxesOppositeTransform:a.gridAxesOppositeTransform$}).pipe(d(r),S(async e=>{const t=e.gridAxesOppositeTransform.rotate+e.fullParams.tickTextRotate;return`translate(${e.gridAxesOppositeTransform.translate[0]}px, ${e.gridAxesOppositeTransform.translate[1]}px) rotate(${t}deg) rotateX(${e.gridAxesOppositeTransform.rotateX}deg) rotateY(${e.gridAxesOppositeTransform.rotateY}deg)`}),O()),p=new U(e=>{P({fullDataFormatter:a.fullDataFormatter$,gridAxesSize:a.gridAxesSize$,computedData:a.computedData$}).pipe(d(r),S(async t=>t)).subscribe(t=>{const o=t.computedData[0]?t.computedData[0].length-1:0,f=t.fullDataFormatter.groupAxis.scaleDomain[0]==="auto"?0-t.fullDataFormatter.groupAxis.scalePadding:t.fullDataFormatter.groupAxis.scaleDomain[0]-t.fullDataFormatter.groupAxis.scalePadding,A=t.fullDataFormatter.groupAxis.scaleDomain[1]==="auto"?o+t.fullDataFormatter.groupAxis.scalePadding:t.fullDataFormatter.groupAxis.scaleDomain[1]+t.fullDataFormatter.groupAxis.scalePadding,h=t.computedData.map((y,v)=>y.filter((L,C)=>C>=f&&C<=A)),D=new Array(h[0]?h[0].length:0).fill(null).map((y,v)=>h.reduce((L,C)=>{if(C&&C[v]){const w=C[v].value==null||C[v].visible==!1?0:C[v].value;return L+w}return L},0)),E=ke(D);e.next(E)})}),u=new U(e=>{P({fullDataFormatter:a.fullDataFormatter$,gridAxesSize:a.gridAxesSize$,minAndMax:p}).pipe(d(r),S(async t=>t)).subscribe(t=>{const g=At({maxValue:t.minAndMax[1],minValue:t.minAndMax[0],axisWidth:t.gridAxesSize.height,scaleDomain:t.fullDataFormatter.valueAxis.scaleDomain,scaleRange:t.fullDataFormatter.valueAxis.scaleRange});e.next(g)})}),s=a.fullDataFormatter$.pipe(d(r),T(e=>{let t="start",g="hanging";return e.valueAxis.position==="left"?(t="end",g="middle"):e.valueAxis.position==="right"?(t="start",g="middle"):e.valueAxis.position==="bottom"?(t="middle",g="hanging"):e.valueAxis.position==="top"&&(t="middle",g="auto"),{textAnchor:t,dominantBaseline:g}})),x=a.fullDataFormatter$.pipe(d(r),T(e=>{let t="start",g="hanging";return e.groupAxis.position==="bottom"?g="auto":e.groupAxis.position==="top"?g="hanging":e.groupAxis.position==="left"?t="start":e.groupAxis.position==="right"&&(t="end"),e.valueAxis.position==="left"?t="end":e.valueAxis.position==="right"?t="start":e.valueAxis.position==="bottom"?g="hanging":e.valueAxis.position==="top"&&(g="auto"),{textAnchor:t,dominantBaseline:g}}));return P({fullParams:a.fullParams$,tickTextAlign:s,axisLabelAlign:x,computedData:a.computedData$,gridAxesSize:a.gridAxesSize$,fullDataFormatter:a.fullDataFormatter$,fullChartParams:a.fullChartParams$,valueScale:u,contentTransform:c,minAndMax:p}).pipe(d(r),S(async e=>e)).subscribe(e=>{Qe({selection:m,fullParams:e.fullParams,tickTextAlign:e.tickTextAlign,axisLabelAlign:e.axisLabelAlign,gridAxesSize:e.gridAxesSize,fullDataFormatter:e.fullDataFormatter,fullChartParams:e.fullChartParams,valueScale:e.valueScale,contentTransform:e.contentTransform,minAndMax:e.minAndMax})}),()=>{r.next(void 0)}}),Ht="ScalingArea",ta=N(Ht,"rect"),R=j(Ht,re)(({selection:l,rootSelection:i,name:a,observer:n,subject:r})=>{const m=new G,c=i.insert("rect","g").classed(ta,!0).attr("opacity",0);let p={k:1,x:0,y:0};n.layout$.pipe(d(m)).subscribe(s=>{c.attr("width",s.width).attr("height",s.height).attr("x",s.left).attr("y",s.top)});const u=n.computedData$.pipe(T(s=>s[0]?s[0].length-1:0),O());return P({initGroupAxis:n.fullDataFormatter$.pipe(T(s=>s.groupAxis),dt()),fullDataFormatter:n.fullDataFormatter$,groupMaxIndex:u,layout:n.layout$,axisSize:n.gridAxesSize$}).pipe(d(m),S(async s=>s)).subscribe(s=>{const e=s.groupMaxIndex,t=s.initGroupAxis.scaleDomain[0]==="auto"?0-s.initGroupAxis.scalePadding:s.initGroupAxis.scaleDomain[0]-s.initGroupAxis.scalePadding,g=s.initGroupAxis.scaleDomain[1]==="auto"?e+s.initGroupAxis.scalePadding:s.initGroupAxis.scaleDomain[1]+s.initGroupAxis.scalePadding,o=s.fullDataFormatter.valueAxis.position==="left"||s.fullDataFormatter.valueAxis.position==="top"?[0,1]:[1,0],A=At({maxValue:s.groupMaxIndex,minValue:0,axisWidth:s.axisSize.width,scaleDomain:[t,g],scaleRange:o}).copy(),h=Ne().on("zoom",function(E){const y=E.transform,v=C=>{const w=Math.round(C);return Math.min(e,Math.max(0,w))},L=s.fullDataFormatter.groupAxis.position==="bottom"||s.fullDataFormatter.groupAxis.position==="top"?y.rescaleX(A).domain().map(v):y.rescaleY(A).domain().map(v);L[0]<=0&&L[1]>=e?y.k<p.k&&(y.k=p.k,y.x=p.x,y.y=p.y):L[1]-L[0]<=1&&y.k>p.k&&(y.k=p.k,y.x=p.x,y.y=p.y),p.k=y.k,p.x=y.x,p.y=y.y,r.dataFormatter$.next({...s.fullDataFormatter,groupAxis:{...s.fullDataFormatter.groupAxis,scaleDomain:L}})});i.call(h)}),()=>{m.next(void 0),c.remove()}});function ea(l,i){let a=new U(()=>{});return l.each(function(){const n=mt(this,i);a=xt(a,n)}),a}const ht="GroupArea",ft=N(ht,"label-box");function aa({groupLabel:l,axisX:i,axisHeight:a,fullParams:n}){return n.showLine&&l?[{id:l,x1:i,x2:i,y1:0,y2:a}]:[]}function ia({selection:l,pluginName:i,lineData:a,fullParams:n,fullChartParams:r}){const m=N(i,"auxline"),c=l.selectAll(`line.${m}`).data(a),p=c.enter().append("line").classed(m,!0).style("stroke",s=>k(n.lineColorType,r)).style("stroke-width",1).style("stroke-dasharray",n.lineDashArray??"none").style("pointer-events","none"),u=c.merge(p);return c.exit().remove(),p.attr("x1",s=>s.x1).attr("y1",s=>s.y1).attr("x2",s=>s.x2).attr("y2",s=>s.y2),c.transition().duration(50).attr("x1",s=>s.x1).attr("y1",s=>s.y1).attr("x2",s=>s.x2).attr("y2",s=>s.y2),u}function ra(l){l.selectAll("line").data([]).exit().remove()}function na({groupLabel:l,axisX:i,fullParams:a}){return a.showLabel&&l?[{id:l,x:i,y:-a.labelPadding,text:et(l,a.labelTextFormat)}]:[]}function sa({selection:l,labelData:i,fullParams:a,fullChartParams:n,gridAxesOppositeTransformValue:r}){const m=n.styles.textSize+4,c=l.selectAll(`g.${ft}`).data(i),p=c.enter().append("g").classed(ft,!0).style("cursor","pointer"),u=p.merge(c);return p.attr("transform",(s,x)=>`translate(${s.x}, ${s.y})`),c.transition().duration(50).attr("transform",(s,x)=>`translate(${s.x}, ${s.y})`),c.exit().remove(),u.each((s,x,e)=>{const t=ve(s.text,n.styles.textSize)+12,g=-t/2,o=z(e[x]).selectAll("rect").data([s]),f=o.enter().append("rect").attr("height",`${m}px`).attr("fill",D=>k(a.labelColorType,n)).attr("x",g).attr("y",-2).attr("rx",5).attr("ry",5).style("cursor","pointer");o.merge(f).attr("width",D=>`${t}px`).style("transform",r),o.exit().remove();const A=z(e[x]).selectAll("text").data([s]),h=A.enter().append("text").style("dominant-baseline","hanging").style("cursor","pointer");A.merge(h).text(D=>D.text).style("transform",r).attr("fill",D=>k(a.labelTextColorType,n)).attr("font-size",n.styles.textSize).attr("x",g+6),A.exit().remove()}),u}function oa(l){l.selectAll(`g.${ft}`).data([]).exit().remove()}const la=j(ht,ne)(({selection:l,rootSelection:i,name:a,subject:n,observer:r})=>{const m=new G,c=i.insert("rect","g").classed(N(ht,"rect"),!0).attr("opacity",0),p=l.append("g");r.layout$.pipe(d(m)).subscribe(t=>{c.attr("width",t.rootWidth).attr("height",t.rootHeight)}),r.gridAxesTransform$.pipe(d(m),T(t=>t.value),O()).subscribe(t=>{p.style("transform",t)});const u=new U(t=>{P({fullDataFormatter:r.fullDataFormatter$,gridAxesSize:r.gridAxesSize$,computedData:r.computedData$}).pipe(d(m),S(async g=>g)).subscribe(g=>{const f=g.computedData[0]?g.computedData[0].length-1:0,A=g.fullDataFormatter.groupAxis.scaleDomain[0]==="auto"?0-g.fullDataFormatter.groupAxis.scalePadding:g.fullDataFormatter.groupAxis.scaleDomain[0]-g.fullDataFormatter.groupAxis.scalePadding,h=g.fullDataFormatter.groupAxis.scaleDomain[1]==="auto"?f+g.fullDataFormatter.groupAxis.scalePadding:g.fullDataFormatter.groupAxis.scaleDomain[1]+g.fullDataFormatter.groupAxis.scalePadding,D=g.computedData[0]?g.computedData[0].length:0;let E=g.fullDataFormatter.grid.seriesType==="row"?(g.computedData[0]??[]).map(C=>C.groupLabel):g.computedData.map(C=>C[0].groupLabel);const y=new Array(D).fill(0).map((C,w)=>E[w]!=null?E[w]:String(w)).filter((C,w)=>w>=A&&w<=h),v=g.fullDataFormatter.groupAxis.scalePadding,L=wt({axisLabels:y,axisWidth:g.gridAxesSize.width,padding:v});t.next(L)})}),s=he({fullDataFormatter$:r.fullDataFormatter$,gridAxesSize$:r.gridAxesSize$,computedData$:r.computedData$,fullChartParams$:r.fullChartParams$}),x=r.fullChartParams$.pipe(d(m),T(t=>t.highlightTarget),O());return P({computedData:r.computedData$,gridAxesSize:r.gridAxesSize$,fullParams:r.fullParams$,fullChartParams:r.fullChartParams$,highlightTarget:x,SeriesDataMap:r.SeriesDataMap$,GroupDataMap:r.GroupDataMap$,gridGroupPositionFn:s,groupScale:u}).pipe(d(m),S(async t=>t)).subscribe(t=>{i.on("mouseover",(g,o)=>{const{groupIndex:f,groupLabel:A}=t.gridGroupPositionFn(g);n.event$.next({type:"grid",pluginName:a,eventName:"mouseover",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.GroupDataMap.get(A)??[],groupIndex:f,groupLabel:A,event:g,data:t.computedData})}).on("mousemove",(g,o)=>{const{groupIndex:f,groupLabel:A}=t.gridGroupPositionFn(g);n.event$.next({type:"grid",pluginName:a,eventName:"mousemove",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.GroupDataMap.get(A)??[],groupIndex:f,groupLabel:A,event:g,data:t.computedData})}).on("mouseout",(g,o)=>{const{groupIndex:f,groupLabel:A}=t.gridGroupPositionFn(g);n.event$.next({type:"grid",pluginName:a,eventName:"mouseout",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.GroupDataMap.get(A)??[],groupIndex:f,groupLabel:A,event:g,data:t.computedData})}).on("click",(g,o)=>{g.stopPropagation();const{groupIndex:f,groupLabel:A}=t.gridGroupPositionFn(g);n.event$.next({type:"grid",pluginName:a,eventName:"click",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.GroupDataMap.get(A)??[],groupIndex:f,groupLabel:A,event:g,data:t.computedData})})}),P({event:n.event$.pipe(ct(t=>t.eventName==="mouseover"||t.eventName==="mousemove")),computedData:r.computedData$,groupScale:u,gridAxesSize:r.gridAxesSize$,fullParams:r.fullParams$,fullChartParams:r.fullChartParams$,highlightTarget:x,gridAxesOppositeTransform:r.gridAxesOppositeTransform$,GroupDataMap:r.GroupDataMap$,gridGroupPositionFn:s}).pipe(d(m),S(async t=>t)).subscribe(t=>{const g=t.groupScale(t.event.groupLabel)??0,o=aa({groupLabel:t.event.groupLabel,axisX:g,axisHeight:t.gridAxesSize.height,fullParams:t.fullParams});ia({selection:p,pluginName:a,lineData:o,fullParams:t.fullParams,fullChartParams:t.fullChartParams});const f=na({groupLabel:t.event.groupLabel,axisX:g,fullParams:t.fullParams});sa({selection:p,labelData:f,fullParams:t.fullParams,fullChartParams:t.fullChartParams,gridAxesOppositeTransformValue:t.gridAxesOppositeTransform.value}).on("mouseover",(h,D)=>{const{groupIndex:E,groupLabel:y}=t.gridGroupPositionFn(h);n.event$.next({type:"grid",pluginName:a,eventName:"mouseover",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.event.groups,groupIndex:E,groupLabel:y,event:h,data:t.computedData})}).on("mousemove",(h,D)=>{const{groupIndex:E,groupLabel:y}=t.gridGroupPositionFn(h);n.event$.next({type:"grid",pluginName:a,eventName:"mousemove",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.event.groups,groupIndex:E,groupLabel:y,event:h,data:t.computedData})}).on("mouseout",(h,D)=>{const{groupIndex:E,groupLabel:y}=t.gridGroupPositionFn(h);n.event$.next({type:"grid",pluginName:a,eventName:"mouseout",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.event.groups,groupIndex:E,groupLabel:y,event:h,data:t.computedData})}).on("click",(h,D)=>{const{groupIndex:E,groupLabel:y}=t.gridGroupPositionFn(h);n.event$.next({type:"grid",pluginName:a,eventName:"click",highlightTarget:t.highlightTarget,datum:null,series:[],seriesIndex:-1,seriesLabel:"",groups:t.event.groups,groupIndex:E,groupLabel:y,event:h,data:t.computedData})})}),ea(c,"mouseout").pipe(d(m)).subscribe(t=>{console.log("rootMouseout"),ra(p),oa(p)}),()=>{m.next(void 0),c.remove()}}),ua={backgroundColorType:"background",strokeColorType:"primary",backgroundOpacity:.8,textColorType:"primary",offset:[20,5],padding:10,textRenderFn:l=>{if(l.highlightTarget==="datum"&&l.datum)return[`${l.datum.label}: ${l.datum.value}`];if(l.highlightTarget==="series"){const i=l.seriesLabel,a=l.series.map(n=>n.value).join(",");return[i,a]}else if(l.highlightTarget==="group"){const i=l.groupLabel,a=l.groups.map(n=>n.value).join(",");return[i,a]}return[]},svgRenderFn:null},Tt="Tooltip",Gt=N(Tt,"g"),pa=N(Tt,"box");function ca(l,i){const a=i.textSize*1.5;return l.filter(n=>n!="").map((n,r)=>{const m=r*a;return`<text font-size="${i.textSize}" fill="${i.textColor}" x="0" y="${m}" style="dominant-baseline:text-before-edge">${n}</text>`}).join()}function ga({rootSelection:l,pluginName:i,rootWidth:a,rootHeight:n,svgString:r,tooltipStyle:m,event:c}){l.interrupt("fadeout");const p=5,u=r?[r]:[],s=r?[m]:[],e=l.selectAll(`g.${Gt}`).data(u).join(y=>y.append("g").classed(Gt,!0).attr("pointer-events","none"),y=>y,y=>y.style("opacity",0).remove()).attr("transform",()=>`translate(${c.offsetX}, ${c.offsetY})`).selectAll(`g.${pa}`).data(s).join(y=>y.append("g").classed(N(i,"box"),!0)),t=e.selectAll("rect").data(s).join(y=>y.append("rect").attr("rx",p).attr("ry",p)).attr("fill",y=>y.backgroundColor).attr("stroke",y=>y.strokeColor).attr("opacity",y=>y.backgroundOpacity),g=e.selectAll("g").data(u).join(y=>y.append("g").classed(N(i,"content"),!0).attr("transform",()=>`translate(${m.padding}, ${m.padding})`));u.length&&Ce(g,u[0]);const o=g!=null&&g.node()?Lt(g):{width:0,height:0};t.attr("width",o.width+m.padding*2).attr("height",o.height+m.padding*2);const f=e!=null&&e.node()?Lt(e):{width:0,height:0},A=a-f.width,h=n-f.height,D=c.offsetX+m.offset[0]>A?A-c.offsetX:m.offset[0],E=c.offsetY+m.offset[1]>h?h-c.offsetY:m.offset[1];e.attr("transform",y=>`translate(${D}, ${E})`),e.attr("transform",y=>`translate(${D}, ${E})`)}const $=xe(Tt,ua)(({selection:l,rootSelection:i,name:a,chartType:n,observer:r,subject:m})=>{const c=new G,p=m.event$.pipe(d(c),ct(o=>o.eventName==="mouseover"||o.eventName==="mousemove")),u=m.event$.pipe(d(c),ct(o=>o.eventName==="mouseout")),s=P({fullChartParams:r.fullChartParams$,fullParams:r.fullParams$}).pipe(d(c),S(async o=>o),T(o=>({backgroundColor:k(o.fullParams.backgroundColorType,o.fullChartParams),backgroundOpacity:o.fullParams.backgroundOpacity,strokeColor:k(o.fullParams.strokeColorType,o.fullChartParams),offset:o.fullParams.offset,padding:o.fullParams.padding,textSize:o.fullChartParams.styles.textSize,textColor:k(o.fullParams.textColorType,o.fullChartParams)}))),x=P({fullParams:r.fullParams$,tooltipStyle:s}).pipe(d(c),S(async o=>o),T(o=>o.fullParams.svgRenderFn?o.fullParams.svgRenderFn:f=>{const A=o.fullParams.textRenderFn(f);return ca(A,o.tooltipStyle)})),e=P({event:p,contentRenderFn:x}).pipe(d(c),S(async o=>o),T(o=>o.contentRenderFn(o.event))),t=u.pipe(d(c),T(o=>"")),g=xt(p,u).pipe(d(c),T(o=>o.event));return P({svgString:xt(e,t),event:g,layout:r.layout$,tooltipStyle:s}).pipe(d(c),S(async o=>o)).subscribe(o=>{ga({rootSelection:i,pluginName:a,rootWidth:o.layout.rootWidth,rootHeight:o.layout.rootHeight,svgString:o.svgString,tooltipStyle:o.tooltipStyle,event:o.event})}),function(){c.next(void 0)}}),Xt="PieEventTexts",zt=N(Xt,"text");function ut(l,i){const a=l.selectAll(`text.${zt}`).data(i),n=a.enter().append("text").classed(zt,!0),r=a.merge(n);return r.each((m,c,p)=>{const u=z(p[c]).text(m.text);Object.keys(m.attr).forEach(s=>{u.attr(s,m.attr[s])}),Object.keys(m.style).forEach(s=>{u.style(s,m.style[s])})}),a.exit().remove(),r}function pt({eventData:l,eventName:i,t:a,eventFn:n,textAttrs:r,textStyles:m}){return n(l,i,a).map((p,u)=>({text:p,attr:r[u],style:m[u]}))}const ma=Bt(Xt,Jt)(({selection:l,name:i,observer:a,subject:n})=>{const r=new G,m=l.append("g");let c;a.layout$.pipe(dt()).subscribe(u=>{l.attr("transform",`translate(${u.width/2}, ${u.height/2})`),a.layout$.pipe(d(r)).subscribe(s=>{l.transition().attr("transform",`translate(${s.width/2}, ${s.height/2})`)})});const p=a.fullChartParams$.pipe(d(r),T(u=>u.highlightTarget),O());return P({computedData:a.computedData$,fullParams:a.fullParams$,fullChartParams:a.fullChartParams$,highlightTarget:p}).pipe(d(r),S(async u=>u)).subscribe(u=>{m.transition().duration(u.fullChartParams.transitionDuration).ease(Me(u.fullChartParams.transitionEase)).tween("move",(s,x)=>e=>{const t=pt({eventData:{type:"series",pluginName:i,eventName:"transitionMove",event:s,highlightTarget:u.highlightTarget,data:u.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:e,eventFn:u.fullParams.eventFn,textAttrs:u.fullParams.textAttrs,textStyles:u.fullParams.textStyles});ut(m,t)}).on("end",(s,x)=>{const e=pt({eventData:{type:"series",pluginName:i,eventName:"transitionEnd",event:s,highlightTarget:u.highlightTarget,data:u.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:1,eventFn:u.fullParams.eventFn,textAttrs:u.fullParams.textAttrs,textStyles:u.fullParams.textStyles});ut(m,e),c&&c.unsubscribe(),c=n.event$.subscribe(t=>{const g=pt({eventData:t,eventName:t.eventName,t:1,eventFn:u.fullParams.eventFn,textAttrs:u.fullParams.textAttrs,textStyles:u.fullParams.textStyles});ut(m,g)})})}),()=>{r.next(void 0)}}),Vt="PieLabels",xa=N(Vt,"text");function ha(l,i,a,n){return l.map((r,m)=>{const[c,p]=i.centroid(r),[u,s]=a.centroid(r);return{pieDatum:r,arcIndex:m,arcLabel:r.data.label,x:c*n,y:p*n,mouseoverX:u*n,mouseoverY:s*n}}).filter(r=>r.pieDatum.data.visible)}function fa(l,i,a,n){let r=l.selectAll("text").data(i,u=>u.pieDatum.id),m=r.enter().append("text").classed(xa,!0),c=r.exit();m.append("text");const p=r.merge(m);return p.attr("font-weight","bold").attr("text-anchor","middle").style("dominant-baseline","middle").style("cursor",u=>n.highlightTarget&&n.highlightTarget!="none"?"pointer":"none").text(u=>a.labelFn(u.pieDatum.data)).attr("font-size",n.styles.textSize).attr("fill",(u,s)=>gt({datum:u.pieDatum.data,colorType:a.labelColorType,fullChartParams:n})).transition().attr("transform",u=>"translate("+u.x+","+u.y+")"),c.remove(),p}function da({labelSelection:l,ids:i,fullChartParams:a}){if(l.interrupt("highlight"),!i.length){l.transition().duration(200).attr("transform",n=>"translate("+n.x+","+n.y+")").style("opacity",1);return}l.each((n,r,m)=>{const c=z(m[r]);i.includes(n.pieDatum.id)?c.style("opacity",1).transition().duration(200).attr("transform",p=>"translate("+p.mouseoverX+","+p.mouseoverY+")"):c.style("opacity",a.styles.unhighlightedOpacity).transition().duration(200).attr("transform",p=>"translate("+p.x+","+p.y+")")})}const K=Bt(Vt,Qt)(({selection:l,observer:i,subject:a})=>{const n=new G,r=l.append("g");let m=new G,c=[];return i.layout$.pipe(dt()).subscribe(p=>{l.attr("transform",`translate(${p.width/2}, ${p.height/2})`),i.layout$.pipe(d(n)).subscribe(u=>{l.transition().attr("transform",`translate(${u.width/2}, ${u.height/2})`)})}),P({layout:i.layout$,computedData:i.computedData$,fullParams:i.fullParams$,fullChartParams:i.fullChartParams$}).pipe(d(n),S(async p=>p)).subscribe(p=>{const u=p.layout.width<p.layout.height?p.layout.width:p.layout.height,s=_t({axisWidth:u,innerRadius:0,outerRadius:p.fullParams.outerRadius,padAngle:0,cornerRadius:0}),x=_t({axisWidth:u,innerRadius:0,outerRadius:p.fullParams.outerMouseoverRadius,padAngle:0,cornerRadius:0}),e=Oe({computedDataSeries:p.computedData,startAngle:p.fullParams.startAngle,endAngle:p.fullParams.endAngle});c=ha(e,s,x,p.fullParams.labelCentroid);const t=fa(r,c,p.fullParams,p.fullChartParams);m.next(t)}),P({labelSelection:m,highlight:i.seriesHighlight$,fullChartParams:i.fullChartParams$}).pipe(d(n),S(async p=>p)).subscribe(p=>{da({labelSelection:p.labelSelection,ids:p.highlight,fullChartParams:p.fullChartParams})}),()=>{n.next(void 0)}}),Y=[15,38,25,17,26,72,64,29],I=[[55,80,50,11,150],[35,40,15,65,120]],J={series:{Bubbles:{PRESET_SERIES_BASIC:{chart:X,plugins:[bt,V,$],preset:Et,data:Y},PRESET_BUBBLES_SCALING_BY_RADIUS:{chart:X,plugins:[bt,V,$],preset:fe,data:Y}},Pie:{PRESET_SERIES_BASIC:{chart:X,plugins:[q,K,V,$],preset:Et,data:Y},PRESET_PIE_WITH_INNER_LABELS:{chart:X,plugins:[q,K,V,$],preset:de,data:Y},PRESET_PIE_DONUT:{chart:X,plugins:[q,K,ma,V,$],preset:Ae,data:Y},PRESET_PIE_HALF_DONUT:{chart:X,plugins:[q,K,V,$],preset:ye,data:Y}}},grid:{Bars:{PRESET_GRID_BASIC:{chart:_,plugins:[H,F,M,R,b,$],preset:at,data:I},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:_,plugins:[H,F,M,R,b,$],preset:it,data:I},PRESET_GRID_HORIZONTAL:{chart:_,plugins:[H,F,M,R,b,$],preset:rt,data:I},PRESET_BARS_ROUND:{chart:_,plugins:[H,F,M,R,b,$],preset:De,data:I},PRESET_BARS_HORIZONTAL_AND_ROUND:{chart:_,plugins:[H,F,M,R,b,$],preset:Se,data:I},PRESET_BARS_THIN:{chart:_,plugins:[H,F,M,R,b,$],preset:$e,data:I},PRESET_BARS_HORIZONTAL_AND_THIN:{chart:_,plugins:[H,F,M,R,b,$],preset:Te,data:I}},BarStack:{PRESET_GRID_BASIC:{chart:_,plugins:[nt,F,lt,R,b,$],preset:at,data:I},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:_,plugins:[nt,F,lt,R,b,$],preset:it,data:I},PRESET_GRID_HORIZONTAL:{chart:_,plugins:[nt,F,lt,R,b,$],preset:rt,data:I}},BarsTriangle:{PRESET_GRID_BASIC:{chart:_,plugins:[st,F,M,R,b,$],preset:at,data:I},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:_,plugins:[st,F,M,R,b,$],preset:it,data:I},PRESET_GRID_HORIZONTAL:{chart:_,plugins:[st,F,M,R,b,$],preset:rt,data:I}},Lines:{PRESET_LINES_BASIC:{chart:_,plugins:[W,F,M,Z,R,b,$],preset:Pe,data:I},PRESET_LINES_ROTATE_AXIS_LABEL:{chart:_,plugins:[W,F,M,Z,R,b,$],preset:Ee,data:I},PRESET_LINES_HORIZONTAL:{chart:_,plugins:[W,F,M,Z,R,b,$],preset:Le,data:I},PRESET_LINES_CURVE:{chart:_,plugins:[W,F,M,Z,R,b,$],preset:_e,data:I},PRESET_LINES_HIGHLIGHT_GROUP_DOTS:{chart:_,plugins:[W,F,M,Z,la,R,b,$],preset:be,data:I}}}},Aa={id:"chart",style:{width:"100%",height:"100vh"}},Ia=Yt({__name:"[presetName]",setup(l){const a=jt().params,n=J[a.chartType]&&J[a.chartType][a.pluginName]&&J[a.chartType][a.pluginName][a.presetName]?J[a.chartType][a.pluginName][a.presetName]:null;return Wt(()=>{if(!n)return;const r=document.querySelector("#chart"),m=n.plugins.map(p=>new p);console.log("detail.preset",n.preset);const c=new n.chart(r,{preset:n.preset});c.plugins$.next(m),c.data$.next(n.data)}),(r,m)=>(Zt(),qt("div",Aa))}});export{Ia as default};
