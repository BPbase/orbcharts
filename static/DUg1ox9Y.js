import{J as t,$ as R,I as y,K as A,a3 as C,L as O,a8 as P,d as S,a9 as G,S as x,t as m,m as c}from"./Czm2CNpZ.js";import{i as L,e as b,f as T,h as M,j as _,k as E,l as j,m as k,n as H,p as I}from"./CgW5LUy5.js";import{i as U}from"./CB2cfhTk.js";const z=({subject:u,observer:a})=>{const e=L({computedData$:a.computedData$,fullDataFormatter$:a.fullDataFormatter$}).pipe(t(1)),$=b({computedData$:a.computedData$,fullDataFormatter$:a.fullDataFormatter$,fullChartParams$:a.fullChartParams$,layout$:a.layout$}),r=T({fullDataFormatter$:a.fullDataFormatter$,layout$:a.layout$}).pipe(t(1)),o=M({gridAxesTransform$:r}).pipe(t(1)),i=_({computedData$:a.computedData$,fullDataFormatter$:a.fullDataFormatter$,layout$:a.layout$}).pipe(t(1)),p=E({gridContainer$:$,gridAxesTransform$:r,gridGraphicTransform$:i}),s=j({fullDataFormatter$:a.fullDataFormatter$,layout$:a.layout$}).pipe(t(1)),l=a.computedData$.pipe(R(F=>F.flat())).pipe(t(1)),d=y({datumList$:l,fullChartParams$:a.fullChartParams$,event$:u.event$}).pipe(t(1)),D=k({computedData$:a.computedData$}),f=A({datumList$:l}).pipe(t(1)),g=C({datumList$:l}).pipe(t(1)),h=H({computedData$:a.computedData$}).pipe(t(1));return{fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,fullDataFormatter$:a.fullDataFormatter$,computedData$:a.computedData$,layout$:a.layout$,isSeriesPositionSeprate$:e,gridContainer$:$,gridAxesTransform$:r,gridAxesReverseTransform$:o,gridGraphicTransform$:i,gridGraphicReverseScale$:p,gridAxesSize$:s,gridHighlight$:d,existedSeriesLabels$:D,SeriesDataMap$:f,GroupDataMap$:g,visibleComputedData$:h}};class w extends O{constructor(a,e){super({defaultDataFormatter:P,computedDataFn:I,contextObserverFn:z},a,e)}}const n="GridLegend",J=S(n,G)(({selection:u,rootSelection:a,observer:e,subject:$})=>{const r=new x,o=e.SeriesDataMap$.pipe(m(r),c(s=>Array.from(s.keys()))),i=e.fullParams$.pipe(m(r),c(s=>{const l=[{listRectWidth:s.listRectWidth,listRectHeight:s.listRectHeight,listRectRadius:s.listRectRadius}];return{...s,seriesList:l}})),p=U(n,{rootSelection:a,seriesLabels$:o,fullParams$:i,layout$:e.layout$,fullChartParams$:e.fullChartParams$});return()=>{r.next(void 0),p()}});export{w as G,J as a};
