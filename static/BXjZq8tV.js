import{n as Nt,u as Ot,q as Ct,o as Mt,c as yt}from"./1oD_F2EJ.js";import{D as Ut,a as bt,S as N}from"./DpL9NPVX.js";import{G as l,a as _}from"./DUg1ox9Y.js";import{c as Ht,D as vt,m as Dt,a as wt,M as T,b as R,d as I,e as b,f as d,g as A,h as x,i as v}from"./BWrfsekJ.js";import{d as Et,D as Ft,S as G,a as kt,b as Vt,t as B,m as Pt,s as Q,p as Lt,c as tt,h as At,e as Xt,f as ot}from"./Czm2CNpZ.js";import{L as f}from"./CVEEH2B3.js";import{B as P}from"./B32CbfJ_.js";import{c as Zt}from"./BpbZ-aDY.js";import{o as zt}from"./CgW5LUy5.js";import{i as jt,c as Yt,B as O}from"./Ddu9O1Uk.js";import{c as Wt,B as C}from"./C5euzl6V.js";import{G as u,V as c}from"./DxhkDVaF.js";import{c as qt,T as s}from"./CV1EpQKa.js";import{S as p,g as w,G as Kt}from"./Dp67hGYj.js";import{g as at,a as Jt,m as gt,b as Qt}from"./CB2cfhTk.js";import{O as F}from"./CuaStOPs.js";import{B as mt}from"./BpRwkdhm.js";import{m as ta,S as M,P as k}from"./Dbk12eOU.js";import{f as ft}from"./BwnKackb.js";import{P as aa,a as ea,b as sa,c as ra,d as ia,e as na,f as et,g as st,h as rt,i as la,j as _a,k as ua,l as pa,m as V,n as X,o as Z,p as oa,q as Sa,r as ca,s as Ea,t as ga,u as ma,v as it,w as nt,x as lt,y as _t,z as Ta,A as Ra,B as da,C as ha}from"./BdBKtcgh.js";import{g as Ia}from"./Dflj-YB1.js";import"./DS2-8Vo0.js";import"./BbStV_Zy.js";import"./BKW2fktH.js";const Tt="BarsDiverging",$a=Et(Tt,Ft)(({selection:o,name:S,subject:r,observer:a})=>{const n=new G,i=Zt(Tt,{selection:o,computedData$:a.computedData$,visibleComputedData$:a.visibleComputedData$,existedSeriesLabels$:a.existedSeriesLabels$,SeriesDataMap$:a.SeriesDataMap$,GroupDataMap$:a.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:a.gridAxesTransform$,gridGraphicTransform$:a.gridGraphicTransform$,gridGraphicReverseScale$:a.gridGraphicReverseScale$,gridAxesSize$:a.gridAxesSize$,gridHighlight$:a.gridHighlight$,gridContainer$:a.gridContainer$,isSeriesPositionSeprate$:zt(!0),event$:r.event$});return()=>{n.next(void 0),i()}}),Rt="Dots",H=Et(Rt,kt)(({selection:o,name:S,subject:r,observer:a})=>{const n=new G,i=Ht(Rt,{selection:o,computedData$:a.computedData$,visibleComputedData$:a.visibleComputedData$,existedSeriesLabels$:a.existedSeriesLabels$,SeriesDataMap$:a.SeriesDataMap$,GroupDataMap$:a.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:a.gridAxesTransform$,gridGraphicTransform$:a.gridGraphicTransform$,gridGraphicReverseScale$:a.gridGraphicReverseScale$,gridAxesSize$:a.gridAxesSize$,gridHighlight$:a.gridHighlight$,gridContainer$:a.gridContainer$,event$:r.event$});return()=>{n.next(void 0),i()}}),dt="ValueStackAxis",y=Et(dt,Vt)(({selection:o,name:S,observer:r,subject:a})=>{const n=new G,i=r.computedData$.pipe(B(n),Pt(e=>{const t=new Array(e[0]?e[0].length:0).fill(null).map((D,h)=>e.reduce(($,L)=>{if(L&&L[h]){const Bt=L[h].value==null||L[h].visible==!1?0:L[h].value;return $+Bt}return $},0));return e.map((D,h)=>D.map(($,L)=>({...$,value:t[L]})))})),g=qt(dt,{selection:o,computedData$:r.isSeriesPositionSeprate$.pipe(Q(e=>jt(()=>e,r.computedData$,i))),fullParams$:r.fullParams$,fullDataFormatter$:r.fullDataFormatter$,fullChartParams$:r.fullChartParams$,gridAxesTransform$:r.gridAxesTransform$,gridAxesReverseTransform$:r.gridAxesReverseTransform$,gridAxesSize$:r.gridAxesSize$,gridContainer$:r.gridContainer$,isSeriesPositionSeprate$:r.isSeriesPositionSeprate$});return()=>{n.next(void 0),g()}}),St="MultiBarStack",ht=at(St,"grid"),z=Lt(St,vt)(({selection:o,name:S,subject:r,observer:a})=>{const n=new G,i=[];return Dt(a).subscribe(e=>{i.forEach(t=>t()),o.selectAll(`g.${ht}`).data(e).join("g").attr("class",ht).each((t,E,D)=>{const h=tt(D[E]);i[E]=Yt(St,{selection:h,computedData$:t.gridComputedData$,visibleComputedData$:t.visibleComputedData$,existedSeriesLabels$:t.existedSeriesLabels$,SeriesDataMap$:t.SeriesDataMap$,GroupDataMap$:t.GroupDataMap$,fullParams$:a.fullParams$,fullDataFormatter$:t.gridDataFormatter$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:t.gridAxesTransform$,gridGraphicTransform$:t.gridGraphicTransform$,gridGraphicReverseScale$:t.gridGraphicReverseScale$,gridAxesSize$:t.gridAxesSize$,gridHighlight$:t.gridHighlight$,gridContainer$:t.gridContainer$,isSeriesPositionSeprate$:t.isSeriesPositionSeprate$,event$:r.event$})})}),()=>{n.next(void 0),i.forEach(e=>e())}}),ct="MultiBarsTriangle",It=at(ct,"grid"),j=Lt(ct,wt)(({selection:o,name:S,subject:r,observer:a})=>{const n=new G,i=[];return Dt(a).subscribe(e=>{i.forEach(t=>t()),o.selectAll(`g.${It}`).data(e).join("g").attr("class",It).each((t,E,D)=>{const h=tt(D[E]);i[E]=Wt(ct,{selection:h,computedData$:t.gridComputedData$,visibleComputedData$:t.visibleComputedData$,existedSeriesLabels$:t.existedSeriesLabels$,SeriesDataMap$:t.SeriesDataMap$,GroupDataMap$:t.GroupDataMap$,fullParams$:a.fullParams$,fullChartParams$:a.fullChartParams$,gridAxesTransform$:t.gridAxesTransform$,gridGraphicTransform$:t.gridGraphicTransform$,gridAxesSize$:t.gridAxesSize$,gridHighlight$:t.gridHighlight$,gridContainer$:t.gridContainer$,isSeriesPositionSeprate$:t.isSeriesPositionSeprate$,event$:r.event$})})}),()=>{n.next(void 0),i.forEach(e=>e())}}),Gt="PieEventTexts",$t=at(Gt,"text");function ut(o,S){const r=o.selectAll(`text.${$t}`).data(S),a=r.enter().append("text").classed($t,!0),n=r.merge(a);return n.each((i,g,e)=>{const t=tt(e[g]).text(i.text);Object.keys(i.attr).forEach(E=>{t.attr(E,i.attr[E])}),Object.keys(i.style).forEach(E=>{t.style(E,i.style[E])})}),r.exit().remove(),n}function pt({eventData:o,eventName:S,t:r,eventFn:a,textAttrs:n,textStyles:i}){return a(o,S,r).map((e,t)=>({text:e,attr:n[t],style:i[t]}))}const Da=At(Gt,Ut)(({selection:o,name:S,observer:r,subject:a})=>{const n=new G,i=o.append("g");let g;r.layout$.pipe(ft()).subscribe(t=>{o.attr("transform",`translate(${t.width/2}, ${t.height/2})`),r.layout$.pipe(B(n)).subscribe(E=>{o.transition().attr("transform",`translate(${E.width/2}, ${E.height/2})`)})});const e=r.fullChartParams$.pipe(B(n),Pt(t=>t.highlightTarget),Xt());return ot({computedData:r.computedData$,fullParams:r.fullParams$,fullChartParams:r.fullChartParams$,highlightTarget:e}).pipe(B(n),Q(async t=>t)).subscribe(t=>{i.transition().duration(t.fullChartParams.transitionDuration).ease(Jt(t.fullChartParams.transitionEase)).tween("move",(E,D)=>h=>{const $=pt({eventData:{type:"series",pluginName:S,eventName:"transitionMove",event:E,highlightTarget:t.highlightTarget,data:t.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:h,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});ut(i,$)}).on("end",(E,D)=>{const h=pt({eventData:{type:"series",pluginName:S,eventName:"transitionEnd",event:E,highlightTarget:t.highlightTarget,data:t.computedData,series:[],seriesIndex:-1,seriesLabel:"",datum:null},eventName:"transitionMove",t:1,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});ut(i,h),g&&g.unsubscribe(),g=a.event$.subscribe($=>{const L=pt({eventData:$,eventName:$.eventName,t:1,eventFn:t.fullParams.eventFn,textAttrs:t.fullParams.textAttrs,textStyles:t.fullParams.textStyles});ut(i,L)})})}),()=>{n.next(void 0)}}),xt="PieLabels",Pa=at(xt,"text");function La(o,S,r,a){return o.map((n,i)=>{const[g,e]=S.centroid(n),[t,E]=r.centroid(n);return{pieDatum:n,arcIndex:i,arcLabel:n.data.label,x:g*a,y:e*a,mouseoverX:t*a,mouseoverY:E*a}}).filter(n=>n.pieDatum.data.visible)}function Aa(o,S,r,a){let n=o.selectAll("text").data(S,t=>t.pieDatum.id),i=n.enter().append("text").classed(Pa,!0),g=n.exit();i.append("text");const e=n.merge(i);return e.attr("font-weight","bold").attr("text-anchor","middle").style("dominant-baseline","middle").style("cursor",t=>a.highlightTarget&&a.highlightTarget!="none"?"pointer":"none").text(t=>r.labelFn(t.pieDatum.data)).attr("font-size",a.styles.textSize).attr("fill",(t,E)=>Qt({datum:t.pieDatum.data,colorType:r.labelColorType,fullChartParams:a})).transition().attr("transform",t=>"translate("+t.x+","+t.y+")"),g.remove(),e}function fa({labelSelection:o,ids:S,fullChartParams:r}){if(o.interrupt("highlight"),!S.length){o.transition().duration(200).attr("transform",a=>"translate("+a.x+","+a.y+")").style("opacity",1);return}o.each((a,n,i)=>{const g=tt(i[n]);S.includes(a.pieDatum.id)?g.style("opacity",1).transition().duration(200).attr("transform",e=>"translate("+e.mouseoverX+","+e.mouseoverY+")"):g.style("opacity",r.styles.unhighlightedOpacity).transition().duration(200).attr("transform",e=>"translate("+e.x+","+e.y+")")})}const Y=At(xt,bt)(({selection:o,observer:S,subject:r})=>{const a=new G,n=o.append("g");let i=new G,g=[];return S.layout$.pipe(ft()).subscribe(e=>{o.attr("transform",`translate(${e.width/2}, ${e.height/2})`),S.layout$.pipe(B(a)).subscribe(t=>{o.transition().attr("transform",`translate(${t.width/2}, ${t.height/2})`)})}),ot({layout:S.layout$,computedData:S.computedData$,fullParams:S.fullParams$,fullChartParams:S.fullChartParams$}).pipe(B(a),Q(async e=>e)).subscribe(e=>{const t=e.layout.width<e.layout.height?e.layout.width:e.layout.height,E=gt({axisWidth:t,innerRadius:0,outerRadius:e.fullParams.outerRadius,padAngle:0,cornerRadius:0}),D=gt({axisWidth:t,innerRadius:0,outerRadius:e.fullParams.outerMouseoverRadius,padAngle:0,cornerRadius:0}),h=ta({computedDataSeries:e.computedData,startAngle:e.fullParams.startAngle,endAngle:e.fullParams.endAngle});g=La(h,E,D,e.fullParams.labelCentroid);const $=Aa(n,g,e.fullParams,e.fullChartParams);i.next($)}),ot({labelSelection:i,highlight:S.seriesHighlight$,fullChartParams:S.fullChartParams$}).pipe(B(a),Q(async e=>e)).subscribe(e=>{fa({labelSelection:e.labelSelection,ids:e.highlight,fullChartParams:e.fullChartParams})}),()=>{a.next(void 0)}}),U=[15,38,25,17,26,72,64,29],m=[[55,80,50,11,150],[35,40,15,65,120]],W=[[55,80,50,11,150],[35,40,15,65,120],[75,90,600,50,120]],q=[[[1205,850,930,1111,1500],[735,900,880,1035,1120]],[[555,805,500,1150,1050],[1350,840,915,650,1200]],[[1200,1100,950,1105,850],[750,650,980,850,700]]],K=[[[1205,850,930,1111,1500],[735,900,880,1035,1120]],[[555,805,500,1150,1050],[1350,840,915,650,1200]],[[1200,1100,950,1105,850],[750,650,980,850,700]],[[680,880,770,330,710],[540,480,820,780,600]]],J={series:{Bubbles:{PRESET_BUBBLES_BASIC:{chart:N,plugins:[mt,M,s],preset:aa,data:U},PRESET_BUBBLES_SCALING_BY_RADIUS:{chart:N,plugins:[mt,M,s],preset:ea,data:U}},Pie:{PRESET_PIE_BASIC:{chart:N,plugins:[k,Y,M,s],preset:sa,data:U},PRESET_PIE_WITH_INNER_LABELS:{chart:N,plugins:[k,Y,M,s],preset:ra,data:U},PRESET_PIE_DONUT:{chart:N,plugins:[k,Y,Da,M,s],preset:ia,data:U},PRESET_PIE_HALF_DONUT:{chart:N,plugins:[k,Y,M,s],preset:na,data:U}}},grid:{Bars:{PRESET_GRID_BASIC:{chart:l,plugins:[u,c,P,p,_,s],preset:et,data:m},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,c,P,p,_,s],preset:st,data:m},PRESET_GRID_HORIZONTAL:{chart:l,plugins:[u,c,P,p,_,s],preset:rt,data:m},PRESET_BARS_ROUND:{chart:l,plugins:[u,c,P,p,_,s],preset:la,data:m},PRESET_BARS_HORIZONTAL_AND_ROUND:{chart:l,plugins:[u,c,P,p,_,s],preset:_a,data:m},PRESET_BARS_THIN:{chart:l,plugins:[u,c,P,p,_,s],preset:ua,data:m},PRESET_BARS_HORIZONTAL_AND_THIN:{chart:l,plugins:[u,c,P,p,_,s],preset:pa,data:m},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,c,P,p,_,s],preset:V,data:m},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,c,P,p,_,s],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,c,P,p,_,s],preset:Z,data:w}},BarsDiverging:{PRESET_GRID_DIVERGING_SCALE:{chart:l,plugins:[u,c,$a,p,_,s],preset:oa,data:Ia}},BarStack:{PRESET_GRID_BASIC:{chart:l,plugins:[u,y,O,p,_,s],preset:et,data:m},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,y,O,p,_,s],preset:st,data:m},PRESET_GRID_HORIZONTAL:{chart:l,plugins:[u,y,O,p,_,s],preset:rt,data:m},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,y,O,p,_,s],preset:V,data:m},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,y,O,p,_,s],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,y,O,p,_,s],preset:Z,data:w}},BarsTriangle:{PRESET_GRID_BASIC:{chart:l,plugins:[u,c,C,p,_,s],preset:et,data:m},PRESET_GRID_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,c,C,p,_,s],preset:st,data:m},PRESET_GRID_HORIZONTAL:{chart:l,plugins:[u,c,C,p,_,s],preset:rt,data:m},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,c,C,p,_,s],preset:V,data:m},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,c,C,p,_,s],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,c,C,p,_,s],preset:Z,data:w}},Lines:{PRESET_LINES_BASIC:{chart:l,plugins:[u,c,f,H,p,_,s],preset:Sa,data:m},PRESET_LINES_ROTATE_AXIS_LABEL:{chart:l,plugins:[u,c,f,H,p,_,s],preset:ca,data:m},PRESET_LINES_HORIZONTAL:{chart:l,plugins:[u,c,f,H,p,_,s],preset:Ea,data:m},PRESET_LINES_CURVE:{chart:l,plugins:[u,c,f,H,p,_,s],preset:ga,data:m},PRESET_LINES_HIGHLIGHT_GROUP_DOTS:{chart:l,plugins:[u,c,f,H,Kt,p,_,s],preset:ma,data:m},PRESET_GRID_2_SERIES_SLOT:{chart:l,plugins:[u,c,f,p,_,s],preset:V,data:m},PRESET_GRID_3_SERIES_SLOT:{chart:l,plugins:[u,c,f,p,_,s],preset:X,data:W},PRESET_GRID_4_SERIES_SLOT:{chart:l,plugins:[u,c,f,p,_,s],preset:Z,data:w}}},multiGrid:{MultiBars:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:T,plugins:[R,I,b,d,s],preset:it,data:A},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:T,plugins:[R,I,b,d,s],preset:nt,data:q},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:T,plugins:[R,I,b,d,s],preset:lt,data:K},PRESET_MULTI_GRID_BASIC:{chart:T,plugins:[R,F,b,x,v,d,s],preset:_t,data:A},PRESET_MULTI_GRID_ROUND_STYLE:{chart:T,plugins:[R,F,b,x,v,d,s],preset:Ta,data:A}},MultiBarStack:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:T,plugins:[R,I,z,d,s],preset:it,data:A},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:T,plugins:[R,I,z,d,s],preset:nt,data:q},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:T,plugins:[R,I,z,d,s],preset:lt,data:K},PRESET_MULTI_GRID_BASIC:{chart:T,plugins:[R,F,z,x,v,d,s],preset:_t,data:A}},MultiBarsTriangle:{PRESET_MULTI_GRID_2_GRID_SLOT:{chart:T,plugins:[R,I,j,d,s],preset:it,data:A},PRESET_MULTI_GRID_3_GRID_SLOT:{chart:T,plugins:[R,I,j,d,s],preset:nt,data:q},PRESET_MULTI_GRID_4_GRID_SLOT:{chart:T,plugins:[R,I,j,d,s],preset:lt,data:K},PRESET_MULTI_GRID_BASIC:{chart:T,plugins:[R,F,j,x,v,d,s],preset:_t,data:A}},MultiLines:{PRESET_MULTI_LINES_2_GRID_SLOT:{chart:T,plugins:[R,I,x,d,s],preset:Ra,data:A},PRESET_MULTI_LINES_3_GRID_SLOT:{chart:T,plugins:[R,I,x,d,s],preset:da,data:q},PRESET_MULTI_LINES_4_GRID_SLOT:{chart:T,plugins:[R,I,x,d,s],preset:ha,data:K}}}},Ga={id:"chart",style:{width:"100%",height:"100vh"}},Qa=Nt({__name:"[presetName]",setup(o){const r=Ot().params,a=J[r.chartType]&&J[r.chartType][r.pluginName]&&J[r.chartType][r.pluginName][r.presetName]?J[r.chartType][r.pluginName][r.presetName]:null;return Ct(()=>{if(!a)return;const n=document.querySelector("#chart"),i=a.plugins.map(e=>new e),g=new a.chart(n,{preset:a.preset});g.plugins$.next(i),g.data$.next(a.data)}),(n,i)=>(Mt(),yt("div",Ga))}});export{Qa as default};
