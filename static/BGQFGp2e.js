import{C as _,a as V,p as lt,k as D,t as f,l as S,m as d,b as rt,d as O,a9 as st,r as ct,s as M,bG as ut,bg as yt,aV as pt,b0 as xt,u as Z,g as F,ai as mt,bb as gt,bc as W,bd as R,be as ht,bf as ft,bq as $t,bp as dt,aj as Tt,j as At,bh as q,bi as K,ak as St,bj as bt,aT as Dt,bk as Ct}from"./Cc0KHcL0.js";import{m as tt,d as Pt,e as Lt,c as kt}from"./B9Xde_Gs.js";import{f as Mt}from"./2XqyCpLW.js";import{m as Q}from"./PF0ULQt1.js";import{d as Bt}from"./CmQl-9dD.js";import{o as v}from"./DYxtxmRw.js";const k="ScatterBubbles",Xt=.9,Ft={name:k,defaultParams:st,layerIndex:ct,validator:(l,{validateColumns:s})=>s(l,{fillColorType:{toBeOption:"ColorType"},strokeColorType:{toBeOption:"ColorType"},strokeWidth:{toBeTypes:["number"]},valueLinearOpacity:{toBeTypes:["number[]"]},arcScaleType:{toBe:"ArcScaleType",test:n=>n==="area"||n==="radius"},sizeAdjust:{toBeTypes:["number"]}})};function Rt({graphicGSelection:l,circleGClassName:s,circleClassName:o,bubbleData:n,fullParams:a,fullChartParams:r,graphicReverseScale:y}){const m=x=>{const i=x.size();return r.transitionDuration/i};let p=0;return l.each((x,i,g)=>{M(g[i]).selectAll("g").data(n[i],c=>c.id).join(c=>(p=m(c),c.append("g").classed(s,!0)),c=>c,c=>c.remove()).attr("transform",c=>`translate(${c.axisX}, ${c.axisY})`).each((c,b,C)=>{M(C[b]).selectAll("circle").data([c]).join(t=>t.append("circle").style("cursor","pointer").style("vector-effect","non-scaling-stroke").classed(o,!0).attr("opacity",0).transition().delay((A,T)=>b*p).attr("opacity",.8),t=>t.transition().duration(50).attr("opacity",.8),t=>t.remove()).attr("r",t=>t.r).attr("fill",(t,A)=>Z({datum:t,colorType:a.fillColorType,fullChartParams:r})).attr("stroke",(t,A)=>Z({datum:t,colorType:a.strokeColorType,fullChartParams:r})).attr("stroke-width",a.strokeWidth).attr("transform",`scale(${y[i][0]??1}, ${y[i][1]??1})`)})}),l.selectAll(`circle.${o}`)}function Ot({selection:l,ids:s,fullChartParams:o}){if(l.interrupt("highlight"),!s.length){l.transition("highlight").duration(200).style("opacity",n=>n.opacity);return}l.each((n,a,r)=>{s.includes(n.id)?M(r[a]).style("opacity",m=>m.opacity).transition("highlight").duration(200):M(r[a]).style("opacity",o.styles.unhighlightedOpacity).transition("highlight").duration(200)})}function Yt({defsSelection:l,clipPathData:s}){l.selectAll("clipPath").data(s).join(o=>o.append("clipPath"),o=>o,o=>o.remove()).attr("id",o=>o.id).each((o,n,a)=>{M(a[n]).selectAll("rect").data([o]).join("rect").attr("x",0).attr("y",0).attr("width",r=>r.width).attr("height",r=>r.height)})}const le=_(Ft)(({selection:l,name:s,subject:o,observer:n})=>{const a=new V,r=lt(k,"clipPath-box"),y=F(k,"circleG"),m=F(k,"circle"),{categorySelection$:p,axesSelection$:u,defsSelection$:x,graphicGSelection$:i}=tt({selection:l,pluginName:k,clipPathID:r,categoryLabels$:n.categoryLabels$,containerPosition$:n.containerPosition$,graphicTransform$:n.graphicTransform$}),g=D({computedData:n.computedData$,graphicReverseScale:n.graphicReverseScale$}).pipe(f(a),S(async e=>e),d(e=>e.computedData.map(($,h)=>e.graphicReverseScale[h])));D({defsSelection:x,layout:n.layout$}).pipe(f(a),S(async e=>e)).subscribe(e=>{const $=[{id:r,width:e.layout.width,height:e.layout.height}];Yt({defsSelection:e.defsSelection,clipPathData:$})});const c=n.filteredXYMinMaxData$.pipe(f(a),d(e=>e.datumList.flat().map($=>$.value[2]??0)),rt(1)),b=n.filteredXYMinMaxData$.pipe(f(a),d(e=>ut(e.datumList.flat().map($=>$.value[2]??0)))),C=D({filteredMinMaxValue:b,fullParams:n.fullParams$}).pipe(f(a),S(async e=>e),d(e=>yt().domain(e.filteredMinMaxValue).range(e.fullParams.valueLinearOpacity))),t=D({layout:n.layout$,fullParams:n.fullParams$}).pipe(f(a),d(e=>Math.min(e.layout.width,e.layout.height)/2*e.fullParams.sizeAdjust)),A=c.pipe(f(a),d(e=>e.reduce(($,h)=>$+h,0)),Mt(e=>e>0)),T=D({totalR:t,totalValue:A,fullParams:n.fullParams$}).pipe(f(a),S(async e=>e),d(e=>pt().domain([0,e.totalValue]).range([0,e.totalR]).exponent(e.fullParams.arcScaleType==="area"?.5:1))),P=D({radiusScale:T,fullParams:n.fullParams$,totalR:t,filteredValueList:c}).pipe(f(a),S(async e=>e),d(e=>e.fullParams.arcScaleType==="area"?1:(()=>{const $=e.totalR*e.totalR*Math.PI;return Math.sqrt($/xt(e.filteredValueList,h=>Math.PI*Math.pow(e.radiusScale(h),2)))})())),B=D({visibleComputedXYData:n.visibleComputedXYData$,opacityScale:C,radiusScale:T,scaleFactor:P,fullParams:n.fullParams$}).pipe(f(a),S(async e=>e),d(e=>e.visibleComputedXYData.map($=>$.map(h=>{const X=h;return X.r=e.radiusScale(X.value[2])*e.scaleFactor*Xt,X.opacity=e.opacityScale(X.value[2]),X})))),L=D({graphicGSelection:i,bubbleData:B,graphicReverseScale:g,fullChartParams:n.fullChartParams$,fullParams:n.fullParams$}).pipe(f(a),S(async e=>e),d(e=>Rt({graphicGSelection:e.graphicGSelection,circleGClassName:y,circleClassName:m,bubbleData:e.bubbleData,fullParams:e.fullParams,fullChartParams:e.fullChartParams,graphicReverseScale:e.graphicReverseScale}))),Y=n.fullChartParams$.pipe(f(a),d(e=>e.highlightTarget),O());return D({graphicSelection:L,computedData:n.computedData$,CategoryDataMap:n.CategoryDataMap$,highlightTarget:Y}).pipe(f(a),S(async e=>e)).subscribe(e=>{e.graphicSelection.on("mouseover",($,h)=>{o.event$.next({type:"multiValue",eventName:"mouseover",pluginName:k,highlightTarget:e.highlightTarget,datum:h,category:e.CategoryDataMap.get(h.categoryLabel),categoryIndex:h.categoryIndex,categoryLabel:h.categoryLabel,data:e.computedData,event:$})}).on("mousemove",($,h)=>{o.event$.next({type:"multiValue",eventName:"mousemove",pluginName:k,highlightTarget:e.highlightTarget,datum:h,category:e.CategoryDataMap.get(h.categoryLabel),categoryIndex:h.categoryIndex,categoryLabel:h.categoryLabel,data:e.computedData,event:$})}).on("mouseout",($,h)=>{o.event$.next({type:"multiValue",eventName:"mouseout",pluginName:k,highlightTarget:e.highlightTarget,datum:h,category:e.CategoryDataMap.get(h.categoryLabel),categoryIndex:h.categoryIndex,categoryLabel:h.categoryLabel,data:e.computedData,event:$})}).on("click",($,h)=>{o.event$.next({type:"multiValue",eventName:"click",pluginName:k,highlightTarget:e.highlightTarget,datum:h,category:e.CategoryDataMap.get(h.categoryLabel),categoryIndex:h.categoryIndex,categoryLabel:h.categoryLabel,data:e.computedData,event:$})})}),D({graphicSelection:L,highlight:n.highlight$.pipe(d(e=>e.map($=>$.id))),fullChartParams:n.fullChartParams$}).pipe(f(a),S(async e=>e)).subscribe(e=>{Ot({selection:e.graphicSelection,ids:e.highlight,fullChartParams:e.fullChartParams})}),()=>{a.next(void 0)}}),I="XYAux",H=F(I,"label-box"),wt={name:I,defaultParams:mt,layerIndex:gt,validator:(l,{validateColumns:s})=>{const o=s(l,{xAxis:{toBeTypes:["object"]},yAxis:{toBeTypes:["object"]}});if(l.xAxis){const n=s(l.xAxis,{showLine:{toBeTypes:["boolean"]},showLabel:{toBeTypes:["boolean"]},lineDashArray:{toBeTypes:["string"]},lineColorType:{toBeOption:"ColorType"},labelColorType:{toBeOption:"ColorType"},labelTextColorType:{toBeOption:"ColorType"},labelTextFormat:{toBeTypes:["string","Function"]},labelPadding:{toBeTypes:["number"]}});if(n.status==="error")return n}if(l.yAxis){const n=s(l.yAxis,{showLine:{toBeTypes:["boolean"]},showLabel:{toBeTypes:["boolean"]},lineDashArray:{toBeTypes:["string"]},lineColorType:{toBeOption:"ColorType"},labelColorType:{toBeOption:"ColorType"},labelTextColorType:{toBeOption:"ColorType"},labelTextFormat:{toBeTypes:["string","Function"]},labelPadding:{toBeTypes:["number"]}});if(n.status==="error")return n}return o}};function zt({axisX:l,axisY:s,layout:o,fullParams:n}){return l>=0&&l<=o.width&&s>=0&&s<=o.height?[{id:"line-x",x1:l,x2:l,y1:0,y2:o.height,dashArray:n.xAxis.lineDashArray??"none",colorType:n.xAxis.lineColorType},{id:"line-0",x1:0,x2:o.width,y1:s,y2:s,dashArray:n.yAxis.lineDashArray??"none",colorType:n.yAxis.lineColorType}]:[]}function Vt({axisX:l,axisY:s,xValue:o,yValue:n,fullParams:a,textSizePx:r,layout:y,columnAmount:m,rowAmount:p}){if(!(l>=0&&l<=y.width&&s>=0&&s<=y.height))return[];const u=6,x=3,i=l,g=y.height+a.xAxis.labelPadding*p,c=W(o,a.xAxis.labelTextFormat),b=c.split(`
`),C=b.reduce((w,z)=>z.length>w.length?z:w,""),t=Q(C,r),A=r*b.length,T=t+u*2,P=A+x*2,B=-T/2,L=-x,Y=B+u,e=L+x,$=-(a.yAxis.labelPadding*m),h=s,X=W(n,a.yAxis.labelTextFormat),N=X.split(`
`),et=N.reduce((w,z)=>z.length>w.length?z:w,""),j=Q(et,r),E=r*N.length,at=j+u*2,it=E+x*2,G=-j-u,J=-x-E/2,ot=G+u,nt=J+x;return[{id:"label-x",x:i,y:g,text:c,textArr:b,textWidth:t,textHeight:A,colorType:a.xAxis.labelColorType,textColorType:a.xAxis.labelTextColorType,rectWidth:T,rectHeight:P,rectX:B,rectY:L,textX:Y,textY:e},{id:"label-y",x:$,y:h,text:X,textArr:N,textWidth:j,textHeight:E,colorType:a.yAxis.labelColorType,textColorType:a.xAxis.labelTextColorType,rectWidth:at,rectHeight:it,rectX:G,rectY:J,textX:ot,textY:nt}]}function It({selection:l,pluginName:s,lineData:o,fullParams:n,fullChartParams:a}){const r=F(s,"auxline");return l.selectAll(`line.${r}`).data(o).join(m=>m.append("line").classed(r,!0).style("stroke-width",1).style("pointer-events","none").style("vector-effect","non-scaling-stroke").attr("x1",p=>p.x1).attr("y1",p=>p.y1).attr("x2",p=>p.x2).attr("y2",p=>p.y2),m=>m.transition().duration(50).attr("x1",u=>u.x1).attr("y1",u=>u.y1).attr("x2",u=>u.x2).attr("y2",u=>u.y2),m=>m.remove()).style("stroke",m=>R(m.colorType,a)).style("stroke-dasharray",m=>m.dashArray)}function _t(l){l.selectAll("line").data([]).exit().remove()}function Nt({selection:l,labelData:s,fullParams:o,fullDataFormatter:n,fullChartParams:a,textReverseTransform:r,textSizePx:y}){return l.selectAll(`g.${H}`).data(s).join(p=>p.append("g").classed(H,!0).style("cursor","pointer").attr("transform",(u,x)=>`translate(${u.x}, ${u.y})`),p=>p.transition().duration(50).attr("transform",(x,i)=>`translate(${x.x}, ${x.y})`),p=>p.remove()).each((p,u,x)=>{M(x[u]).selectAll("rect").data([p]).join(i=>i.append("rect").style("cursor","pointer").attr("rx",5).attr("ry",5),i=>i,i=>i.remove()).attr("width",i=>`${i.rectWidth}px`).attr("height",i=>`${i.rectHeight}px`).attr("fill",i=>R(i.colorType,a)).attr("x",i=>i.rectX).attr("y",i=>i.rectY).style("transform",r),M(x[u]).selectAll("text").data([p]).join(i=>i.append("text").style("dominant-baseline","hanging").style("cursor","pointer").style("pointer-events","none"),i=>i,i=>i.remove()).style("transform",r).attr("fill",i=>R(i.textColorType,a)).attr("font-size",a.styles.textSize).attr("x",i=>i.textX).attr("y",i=>i.textY).each((i,g,c)=>{ht(M(c[g]),{textArr:p.textArr,textSizePx:y,groupAxisPosition:g===0?"bottom":"left",isContainerRotated:!1})})})}function jt(l){l.selectAll(`g.${H}`).data([]).exit().remove()}const re=_(wt)(({selection:l,rootSelection:s,name:o,subject:n,observer:a})=>{const r=new V,y=s.insert("rect","g").classed(F(I,"rect"),!0).attr("opacity",0),{categorySelection$:m,axesSelection$:p,defsSelection$:u,graphicGSelection$:x}=tt({selection:l,pluginName:I,clipPathID:"test",categoryLabels$:a.isCategorySeprate$.pipe(S(t=>ft(()=>t,a.categoryLabels$,a.categoryLabels$.pipe(d(A=>[A[0]]))))),containerPosition$:a.containerPosition$,graphicTransform$:a.graphicTransform$});a.layout$.pipe(f(r)).subscribe(t=>{y.attr("width",t.rootWidth).attr("height",t.rootHeight)});const i=a.containerPosition$.pipe(d(t=>t.reduce((T,P)=>P.columnIndex>T?P.columnIndex:T,0)+1),O()),g=a.containerPosition$.pipe(d(t=>t.reduce((T,P)=>P.rowIndex>T?P.rowIndex:T,0)+1),O()),c=a.containerPosition$.pipe(f(r),S(async t=>t),d(t=>`${`scale(${1/t[0].scale[0]}, ${1/t[0].scale[1]})`}`),O()),b=Pt({rootSelection:s,fullDataFormatter$:a.fullDataFormatter$,filteredXYMinMaxData$:a.filteredXYMinMaxData$,containerPosition$:a.containerPosition$,layout$:a.layout$}).pipe(f(r));D({axesSelection:p,layout:a.layout$,xyPosition:b,fullParams:a.fullParams$,fullDataFormatter:a.fullDataFormatter$,fullChartParams:a.fullChartParams$,textReverseTransform:c,textSizePx:a.textSizePx$,columnAmount:i,rowAmount:g}).pipe(f(r),S(async t=>t)).subscribe(t=>{const{x:A,y:T,xValue:P,yValue:B}=t.xyPosition,L=zt({axisX:A,axisY:T,layout:t.layout,fullParams:t.fullParams});It({selection:t.axesSelection,pluginName:o,lineData:L,fullParams:t.fullParams,fullChartParams:t.fullChartParams});const Y=Vt({axisX:A,axisY:T,xValue:P,yValue:B,fullParams:t.fullParams,textSizePx:t.textSizePx,layout:t.layout,columnAmount:t.columnAmount,rowAmount:t.rowAmount});Nt({selection:t.axesSelection,labelData:Y,fullParams:t.fullParams,fullDataFormatter:t.fullDataFormatter,fullChartParams:t.fullChartParams,textReverseTransform:t.textReverseTransform,textSizePx:t.textSizePx})});const C=Bt(y,"mouseout").pipe(f(r));return D({rootRectMouseout:C,axesSelection:p}).pipe(f(r),S(async t=>t)).subscribe(t=>{setTimeout(()=>{_t(t.axesSelection),jt(t.axesSelection)})}),()=>{r.next(void 0),y.remove()}}),Et=6,Wt="end",Ht="middle",Ut="end",Gt="auto";function Jt({selection:l,yLabelClassName:s,fullParams:o,containerSize:n,fullDataFormatter:a,fullChartParams:r}){const y=o.tickPadding-o.labelOffset[0],m=o.tickPadding+o.labelOffset[1];let p=-y,u=-m;l.selectAll(`g.${s}`).data([o]).join("g").classed(s,!0).each((x,i,g)=>{M(g[i]).selectAll("text").data([x]).join(c=>c.append("text").style("font-weight","bold"),c=>c,c=>c.remove()).attr("text-anchor",Ut).attr("dominant-baseline",Gt).attr("font-size",r.styles.textSize).style("fill",R(o.labelColorType,r)).attr("x",p).attr("y",u).text(c=>a.yAxis.label)})}function Zt({selection:l,yAxisClassName:s,fullParams:o,containerSize:n,fullDataFormatter:a,fullChartParams:r,yScale:y}){const m=l.selectAll(`g.${s}`).data([o]).join("g").classed(s,!0);let p=o.tickPadding;const u=$t(y).scale(y).ticks(o.ticks).tickFormat(i=>W(i,o.tickFormat)).tickSize(o.tickFullLine==!0?-n.width:Et).tickPadding(p),x=m.transition().duration(100).ease(dt).call(u);return x.selectAll("line").style("fill","none").style("stroke",o.tickLineVisible==!0?R(o.tickColorType,r):"none").style("stroke-dasharray",o.tickFullLineDasharray).attr("pointer-events","none"),x.selectAll("path").style("fill","none").style("stroke",o.axisLineVisible==!0?R(o.axisLineColorType,r):"none").style("shape-rendering","crispEdges"),m.selectAll("text").attr("font-size",r.styles.textSize).style("color",R(o.tickTextColorType,r)).attr("text-anchor",Wt).attr("dominant-baseline",Ht).attr("x",-p).attr("dy",0),m}const qt=(l,{selection:s,computedData$:o,fullParams$:n,fullDataFormatter$:a,fullChartParams$:r,isCategorySeprate$:y,containerPosition$:m,containerSize$:p,yScale$:u})=>{const x=new V,i=F(l,"yAxisG"),g=F(l,"yAxis"),c=F(l,"yLabel"),C=Lt({selection:s,pluginName:l,clipPathID:null,computedData$:o,containerPosition$:m,isCategorySeprate$:y}).pipe(f(x)).pipe(f(x),d((t,A)=>t.selectAll(`g.${i}`).data([i]).join("g").classed(i,!0)));return D({axisSelection:C,fullParams:n,computedData:o,containerSize:p,fullDataFormatter:a,fullChartParams:r,yScale:u}).pipe(f(x),S(async t=>t)).subscribe(t=>{Zt({selection:t.axisSelection,yAxisClassName:g,fullParams:t.fullParams,containerSize:t.containerSize,fullDataFormatter:t.fullDataFormatter,fullChartParams:t.fullChartParams,yScale:t.yScale}),Jt({selection:t.axisSelection,yLabelClassName:c,fullParams:t.fullParams,containerSize:t.containerSize,fullDataFormatter:t.fullDataFormatter,fullChartParams:t.fullChartParams})}),()=>{x.next(void 0)}},U="XYAxes",Kt={name:U,defaultParams:Tt,layerIndex:At,validator:(l,{validateColumns:s})=>{const o=s(l,{xAxis:{toBeTypes:["object"]},yAxis:{toBeTypes:["object"]}});if(l.xAxis){const n=s(l.xAxis,{labelOffset:{toBe:"[number, number]",test:a=>Array.isArray(a)&&a.length===2&&typeof a[0]=="number"&&typeof a[1]=="number"},labelColorType:{toBeOption:"ColorType"},axisLineVisible:{toBeTypes:["boolean"]},axisLineColorType:{toBeOption:"ColorType"},ticks:{toBeTypes:["number","null"]},tickFormat:{toBeTypes:["string","Function"]},tickLineVisible:{toBeTypes:["boolean"]},tickPadding:{toBeTypes:["number"]},tickFullLine:{toBeTypes:["boolean"]},tickFullLineDasharray:{toBeTypes:["string"]},tickColorType:{toBeOption:"ColorType"},tickTextColorType:{toBeOption:"ColorType"}});if(n.status==="error")return n}if(l.yAxis){const n=s(l.yAxis,{labelOffset:{toBe:"[number, number]",test:a=>Array.isArray(a)&&a.length===2&&typeof a[0]=="number"&&typeof a[1]=="number"},labelColorType:{toBeOption:"ColorType"},axisLineVisible:{toBeTypes:["boolean"]},axisLineColorType:{toBeOption:"ColorType"},ticks:{toBeTypes:["number","null"]},tickFormat:{toBeTypes:["string","Function"]},tickLineVisible:{toBeTypes:["boolean"]},tickPadding:{toBeTypes:["number"]},tickFullLine:{toBeTypes:["boolean"]},tickFullLineDasharray:{toBeTypes:["string"]},tickColorType:{toBeOption:"ColorType"},tickTextColorType:{toBeOption:"ColorType"}});if(n.status==="error")return n}return o}},se=_(Kt)(({selection:l,name:s,observer:o,subject:n})=>{const a=new V,r=o.fullParams$.pipe(f(a),d(u=>u.xAxis),O((u,x)=>JSON.stringify(u)===JSON.stringify(x))),y=o.fullParams$.pipe(f(a),d(u=>u.xAxis),O((u,x)=>JSON.stringify(u)===JSON.stringify(x))),m=kt(`${U}-x`,{selection:l,position$:v("bottom"),transitionDuration$:v(100),computedData$:o.computedData$,fullParams$:r,fullDataFormatter$:o.fullDataFormatter$,fullChartParams$:o.fullChartParams$,isCategorySeprate$:o.isCategorySeprate$,containerPosition$:o.containerPosition$,containerSize$:o.containerSize$,xScale$:o.xScale$}),p=qt(`${U}-y`,{selection:l,computedData$:o.computedData$,fullParams$:y,fullDataFormatter$:o.fullDataFormatter$,fullChartParams$:o.fullChartParams$,isCategorySeprate$:o.isCategorySeprate$,containerPosition$:o.containerPosition$,containerSize$:o.containerSize$,yScale$:o.yScale$});return()=>{a.next(void 0),m(),p()}}),Qt="XZoom",vt={name:Qt,defaultParams:St,layerIndex:bt,validator:(l,{validateColumns:s})=>({status:"success",columnName:"",expectToBe:""})},ce=_(vt)(({selection:l,rootSelection:s,name:o,observer:n,subject:a})=>{const r=new V;let y={k:1,x:0,y:0};const m=n.fullDataFormatter$.pipe(d(i=>i.xAxis),q()),p=n.fullDataFormatter$.pipe(d(i=>i.yAxis),q()),u=new Dt(i=>{D({initXAxis:m,layout:n.layout$,xyMinMax:n.xyMinMax$}).pipe(f(r),S(async g=>g)).subscribe(g=>{const c=Ct({maxValue:g.xyMinMax.maxX,minValue:g.xyMinMax.minX,axisWidth:g.layout.width,scaleDomain:g.initXAxis.scaleDomain,scaleRange:g.initXAxis.scaleRange});i.next(c)})}),x=D({initXAxis:m,initYAxis:p,xyMinMax:n.xyMinMax$}).pipe(f(r),S(async i=>i),d(i=>{let g=i.xyMinMax.minX,c=i.xyMinMax.maxX,b=i.xyMinMax.minY,C=i.xyMinMax.maxY;return i.initXAxis.scaleDomain[0]==="auto"&&g>0&&(g=0),i.initXAxis.scaleDomain[1]==="auto"&&c<0&&(c=0),i.initYAxis.scaleDomain[0]==="auto"&&b>0&&(b=0),i.initYAxis.scaleDomain[1]==="auto"&&C<0&&(C=0),{minX:g,maxX:c,minY:b,maxY:C}}));return D({initXScale:u,fullDataFormatter:n.fullDataFormatter$,minMaxScaleDomain:x}).pipe(f(r),S(async i=>i)).subscribe(i=>{const g=i.initXScale.copy(),c=K().on("zoom",function(C){const t=C.transform,A=B=>{const L=Math.round(B);return Math.min(i.minMaxScaleDomain.maxX,Math.max(i.minMaxScaleDomain.minX,L))},T=t.rescaleX(g).domain().map(A);T[0]<=i.minMaxScaleDomain.minX&&T[1]>=i.minMaxScaleDomain.maxX?t.k<y.k&&(t.k=y.k,t.x=y.x,t.y=y.y):T[1]-T[0]<=1&&t.k>y.k&&(t.k=y.k,t.x=y.x,t.y=y.y),y.k=t.k,y.x=t.x,y.y=t.y;const P={...i.fullDataFormatter,xAxis:{...i.fullDataFormatter.xAxis,scaleDomain:T}};a.dataFormatter$.next(P)});s.call(c)}),()=>{r.next(void 0),s.call(K().on("zoom",null))}});export{le as S,re as X,se as a,ce as b};
